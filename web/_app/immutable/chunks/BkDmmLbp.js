import{e as N,i as h,j as b,E as L,D as R,F as D,u as F,G as T,I as d,h as E,k as A,l as g,U as o,J as q,K as v,L as x,M,S as O}from"./CF1GH9sA.js";function Y(a,f,e=!1){h&&b();var i=a,r=null,s=null,l=o,S=e?L:0,c=!1;const k=(n,t=!0)=>{c=!0,u(t,n)},u=(n,t)=>{if(l===(l=n))return;let _=!1;if(h){const y=i.data===R;!!l===y&&(i=D(),F(i),T(!1),_=!0)}l?(r?d(r):t&&(r=E(()=>t(i))),s&&A(s,()=>{s=null})):(s?d(s):t&&(s=E(()=>t(i))),r&&A(r,()=>{r=null})),_&&T(!0)};N(()=>{c=!1,f(k),c||u(null,null)},S),h&&(i=g)}function I(a,f){return a===f||(a==null?void 0:a[O])===f}function j(a={},f,e,i){return q(()=>{var r,s;return v(()=>{r=s,s=[],x(()=>{a!==e(...s)&&(f(a,...s),r&&I(e(...r),a)&&f(null,...r))})}),()=>{M(()=>{s&&I(e(...s),a)&&f(null,...s)})}}),a}export{j as b,Y as i};
