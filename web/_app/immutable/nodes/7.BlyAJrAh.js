import{c as B,a as i,t as p}from"../chunks/Ba6f_k1z.js";import{f as N,p as ie,a as le,g as t,b as f,d as b,K as y,c as o,s as c,r as n,t as q,M as de}from"../chunks/Cv7UCrFh.js";import{e as ce,s as ve,b as pe,c as me,a as A}from"../chunks/fp9KA_BU.js";import{l as D,s as F,i as w,p as k}from"../chunks/jRjPTDTc.js";import{g as ue}from"../chunks/DCke_dV7.js";import{I as G,B as fe,d as _e}from"../chunks/CK_rSAcu.js";import{I as T}from"../chunks/DA9Xb-pR.js";import{a as H,c as ge,u as xe}from"../chunks/CJ0rczP-.js";import"../chunks/DnQLziY9.js";import{t as he}from"../chunks/BiF4ebVu.js";function $e(_,v){const g=D(v,["children","$$slots","$$events","$$legacy"]);G(_,F({name:"log-in"},()=>g,{iconNode:[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"}],["polyline",{points:"10 17 15 12 10 7"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12"}]],children:(m,l)=>{var s=B(),d=N(s);H(d,v,"default",{},null),i(m,s)},$$slots:{default:!0}}))}function V(_,v){const g=D(v,["children","$$slots","$$events","$$legacy"]);G(_,F({name:"triangle-alert"},()=>g,{iconNode:[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3"}],["path",{d:"M12 9v4"}],["path",{d:"M12 17h.01"}]],children:(m,l)=>{var s=B(),d=N(s);H(d,v,"default",{},null),i(m,s)},$$slots:{default:!0}}))}var be=p('<div class="mt-4 text-center font-bold uppercase tracking-wider text-zinc-900 sm:text-lg"> </div>'),ye=p('<div class="mt-4 text-center font-light tracking-wide text-zinc-600">Please login with your OpenServerless credentials.</div>'),we=p('<div class="flex items-center gap-1 text-sm text-red-500"><!> </div>'),ke=p('<div class="flex items-center gap-1 text-sm text-red-500"><!> </div>'),Ne=p('<div class="inline-flex items-center gap-1 h-full"><span class="w-1 h-1 bg-current rounded-full animate-[bounce_0.8s_infinite]"></span> <span class="w-1 h-1 bg-current rounded-full animate-[bounce_0.8s_infinite_0.2s]"></span> <span class="w-1 h-1 bg-current rounded-full animate-[bounce_0.8s_infinite_0.4s]"></span></div>'),Pe=p('<span><!></span> <span class="tracking-wide font-bold uppercase">Log In</span>',1),ze=p('<div class="flex h-screen w-full items-center justify-center"><div class="flex w-full max-w-md flex-col rounded-md bg-white px-4 py-8 shadow-lg sm:px-6 md:px-8"><div class="mb-6 flex flex-col items-center justify-center"><div class="font-arista text-surface-500 text-center text-4xl md:text-5xl text-sidebar">Pinocchio</div> <!></div> <form class="grid grid-cols-1 space-y-3"><!> <div class="space-y-1"><!> <!></div> <div class="space-y-1"><!></div> <!></form></div></div>');function Ke(_,v){ie(v,!0);const[g,P]=ve(),m=()=>pe(ge,"$customNamespace",g);let l=b(""),s=b(""),d=b(!1),z=y(()=>t(l).length>0&&t(l).length<3?"Username must be at least 3 characters":""),E=y(()=>t(l).length>=3&&t(s).length>=1),h=b("");async function J(){if(f(h,""),t(E)){f(d,!0);let e=await _e(t(l),t(s));e.authenticated?(me(xe,k({isAuthenticated:!0,namespace:t(l),s3_key:e.s3_key,token:e.token||""})),ue("/")):(f(h,k(e.message)),f(d,!1),he.error("Cannot login "+(e.message?e.message:"")))}}var I=ze(),C=o(I),L=o(C),Q=c(o(L),2);{var R=e=>{var a=be(),r=o(a,!0);n(a),q(()=>A(r,m())),i(e,a)},W=e=>{var a=ye();i(e,a)};w(Q,e=>{m()?e(R):e(W,!1)})}n(L);var M=c(L,2),K=o(M);{var X=e=>{var a=we(),r=o(a);V(r,{});var x=c(r);n(a),q(()=>A(x,` ${t(h)??""}`)),i(e,a)};w(K,e=>{t(h)&&e(X)})}var U=c(K,2),O=o(U),Y=y(()=>t(z)?"border-red-500":"");T(O,{title:"User",type:"text",placeholder:"Username",required:!0,autocomplete:"username",get class(){return t(Y)},get value(){return t(l)},set value(e){f(l,k(e))}});var Z=c(O,2);{var ee=e=>{var a=ke(),r=o(a);V(r,{size:16});var x=c(r);n(a),q(()=>A(x,` ${t(z)??""}`)),i(e,a)};w(Z,e=>{t(z)&&e(ee)})}n(U);var j=c(U,2),te=o(j);T(te,{title:"Password",type:"password",placeholder:"Password",required:!0,autocomplete:"new-password",get value(){return t(s)},set value(e){f(s,k(e))}}),n(j);var ae=c(j,2),se=y(()=>!t(E)||t(d));fe(ae,{type:"submit",size:"lg",class:"bg-sidebar/80",get disabled(){return t(se)},children:(e,a)=>{var r=B(),x=N(r);{var re=u=>{var $=Ne();i(u,$)},oe=u=>{var $=Pe(),S=N($),ne=o(S);$e(ne,{}),n(S),de(2),i(u,$)};w(x,u=>{t(d)?u(re):u(oe,!1)})}i(e,r)},$$slots:{default:!0}}),n(M),n(C),n(I),ce("submit",M,J),i(_,I),le(),P()}export{Ke as component};
