import{c as B,a as i,t as u}from"../chunks/hWf_ADxw.js";import{f as N,p as ie,a as le,g as t,b as f,d as b,M as y,c as n,s as c,r as o,t as q,O as de}from"../chunks/DKooQnrx.js";import{e as ce,s as ve,b as pe,c as ue,a as A}from"../chunks/DBK_Lzkp.js";import{l as F,s as G,i as w,p as k}from"../chunks/DCv3_r0Y.js";import{g as me}from"../chunks/bBApkyNS.js";import{I as H,s as J,B as fe,c as _e,d as ge,u as xe}from"../chunks/CuMV7EKh.js";import{I as V,t as he}from"../chunks/B1ExNYmx.js";import"../chunks/D17jDiFV.js";function $e(_,v){const g=F(v,["children","$$slots","$$events","$$legacy"]);H(_,G({name:"log-in"},()=>g,{iconNode:[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"}],["polyline",{points:"10 17 15 12 10 7"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12"}]],children:(p,l)=>{var s=B(),d=N(s);J(d,v,"default",{},null),i(p,s)},$$slots:{default:!0}}))}function D(_,v){const g=F(v,["children","$$slots","$$events","$$legacy"]);H(_,G({name:"triangle-alert"},()=>g,{iconNode:[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3"}],["path",{d:"M12 9v4"}],["path",{d:"M12 17h.01"}]],children:(p,l)=>{var s=B(),d=N(s);J(d,v,"default",{},null),i(p,s)},$$slots:{default:!0}}))}var be=u('<div class="mt-4 text-center font-bold uppercase tracking-wider text-zinc-900 sm:text-lg"> </div>'),ye=u('<div class="mt-4 text-center font-light tracking-wide text-zinc-600">Please login with your OpenServerless credentials.</div>'),we=u('<div class="flex items-center gap-1 text-sm text-red-500"><!> </div>'),ke=u('<div class="flex items-center gap-1 text-sm text-red-500"><!> </div>'),Ne=u('<div class="inline-flex items-center gap-1 h-full"><span class="w-1 h-1 bg-current rounded-full animate-[bounce_0.8s_infinite]"></span> <span class="w-1 h-1 bg-current rounded-full animate-[bounce_0.8s_infinite_0.2s]"></span> <span class="w-1 h-1 bg-current rounded-full animate-[bounce_0.8s_infinite_0.4s]"></span></div>'),Pe=u('<span><!></span> <span class="tracking-wide font-bold uppercase">Log In</span>',1),ze=u('<div class="flex h-screen w-full items-center justify-center"><div class="flex w-full max-w-md flex-col rounded-md bg-white px-4 py-8 shadow-lg sm:px-6 md:px-8"><div class="mb-6 flex flex-col items-center justify-center"><div class="font-arista text-surface-500 text-center text-4xl md:text-5xl text-sidebar">Nuvolaris</div> <!></div> <form class="grid grid-cols-1 space-y-3"><!> <div class="space-y-1"><!> <!></div> <div class="space-y-1"><!></div> <!></form></div></div>');function Ee(_,v){ie(v,!0);const[g,P]=ve(),p=()=>pe(_e,"$customNamespace",g);let l=b("admin"),s=b("P!n0cchIo"),d=b(!1),z=y(()=>t(l).length>0&&t(l).length<3?"Username must be at least 3 characters":""),E=y(()=>t(l).length>=3&&t(s).length>=1),h=b("");async function K(){if(f(h,""),t(E)){f(d,!0);let e=await ge(t(l),t(s));e.authenticated?(ue(xe,k({username:t(l),isAuthenticated:!0,namespace:p(),s3_key:e.s3_key,token:e.token||""})),me("/")):(f(h,k(e.message)),f(d,!1),he.error("Cannot login "+(e.message?e.message:"")))}}var I=ze(),O=n(I),L=n(O),Q=c(n(L),2);{var R=e=>{var a=be(),r=n(a,!0);o(a),q(()=>A(r,p())),i(e,a)},W=e=>{var a=ye();i(e,a)};w(Q,e=>{p()?e(R):e(W,!1)})}o(L);var M=c(L,2),C=n(M);{var X=e=>{var a=we(),r=n(a);D(r,{});var x=c(r);o(a),q(()=>A(x,` ${t(h)??""}`)),i(e,a)};w(C,e=>{t(h)&&e(X)})}var U=c(C,2),S=n(U),Y=y(()=>t(z)?"border-red-500":"");V(S,{title:"User",type:"text",placeholder:"Username",required:!0,autocomplete:"username",get class(){return t(Y)},get value(){return t(l)},set value(e){f(l,k(e))}});var Z=c(S,2);{var ee=e=>{var a=ke(),r=n(a);D(r,{size:16});var x=c(r);o(a),q(()=>A(x,` ${t(z)??""}`)),i(e,a)};w(Z,e=>{t(z)&&e(ee)})}o(U);var j=c(U,2),te=n(j);V(te,{title:"Password",type:"password",placeholder:"Password",required:!0,autocomplete:"new-password",get value(){return t(s)},set value(e){f(s,k(e))}}),o(j);var ae=c(j,2),se=y(()=>!t(E)||t(d));fe(ae,{type:"submit",size:"lg",class:"bg-sidebar/80",get disabled(){return t(se)},children:(e,a)=>{var r=B(),x=N(r);{var re=m=>{var $=Ne();i(m,$)},ne=m=>{var $=Pe(),T=N($),oe=n(T);$e(oe,{}),o(T),de(2),i(m,$)};w(x,m=>{t(d)?m(re):m(ne,!1)})}i(e,r)},$$slots:{default:!0}}),o(M),o(O),o(I),ce("submit",M,K),i(_,I),le(),P()}export{Ee as component};
