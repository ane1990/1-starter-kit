var ny=Object.defineProperty;var Qu=t=>{throw TypeError(t)};var sy=(t,e,r)=>e in t?ny(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var z=(t,e,r)=>sy(t,typeof e!="symbol"?e+"":e,r),Wa=(t,e,r)=>e.has(t)||Qu("Cannot "+r);var I=(t,e,r)=>(Wa(t,e,"read from private field"),r?r.call(t):e.get(t)),Q=(t,e,r)=>e.has(t)?Qu("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),me=(t,e,r,n)=>(Wa(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),Ka=(t,e,r)=>(Wa(t,e,"access private method"),r);import{c as be,a as $,t as he,e as Rt}from"./hWf_ADxw.js";import{M as pe,g as k,J as iy,A as Un,p as We,f as de,a as Ke,c as ie,n as fr,r as se,t as je,s as Ce,z as Yt,b as J,d as Oe,O as ut,aX as oy,aR as ay,aP as cy,aQ as ly}from"./DKooQnrx.js";import{a as ne,i as _e,r as ct,p as Ee,s as Ht,l as Ui,b as fs}from"./DCv3_r0Y.js";import{O as Nl,P as Dl,h as hl,A as pl,b as Me,H as uy,f as dy,y as fy,u as Xr,C as _a,a as Zr,m as Mr,w as Ju,E as hy,S as cp,Q as lp,R as up,c as Fl,M as dp,r as fp,U as py,V as gy,W as my,n as yy,s as ed,Y as by,Z as hs,X as td,t as wy,_ as vy}from"./TYT6U5J9.js";import{a as jt,D as xy,r as hp,e as cr,I as zi,s as $i,E as Ca,u as Gs,F as Ol,b as Sy,B as gr,j as Va,G as Ey,H as pp,c as Ay,g as Xs,i as Zs,q as gp,y as wo,z as mp,J as _y,f as Cy}from"./CuMV7EKh.js";import{c as ky,o as Ll}from"./D2cnbf3v.js";import{g as yr,w as yp}from"./ZvGZZGAR.js";import{i as qi}from"./D17jDiFV.js";import{w as Ry,a as Tt,x as Ty,k as bp,s as wp,b as zs,e as vo}from"./DBK_Lzkp.js";import{c as at}from"./BwykqbKV.js";import{s as tt}from"./DPraoDb6.js";import{h as Py}from"./BX_F604e.js";import{I as Iy,t as By}from"./B1ExNYmx.js";import{s as My,C as Ny}from"./dVBsY_mN.js";import{U as Dy,L as Fy}from"./BPNQAvqf.js";function Oy(t){return window.getComputedStyle(t).getPropertyValue("direction")}function Ly(t="ltr",e="horizontal"){return{horizontal:t==="rtl"?Nl:Dl,vertical:hl}[e]}function Uy(t="ltr",e="horizontal"){return{horizontal:t==="rtl"?Dl:Nl,vertical:pl}[e]}function zy(t="ltr",e="horizontal"){return["ltr","rtl"].includes(t)||(t="ltr"),["horizontal","vertical"].includes(e)||(e="horizontal"),{nextKey:Ly(t,e),prevKey:Uy(t,e)}}function $y(t){const e=t.currentTabStopId?t.currentTabStopId:Me(null);function r(){if(!fy)return[];const o=document.getElementById(t.rootNodeId.current);return o?t.candidateSelector?Array.from(o.querySelectorAll(t.candidateSelector)):Array.from(o.querySelectorAll(`[${t.candidateAttr}]:not([data-disabled])`)):[]}function n(){var a;const o=r();o.length&&((a=o[0])==null||a.focus())}function s(o,a,c=!1){var T;const l=document.getElementById(t.rootNodeId.current);if(!l||!o)return;const u=r();if(!u.length)return;const f=u.indexOf(o),h=Oy(l),{nextKey:g,prevKey:y}=zy(h,t.orientation.current),A=t.loop.current,E={[g]:f+1,[y]:f-1,[uy]:0,[dy]:u.length-1};if(c){const b=g===hl?Dl:hl,S=y===pl?Nl:pl;E[b]=f+1,E[S]=f-1}let m=E[a.key];if(m===void 0)return;a.preventDefault(),m<0&&A?m=u.length-1:m===u.length&&A&&(m=0);const x=u[m];if(x)return x.focus(),e.current=x.id,(T=t.onCandidateFocus)==null||T.call(t,x),x}function i(o){const a=r(),c=e.current!==null;return o&&!c&&a[0]===o?(e.current=o.id,0):(o==null?void 0:o.id)===e.current?0:-1}return{setCurrentTabStopId(o){e.current=o},getTabIndex:i,handleKeydown:s,focusFirstCandidate:n,currentTabStopId:e}}const qy="data-avatar-root",Hy="data-avatar-image",jy="data-avatar-fallback";var Xn,ii,Wo;class Wy{constructor(e){Q(this,Xn);Q(this,ii);z(this,"delayMs");z(this,"loadingStatus");Q(this,Wo,pe(()=>({id:I(this,Xn).current,[qy]:"","data-status":this.loadingStatus.current})));this.delayMs=e.delayMs,this.loadingStatus=e.loadingStatus,me(this,ii,e.ref),me(this,Xn,e.id),this.loadImage=this.loadImage.bind(this),Xr({id:I(this,Xn),ref:I(this,ii)})}loadImage(e,r,n){let s;const i=new Image;return i.src=e,r!==void 0&&(i.crossOrigin=r),n&&(i.referrerPolicy=n),this.loadingStatus.current="loading",i.onload=()=>{s=window.setTimeout(()=>{this.loadingStatus.current="loaded"},this.delayMs.current)},i.onerror=()=>{this.loadingStatus.current="error"},()=>{window.clearTimeout(s)}}get props(){return k(I(this,Wo))}}Xn=new WeakMap,ii=new WeakMap,Wo=new WeakMap;var Zn,oi,cn,Yn,ln,zr,Ko;class Ky{constructor(e,r){Q(this,Zn);Q(this,oi);Q(this,cn);Q(this,Yn);Q(this,ln);Q(this,zr);Q(this,Ko,pe(()=>({id:I(this,Zn).current,style:{display:I(this,zr).loadingStatus.current==="loaded"?"block":"none"},"data-status":I(this,zr).loadingStatus.current,[Hy]:"",src:I(this,ln).current,crossorigin:I(this,cn).current,referrerpolicy:I(this,Yn).current})));me(this,zr,r),me(this,ln,e.src),me(this,Zn,e.id),me(this,oi,e.ref),me(this,cn,e.crossOrigin),me(this,Yn,e.referrerPolicy),Xr({id:I(this,Zn),ref:I(this,oi)}),iy(()=>{if(!I(this,ln).current){I(this,zr).loadingStatus.current="error";return}I(this,cn).current,Un(()=>I(this,zr).loadImage(I(this,ln).current??"",I(this,cn).current,I(this,Yn).current))})}get props(){return k(I(this,Ko))}}Zn=new WeakMap,oi=new WeakMap,cn=new WeakMap,Yn=new WeakMap,ln=new WeakMap,zr=new WeakMap,Ko=new WeakMap;var ai,ci,Qn,Vo;class Vy{constructor(e,r){Q(this,ai);Q(this,ci);Q(this,Qn);Q(this,Vo,pe(()=>({style:{display:I(this,Qn).loadingStatus.current==="loaded"?"none":void 0},"data-status":I(this,Qn).loadingStatus.current,[jy]:""})));me(this,Qn,r),me(this,ai,e.id),me(this,ci,e.ref),Xr({id:I(this,ai),ref:I(this,ci)})}get props(){return k(I(this,Vo))}}ai=new WeakMap,ci=new WeakMap,Qn=new WeakMap,Vo=new WeakMap;const Ul=new _a("Avatar.Root");function Gy(t){return Ul.set(new Wy(t))}function Xy(t){return new Ky(t,Ul.get())}function Zy(t){return new Vy(t,Ul.get())}var Yy=he("<div><!></div>");function Qy(t,e){We(e,!0);let r=ne(e,"delayMs",3,0),n=ne(e,"loadingStatus",15,"loading"),s=ne(e,"id",19,Zr),i=ne(e,"ref",15,null),o=ct(e,["$$slots","$$events","$$legacy","delayMs","loadingStatus","onLoadingStatusChange","child","children","id","ref"]);const a=Gy({delayMs:Me.with(()=>r()),loadingStatus:Me.with(()=>n(),g=>{var y;n()!==g&&(n(g),(y=e.onLoadingStatusChange)==null||y.call(e,g))}),id:Me.with(()=>s()),ref:Me.with(()=>i(),g=>i(g))}),c=pe(()=>Mr(o,a.props));var l=be(),u=de(l);{var f=g=>{var y=be(),A=de(y);tt(A,()=>e.child,()=>({props:k(c)})),$(g,y)},h=g=>{var y=Yy();let A;var E=ie(y);tt(E,()=>e.children??fr),se(y),je(()=>A=jt(y,A,{...k(c)})),$(g,y)};_e(u,g=>{e.child?g(f):g(h,!1)})}$(t,l),Ke()}var Jy=he("<img>");function e0(t,e){We(e,!0);let r=ne(e,"id",19,Zr),n=ne(e,"ref",15,null),s=ne(e,"crossorigin",3,void 0),i=ne(e,"referrerpolicy",3,void 0),o=ct(e,["$$slots","$$events","$$legacy","src","child","id","ref","crossorigin","referrerpolicy"]);const a=Xy({src:Me.with(()=>e.src),id:Me.with(()=>r()),ref:Me.with(()=>n(),g=>n(g)),crossOrigin:Me.with(()=>s()),referrerPolicy:Me.with(()=>i())}),c=pe(()=>Mr(o,a.props));var l=be(),u=de(l);{var f=g=>{var y=be(),A=de(y);tt(A,()=>e.child,()=>({props:k(c)})),$(g,y)},h=g=>{var y=Jy();let A;je(()=>A=jt(y,A,{...k(c),src:e.src})),xy(y),Ry(y),$(g,y)};_e(u,g=>{e.child?g(f):g(h,!1)})}$(t,l),Ke()}var t0=he("<span><!></span>");function r0(t,e){We(e,!0);let r=ne(e,"id",19,Zr),n=ne(e,"ref",15,null),s=ct(e,["$$slots","$$events","$$legacy","children","child","id","ref"]);const i=Zy({id:Me.with(()=>r()),ref:Me.with(()=>n(),f=>n(f))}),o=pe(()=>Mr(s,i.props));var a=be(),c=de(a);{var l=f=>{var h=be(),g=de(h);tt(g,()=>e.child,()=>({props:k(o)})),$(f,h)},u=f=>{var h=t0();let g;var y=ie(h);tt(y,()=>e.children??fr),se(h),je(()=>g=jt(h,g,{...k(o)})),$(f,h)};_e(c,f=>{e.child?f(l):f(u,!1)})}$(t,a),Ke()}const n0="data-checkbox-root";var Jn,li,ui,un,di,fi,Go,Xo,Zo,hi,gl,Yo,Qo;class s0{constructor(e,r=null){Q(this,hi);Q(this,Jn);Q(this,li);Q(this,ui);z(this,"checked");Q(this,un);Q(this,di);Q(this,fi);z(this,"value");z(this,"indeterminate");z(this,"group",null);Q(this,Go,pe(()=>this.group&&this.group.name.current?this.group.name.current:I(this,fi).current));Q(this,Xo,pe(()=>this.group&&this.group.required.current?!0:I(this,di).current));Q(this,Zo,pe(()=>this.group&&this.group.disabled.current?!0:I(this,un).current));Q(this,Yo,pe(()=>({checked:this.checked.current,indeterminate:this.indeterminate.current})));Q(this,Qo,pe(()=>({id:I(this,Jn).current,role:"checkbox",type:I(this,ui).current,disabled:this.trueDisabled,"aria-checked":lp(this.checked.current,this.indeterminate.current),"aria-required":up(this.trueRequired),"data-disabled":Fl(this.trueDisabled),"data-state":o0(this.checked.current,this.indeterminate.current),[n0]:"",onclick:this.onclick,onkeydown:this.onkeydown})));this.checked=e.checked,me(this,un,e.disabled),me(this,di,e.required),me(this,fi,e.name),this.value=e.value,me(this,li,e.ref),me(this,Jn,e.id),this.indeterminate=e.indeterminate,me(this,ui,e.type),this.group=r,this.onkeydown=this.onkeydown.bind(this),this.onclick=this.onclick.bind(this),Xr({id:I(this,Jn),ref:I(this,li)}),Ju([()=>{var n;return My((n=this.group)==null?void 0:n.value.current)},()=>this.value.current],([n,s])=>{!n||!s||(this.checked.current=n.includes(s))}),Ju(()=>this.checked.current,n=>{var s,i;this.group&&(n?(s=this.group)==null||s.addValue(this.value.current):(i=this.group)==null||i.removeValue(this.value.current))})}get trueName(){return k(I(this,Go))}get trueRequired(){return k(I(this,Xo))}get trueDisabled(){return k(I(this,Zo))}onkeydown(e){I(this,un).current||(e.key===hy&&e.preventDefault(),e.key===cp&&(e.preventDefault(),Ka(this,hi,gl).call(this)))}onclick(e){I(this,un).current||Ka(this,hi,gl).call(this)}get snippetProps(){return k(I(this,Yo))}get props(){return k(I(this,Qo))}}Jn=new WeakMap,li=new WeakMap,ui=new WeakMap,un=new WeakMap,di=new WeakMap,fi=new WeakMap,Go=new WeakMap,Xo=new WeakMap,Zo=new WeakMap,hi=new WeakSet,gl=function(){this.indeterminate.current?(this.indeterminate.current=!1,this.checked.current=!0):this.checked.current=!this.checked.current},Yo=new WeakMap,Qo=new WeakMap;var Jo,ea,ta;class i0{constructor(e){z(this,"root");Q(this,Jo,pe(()=>this.root.group?!!(this.root.value.current!==void 0&&this.root.group.value.current.includes(this.root.value.current)):this.root.checked.current));Q(this,ea,pe(()=>!!this.root.trueName));Q(this,ta,pe(()=>({type:"checkbox",checked:this.root.checked.current===!0,disabled:this.root.trueDisabled,required:this.root.trueRequired,name:this.root.trueName,value:this.root.value.current,"aria-hidden":"true",style:dp(fp)})));this.root=e}get trueChecked(){return k(I(this,Jo))}get shouldRender(){return k(I(this,ea))}get props(){return k(I(this,ta))}}Jo=new WeakMap,ea=new WeakMap,ta=new WeakMap;function o0(t,e){return e?"indeterminate":t?"checked":"unchecked"}const a0=new _a("Checkbox.Group"),vp=new _a("Checkbox.Root");function c0(t){return vp.set(new s0(t,a0.getOr(null)))}function l0(){return new i0(vp.get())}var u0=he("<span><!></span>");function d0(t,e){We(e,!0);let r=ct(e,["$$slots","$$events","$$legacy","children","child"]);const n={position:"absolute",border:0,width:"1px",display:"inline-block",height:"1px",padding:0,margin:"-1px",overflow:"hidden",clip:"rect(0 0 0 0)",whiteSpace:"nowrap",wordWrap:"normal"},s=pe(()=>Mr(r,{style:n}));var i=be(),o=de(i);{var a=l=>{var u=be(),f=de(u);tt(f,()=>e.child,()=>({props:k(s)})),$(l,u)},c=l=>{var u=u0();let f;var h=ie(u);tt(h,()=>e.children??fr),se(u),je(()=>f=jt(u,f,{...k(s)})),$(l,u)};_e(o,l=>{e.child?l(a):l(c,!1)})}$(t,i),Ke()}var f0=he("<input>");function h0(t,e){We(e,!1);const r=l0();qi();var n=be(),s=de(n);{var i=o=>{d0(o,{"aria-hidden":"true",children:(a,c)=>{var l=f0();hp(l);let u;je(()=>u=jt(l,u,{...r.props,type:"checkbox",style:"display: none !important;"})),$(a,l)},$$slots:{default:!0}})};_e(s,o=>{r.shouldRender&&o(i)})}$(t,n),Ke()}var p0=he("<button><!></button>"),g0=he("<!> <!>",1);function m0(t,e){We(e,!0);let r=ne(e,"checked",15,!1),n=ne(e,"ref",15,null),s=ne(e,"disabled",3,!1),i=ne(e,"required",3,!1),o=ne(e,"name",3,void 0),a=ne(e,"value",3,"on"),c=ne(e,"id",19,Zr),l=ne(e,"indeterminate",15,!1),u=ne(e,"type",3,"button"),f=ct(e,["$$slots","$$events","$$legacy","checked","ref","onCheckedChange","children","disabled","required","name","value","id","indeterminate","onIndeterminateChange","child","type"]);const h=c0({checked:Me.with(()=>r(),T=>{var b;r(T),(b=e.onCheckedChange)==null||b.call(e,T)}),disabled:Me.with(()=>s()??!1),required:Me.with(()=>i()),name:Me.with(()=>o()),value:Me.with(()=>a()),id:Me.with(()=>c()),ref:Me.with(()=>n(),T=>n(T)),indeterminate:Me.with(()=>l(),T=>{var b;l(T),(b=e.onIndeterminateChange)==null||b.call(e,T)}),type:Me.with(()=>u())}),g=pe(()=>Mr({...f},h.props));var y=g0(),A=de(y);{var E=T=>{var b=be(),S=de(b);tt(S,()=>e.child,()=>({props:k(g),...h.snippetProps})),$(T,b)},m=T=>{var b=p0();let S;var v=ie(b);tt(v,()=>e.children??fr,()=>h.snippetProps),se(b),je(()=>S=jt(b,S,{...k(g)})),$(T,b)};_e(A,T=>{e.child?T(E):T(m,!1)})}var x=Ce(A,2);h0(x,{}),$(t,y),Ke()}const y0="data-separator-root";var es,pi,ts,rs,ra;class b0{constructor(e){Q(this,es);Q(this,pi);Q(this,ts);Q(this,rs);Q(this,ra,pe(()=>({id:I(this,es).current,role:I(this,rs).current?"none":"separator","aria-orientation":py(I(this,ts).current),"aria-hidden":gy(I(this,rs).current),"data-orientation":my(I(this,ts).current),[y0]:""})));me(this,ts,e.orientation),me(this,rs,e.decorative),me(this,es,e.id),me(this,pi,e.ref),Xr({id:I(this,es),ref:I(this,pi)})}get props(){return k(I(this,ra))}}es=new WeakMap,pi=new WeakMap,ts=new WeakMap,rs=new WeakMap,ra=new WeakMap;function w0(t){return new b0(t)}var v0=he("<div><!></div>");function x0(t,e){We(e,!0);let r=ne(e,"id",19,Zr),n=ne(e,"ref",15,null),s=ne(e,"decorative",3,!1),i=ne(e,"orientation",3,"horizontal"),o=ct(e,["$$slots","$$events","$$legacy","id","ref","child","children","decorative","orientation"]);const a=w0({ref:Me.with(()=>n(),g=>n(g)),id:Me.with(()=>r()),decorative:Me.with(()=>s()),orientation:Me.with(()=>i())}),c=pe(()=>Mr(o,a.props));var l=be(),u=de(l);{var f=g=>{var y=be(),A=de(y);tt(A,()=>e.child,()=>({props:k(c)})),$(g,y)},h=g=>{var y=v0();let A;var E=ie(y);tt(E,()=>e.children??fr),se(y),je(()=>A=jt(y,A,{...k(c)})),$(g,y)};_e(u,g=>{e.child?g(f):g(h,!1)})}$(t,l),Ke()}const S0="data-label-root";var gi,mi,na;class E0{constructor(e){Q(this,gi);Q(this,mi);Q(this,na,pe(()=>({[S0]:"",onmousedown:this.onmousedown})));me(this,gi,e.id),me(this,mi,e.ref),this.onmousedown=this.onmousedown.bind(this),Xr({id:I(this,gi),ref:I(this,mi)})}onmousedown(e){e.detail>1&&e.preventDefault()}get props(){return k(I(this,na))}}gi=new WeakMap,mi=new WeakMap,na=new WeakMap;function A0(t){return new E0(t)}var _0=he("<label><!></label>");function C0(t,e){We(e,!0);let r=ne(e,"id",19,Zr),n=ne(e,"ref",15,null),s=ct(e,["$$slots","$$events","$$legacy","children","child","id","ref","for"]);const i=A0({id:Me.with(()=>r()),ref:Me.with(()=>n(),f=>n(f))}),o=pe(()=>Mr(s,i.props,{for:e.for}));var a=be(),c=de(a);{var l=f=>{var h=be(),g=de(h);tt(g,()=>e.child,()=>({props:k(o)})),$(f,h)},u=f=>{var h=_0();let g;var y=ie(h);tt(y,()=>e.children??fr),se(h),je(()=>g=jt(h,g,{...k(o),for:e.for})),$(f,h)};_e(c,f=>{e.child?f(l):f(u,!1)})}$(t,a),Ke()}const k0="data-radio-group-root",xp="data-radio-group-item";var dn,yi,sa,ia;class R0{constructor(e){Q(this,dn);Q(this,yi);z(this,"disabled");z(this,"required");z(this,"loop");z(this,"orientation");z(this,"name");z(this,"value");z(this,"rovingFocusGroup");Q(this,sa,pe(()=>this.value.current!==""));Q(this,ia,pe(()=>({id:I(this,dn).current,role:"radiogroup","aria-required":up(this.required.current),"data-disabled":Fl(this.disabled.current),"data-orientation":this.orientation.current,[k0]:""})));me(this,dn,e.id),this.disabled=e.disabled,this.required=e.required,this.loop=e.loop,this.orientation=e.orientation,this.name=e.name,this.value=e.value,me(this,yi,e.ref),this.rovingFocusGroup=$y({rootNodeId:I(this,dn),candidateAttr:xp,loop:this.loop,orientation:this.orientation}),Xr({id:I(this,dn),ref:I(this,yi)})}get hasValue(){return k(I(this,sa))}isChecked(e){return this.value.current===e}setValue(e){this.value.current=e}get props(){return k(I(this,ia))}}dn=new WeakMap,yi=new WeakMap,sa=new WeakMap,ia=new WeakMap;var ns,fn,Wt,ss,mr,oa,is,os,bi,aa,ca;class T0{constructor(e,r){Q(this,ns);Q(this,fn);Q(this,Wt);Q(this,ss);Q(this,mr);Q(this,oa,pe(()=>I(this,Wt).value.current===I(this,mr).current));Q(this,is,pe(()=>I(this,ss).current||I(this,Wt).disabled.current));Q(this,os,pe(()=>I(this,Wt).isChecked(I(this,mr).current)));Q(this,bi,Oe(0));Q(this,aa,pe(()=>({checked:k(I(this,os))})));Q(this,ca,pe(()=>({id:I(this,ns).current,disabled:k(I(this,is))?!0:void 0,"data-value":I(this,mr).current,"data-orientation":I(this,Wt).orientation.current,"data-disabled":Fl(k(I(this,is))),"data-state":k(I(this,os))?"checked":"unchecked","aria-checked":lp(k(I(this,os)),!1),[xp]:"",type:"button",role:"radio",tabindex:k(I(this,bi)),onkeydown:this.onkeydown,onfocus:this.onfocus,onclick:this.onclick})));me(this,ss,e.disabled),me(this,mr,e.value),me(this,Wt,r),me(this,ns,e.id),me(this,fn,e.ref),Xr({id:I(this,ns),ref:I(this,fn)}),Yt(()=>{J(I(this,bi),Ee(I(this,Wt).rovingFocusGroup.getTabIndex(I(this,fn).current)))}),this.onclick=this.onclick.bind(this),this.onkeydown=this.onkeydown.bind(this),this.onfocus=this.onfocus.bind(this)}get checked(){return k(I(this,oa))}onclick(e){I(this,ss).current||I(this,Wt).setValue(I(this,mr).current)}onfocus(e){I(this,Wt).hasValue&&I(this,Wt).setValue(I(this,mr).current)}onkeydown(e){if(!k(I(this,is))){if(e.key===cp){e.preventDefault(),I(this,Wt).setValue(I(this,mr).current);return}I(this,Wt).rovingFocusGroup.handleKeydown(I(this,fn).current,e,!0)}}get snippetProps(){return k(I(this,aa))}get props(){return k(I(this,ca))}}ns=new WeakMap,fn=new WeakMap,Wt=new WeakMap,ss=new WeakMap,mr=new WeakMap,oa=new WeakMap,is=new WeakMap,os=new WeakMap,bi=new WeakMap,aa=new WeakMap,ca=new WeakMap;var Er,la,ua;class P0{constructor(e){Q(this,Er);Q(this,la,pe(()=>I(this,Er).name.current!==void 0));Q(this,ua,pe(()=>({name:I(this,Er).name.current,value:I(this,Er).value.current,required:I(this,Er).required.current,disabled:I(this,Er).disabled.current,"aria-hidden":"true",hidden:!0,style:dp(fp),tabIndex:-1})));me(this,Er,e)}get shouldRender(){return k(I(this,la))}get props(){return k(I(this,ua))}}Er=new WeakMap,la=new WeakMap,ua=new WeakMap;const zl=new _a("RadioGroup.Root");function I0(t){return zl.set(new R0(t))}function B0(t){return new T0(t,zl.get())}function M0(){return new P0(zl.get())}var N0=he("<input>");function D0(t,e){We(e,!1);const r=M0();qi();var n=be(),s=de(n);{var i=o=>{var a=N0();hp(a);let c;je(()=>c=jt(a,c,{...r.props})),$(o,a)};_e(s,o=>{r.shouldRender&&o(i)})}$(t,n),Ke()}var F0=he("<div><!></div>"),O0=he("<!> <!>",1);function L0(t,e){We(e,!0);let r=ne(e,"disabled",3,!1),n=ne(e,"value",15,""),s=ne(e,"ref",15,null),i=ne(e,"orientation",3,"vertical"),o=ne(e,"loop",3,!0),a=ne(e,"name",3,void 0),c=ne(e,"required",3,!1),l=ne(e,"id",19,Zr),u=ne(e,"onValueChange",3,yy),f=ct(e,["$$slots","$$events","$$legacy","disabled","children","child","value","ref","orientation","loop","name","required","id","onValueChange"]);const h=I0({orientation:Me.with(()=>i()),disabled:Me.with(()=>r()),loop:Me.with(()=>o()),name:Me.with(()=>a()),required:Me.with(()=>c()),id:Me.with(()=>l()),value:Me.with(()=>n(),T=>{var b;T!==n()&&(n(T),(b=u())==null||b(T))}),ref:Me.with(()=>s(),T=>s(T))}),g=pe(()=>Mr(f,h.props));var y=O0(),A=de(y);{var E=T=>{var b=be(),S=de(b);tt(S,()=>e.child,()=>({props:k(g)})),$(T,b)},m=T=>{var b=F0();let S;var v=ie(b);tt(v,()=>e.children??fr),se(b),je(()=>S=jt(b,S,{...k(g)})),$(T,b)};_e(A,T=>{e.child?T(E):T(m,!1)})}var x=Ce(A,2);D0(x,{}),$(t,y),Ke()}var U0=he("<button><!></button>");function z0(t,e){We(e,!0);let r=ne(e,"id",19,Zr),n=ne(e,"disabled",3,!1),s=ne(e,"ref",15,null),i=ct(e,["$$slots","$$events","$$legacy","id","children","child","value","disabled","ref"]);const o=B0({value:Me.with(()=>e.value),disabled:Me.with(()=>n()??!1),id:Me.with(()=>r()),ref:Me.with(()=>s(),h=>s(h))}),a=pe(()=>Mr(i,o.props));var c=be(),l=de(c);{var u=h=>{var g=be(),y=de(g);tt(y,()=>e.child,()=>({props:k(a),...o.snippetProps})),$(h,g)},f=h=>{var g=U0();let y;var A=ie(g);tt(A,()=>e.children??fr,()=>o.snippetProps),se(g),je(()=>y=jt(g,y,{...k(a)})),$(h,g)};_e(l,h=>{e.child?h(u):h(f,!1)})}$(t,c),Ke()}function $0(t,e){We(e,!0);let r=ne(e,"ref",15,null),n=ne(e,"orientation",3,"horizontal"),s=ct(e,["$$slots","$$events","$$legacy","ref","class","orientation"]);var i=be(),o=de(i),a=pe(()=>cr("bg-border shrink-0",n()==="horizontal"?"h-[1px] w-full":"min-h-full w-[1px]",e.class));at(o,()=>x0,(c,l)=>{l(c,Ht({get class(){return k(a)},get orientation(){return n()}},()=>s,{get ref(){return r()},set ref(u){r(u)}}))}),$(t,i),Ke()}function q0(t,e){const r=Ui(e,["children","$$slots","$$events","$$legacy"]);zi(t,Ht({name:"circle-x"},()=>r,{iconNode:[["circle",{cx:"12",cy:"12",r:"10"}],["path",{d:"m15 9-6 6"}],["path",{d:"m9 9 6 6"}]],children:(s,i)=>{var o=be(),a=de(o);$i(a,e,"default",{},null),$(s,o)},$$slots:{default:!0}}))}function H0(t,e){const r=Ui(e,["children","$$slots","$$events","$$legacy"]);zi(t,Ht({name:"circle"},()=>r,{iconNode:[["circle",{cx:"12",cy:"12",r:"10"}]],children:(s,i)=>{var o=be(),a=de(o);$i(a,e,"default",{},null),$(s,o)},$$slots:{default:!0}}))}function j0(t,e){const r=Ui(e,["children","$$slots","$$events","$$legacy"]);zi(t,Ht({name:"grip-horizontal"},()=>r,{iconNode:[["circle",{cx:"12",cy:"9",r:"1"}],["circle",{cx:"19",cy:"9",r:"1"}],["circle",{cx:"5",cy:"9",r:"1"}],["circle",{cx:"12",cy:"15",r:"1"}],["circle",{cx:"19",cy:"15",r:"1"}],["circle",{cx:"5",cy:"15",r:"1"}]],children:(s,i)=>{var o=be(),a=de(o);$i(a,e,"default",{},null),$(s,o)},$$slots:{default:!0}}))}function W0(t,e){const r=Ui(e,["children","$$slots","$$events","$$legacy"]);zi(t,Ht({name:"grip-vertical"},()=>r,{iconNode:[["circle",{cx:"9",cy:"12",r:"1"}],["circle",{cx:"9",cy:"5",r:"1"}],["circle",{cx:"9",cy:"19",r:"1"}],["circle",{cx:"15",cy:"12",r:"1"}],["circle",{cx:"15",cy:"5",r:"1"}],["circle",{cx:"15",cy:"19",r:"1"}]],children:(s,i)=>{var o=be(),a=de(o);$i(a,e,"default",{},null),$(s,o)},$$slots:{default:!0}}))}function K0(t,e){const r=Ui(e,["children","$$slots","$$events","$$legacy"]);zi(t,Ht({name:"minus"},()=>r,{iconNode:[["path",{d:"M5 12h14"}]],children:(s,i)=>{var o=be(),a=de(o);$i(a,e,"default",{},null),$(s,o)},$$slots:{default:!0}}))}class rd{constructor(e,r,n,s){z(this,"name");z(this,"img");z(this,"side");z(this,"text");this.name=e,this.img=r,this.side=n,this.text=s}}const $l=yp({}),ql=yp({});function Sp(t){let e=yr($l),r=yr(ql);return[e[t]||[],r[t]||!1]}function nd(t,e,r){return $l.update(n=>(n[t]=[...n[t]||[],e],n)),ql.update(n=>(n[t]=r,n)),Sp(t)[0]}function V0(t){$l.update(e=>(delete e[t],e)),ql.update(e=>(delete e[t],e))}class G0{constructor(e){z(this,"url");z(this,"actionUrl");z(this,"namespace");z(this,"state");this.url=yr(Ca).streamer,this.actionUrl=e,this.namespace=yr(Gs).namespace,this.state=""}async invoke(e,r){var o;if(!this.actionUrl)return{answer:"Please select the application you want to use from the side menu.",streamMode:!1};let n=this.url+"/web/"+this.namespace+"/"+this.actionUrl,s={};e!=null&&(s={input:e.input}),s.token=(o=yr(Gs))==null?void 0:o.token,s.state=this.state;let i=JSON.stringify(s);try{const a=await fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:i});if(a.status==404)throw new Error(`Action ${this.actionUrl} not found!`);if(a.status!=200)throw new Error(`Error ${a.status} interacting with ${this.url}`);if(!a.body)throw new Error("ReadableStream not supported in this environment.");const c=a.body.getReader();for(;;){const{done:l,value:u}=await c.read();if(l)break;r(u)}return{ok:!0}}catch(a){return console.error("Error posting data:",a),{error:`${a}`}}}}class X0{constructor(e){z(this,"url");z(this,"state");this.url=yr(Ca).host+"/api/my/"+e,this.state=""}async invoke(e){var s;if(!this.url)return{answer:"Please select the application you want to use from the side menu.",streamMode:!1};let r={};e!=null&&(r={input:e.input}),r.token=(s=yr(Gs))==null?void 0:s.token,r.state=this.state;let n=JSON.stringify(r);try{const i=await fetch(this.url,{method:"POST",headers:{"Content-Type":"application/json"},body:n});if(i.status==404)throw new Error("Action not found!");if(i.status!=200)throw new Error(`${i.statusText} (${i.status})`);const o=await i.json();this.state=o.state;let a=o.output,c=o.streaming||!1;return delete o.output,delete o.streaming,delete o.state,{answer:a,data:o,streamMode:c}}catch(i){return console.log("Error posting data:",i),{error:`${i}`}}}}function Hl(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}let vn=Hl();function Ep(t){vn=t}const $s={exec:()=>null};function Qe(t,e=""){let r=typeof t=="string"?t:t.source;const n={replace:(s,i)=>{let o=typeof i=="string"?i:i.source;return o=o.replace(qt.caret,"$1"),r=r.replace(s,o),n},getRegex:()=>new RegExp(r,e)};return n}const qt={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:t=>new RegExp(`^( {0,3}${t})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}#`),htmlBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}<(?:[a-z].*>|!--)`,"i")},Z0=/^(?:[ \t]*(?:\n|$))+/,Y0=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,Q0=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,Hi=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,J0=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,Ap=/(?:[*+-]|\d{1,9}[.)])/,_p=Qe(/^(?!bull |blockCode|fences|blockquote|heading|html)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html))+?)\n {0,3}(=+|-+) *(?:\n+|$)/).replace(/bull/g,Ap).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).getRegex(),jl=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,eb=/^[^\n]+/,Wl=/(?!\s*\])(?:\\.|[^\[\]\\])+/,tb=Qe(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",Wl).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),rb=Qe(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,Ap).getRegex(),ka="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Kl=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,nb=Qe("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",Kl).replace("tag",ka).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Cp=Qe(jl).replace("hr",Hi).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",ka).getRegex(),sb=Qe(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",Cp).getRegex(),Vl={blockquote:sb,code:Y0,def:tb,fences:Q0,heading:J0,hr:Hi,html:nb,lheading:_p,list:rb,newline:Z0,paragraph:Cp,table:$s,text:eb},sd=Qe("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",Hi).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",ka).getRegex(),ib={...Vl,table:sd,paragraph:Qe(jl).replace("hr",Hi).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",sd).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",ka).getRegex()},ob={...Vl,html:Qe(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",Kl).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:$s,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Qe(jl).replace("hr",Hi).replace("heading",` *#{1,6} *[^
]`).replace("lheading",_p).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},ab=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,cb=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,kp=/^( {2,}|\\)\n(?!\s*$)/,lb=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,Ra=/[\p{P}\p{S}]/u,Gl=/[\s\p{P}\p{S}]/u,Rp=/[^\s\p{P}\p{S}]/u,ub=Qe(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,Gl).getRegex(),Tp=/(?!~)[\p{P}\p{S}]/u,db=/(?!~)[\s\p{P}\p{S}]/u,fb=/(?:[^\s\p{P}\p{S}]|~)/u,hb=/\[[^[\]]*?\]\((?:\\.|[^\\\(\)]|\((?:\\.|[^\\\(\)])*\))*\)|`[^`]*?`|<[^<>]*?>/g,Pp=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,pb=Qe(Pp,"u").replace(/punct/g,Ra).getRegex(),gb=Qe(Pp,"u").replace(/punct/g,Tp).getRegex(),Ip="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",mb=Qe(Ip,"gu").replace(/notPunctSpace/g,Rp).replace(/punctSpace/g,Gl).replace(/punct/g,Ra).getRegex(),yb=Qe(Ip,"gu").replace(/notPunctSpace/g,fb).replace(/punctSpace/g,db).replace(/punct/g,Tp).getRegex(),bb=Qe("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,Rp).replace(/punctSpace/g,Gl).replace(/punct/g,Ra).getRegex(),wb=Qe(/\\(punct)/,"gu").replace(/punct/g,Ra).getRegex(),vb=Qe(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),xb=Qe(Kl).replace("(?:-->|$)","-->").getRegex(),Sb=Qe("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",xb).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),Co=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,Eb=Qe(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",Co).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),Bp=Qe(/^!?\[(label)\]\[(ref)\]/).replace("label",Co).replace("ref",Wl).getRegex(),Mp=Qe(/^!?\[(ref)\](?:\[\])?/).replace("ref",Wl).getRegex(),Ab=Qe("reflink|nolink(?!\\()","g").replace("reflink",Bp).replace("nolink",Mp).getRegex(),Xl={_backpedal:$s,anyPunctuation:wb,autolink:vb,blockSkip:hb,br:kp,code:cb,del:$s,emStrongLDelim:pb,emStrongRDelimAst:mb,emStrongRDelimUnd:bb,escape:ab,link:Eb,nolink:Mp,punctuation:ub,reflink:Bp,reflinkSearch:Ab,tag:Sb,text:lb,url:$s},_b={...Xl,link:Qe(/^!?\[(label)\]\((.*?)\)/).replace("label",Co).getRegex(),reflink:Qe(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Co).getRegex()},ml={...Xl,emStrongRDelimAst:yb,emStrongLDelim:gb,url:Qe(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\.|[^\\])*?(?:\\.|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},Cb={...ml,br:Qe(kp).replace("{2,}","*").getRegex(),text:Qe(ml.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},ro={normal:Vl,gfm:ib,pedantic:ob},Rs={normal:Xl,gfm:ml,breaks:Cb,pedantic:_b},kb={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},id=t=>kb[t];function pr(t,e){if(e){if(qt.escapeTest.test(t))return t.replace(qt.escapeReplace,id)}else if(qt.escapeTestNoEncode.test(t))return t.replace(qt.escapeReplaceNoEncode,id);return t}function od(t){try{t=encodeURI(t).replace(qt.percentDecode,"%")}catch{return null}return t}function ad(t,e){var i;const r=t.replace(qt.findPipe,(o,a,c)=>{let l=!1,u=a;for(;--u>=0&&c[u]==="\\";)l=!l;return l?"|":" |"}),n=r.split(qt.splitPipe);let s=0;if(n[0].trim()||n.shift(),n.length>0&&!((i=n.at(-1))!=null&&i.trim())&&n.pop(),e)if(n.length>e)n.splice(e);else for(;n.length<e;)n.push("");for(;s<n.length;s++)n[s]=n[s].trim().replace(qt.slashPipe,"|");return n}function Ts(t,e,r){const n=t.length;if(n===0)return"";let s=0;for(;s<n&&t.charAt(n-s-1)===e;)s++;return t.slice(0,n-s)}function Rb(t,e){if(t.indexOf(e[1])===-1)return-1;let r=0;for(let n=0;n<t.length;n++)if(t[n]==="\\")n++;else if(t[n]===e[0])r++;else if(t[n]===e[1]&&(r--,r<0))return n;return-1}function cd(t,e,r,n,s){const i=e.href,o=e.title||null,a=t[1].replace(s.other.outputLinkReplace,"$1");if(t[0].charAt(0)!=="!"){n.state.inLink=!0;const c={type:"link",raw:r,href:i,title:o,text:a,tokens:n.inlineTokens(a)};return n.state.inLink=!1,c}return{type:"image",raw:r,href:i,title:o,text:a}}function Tb(t,e,r){const n=t.match(r.other.indentCodeCompensation);if(n===null)return e;const s=n[1];return e.split(`
`).map(i=>{const o=i.match(r.other.beginningSpace);if(o===null)return i;const[a]=o;return a.length>=s.length?i.slice(s.length):i}).join(`
`)}class ko{constructor(e){z(this,"options");z(this,"rules");z(this,"lexer");this.options=e||vn}space(e){const r=this.rules.block.newline.exec(e);if(r&&r[0].length>0)return{type:"space",raw:r[0]}}code(e){const r=this.rules.block.code.exec(e);if(r){const n=r[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:r[0],codeBlockStyle:"indented",text:this.options.pedantic?n:Ts(n,`
`)}}}fences(e){const r=this.rules.block.fences.exec(e);if(r){const n=r[0],s=Tb(n,r[3]||"",this.rules);return{type:"code",raw:n,lang:r[2]?r[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):r[2],text:s}}}heading(e){const r=this.rules.block.heading.exec(e);if(r){let n=r[2].trim();if(this.rules.other.endingHash.test(n)){const s=Ts(n,"#");(this.options.pedantic||!s||this.rules.other.endingSpaceChar.test(s))&&(n=s.trim())}return{type:"heading",raw:r[0],depth:r[1].length,text:n,tokens:this.lexer.inline(n)}}}hr(e){const r=this.rules.block.hr.exec(e);if(r)return{type:"hr",raw:Ts(r[0],`
`)}}blockquote(e){const r=this.rules.block.blockquote.exec(e);if(r){let n=Ts(r[0],`
`).split(`
`),s="",i="";const o=[];for(;n.length>0;){let a=!1;const c=[];let l;for(l=0;l<n.length;l++)if(this.rules.other.blockquoteStart.test(n[l]))c.push(n[l]),a=!0;else if(!a)c.push(n[l]);else break;n=n.slice(l);const u=c.join(`
`),f=u.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");s=s?`${s}
${u}`:u,i=i?`${i}
${f}`:f;const h=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(f,o,!0),this.lexer.state.top=h,n.length===0)break;const g=o.at(-1);if((g==null?void 0:g.type)==="code")break;if((g==null?void 0:g.type)==="blockquote"){const y=g,A=y.raw+`
`+n.join(`
`),E=this.blockquote(A);o[o.length-1]=E,s=s.substring(0,s.length-y.raw.length)+E.raw,i=i.substring(0,i.length-y.text.length)+E.text;break}else if((g==null?void 0:g.type)==="list"){const y=g,A=y.raw+`
`+n.join(`
`),E=this.list(A);o[o.length-1]=E,s=s.substring(0,s.length-g.raw.length)+E.raw,i=i.substring(0,i.length-y.raw.length)+E.raw,n=A.substring(o.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:s,tokens:o,text:i}}}list(e){let r=this.rules.block.list.exec(e);if(r){let n=r[1].trim();const s=n.length>1,i={type:"list",raw:"",ordered:s,start:s?+n.slice(0,-1):"",loose:!1,items:[]};n=s?`\\d{1,9}\\${n.slice(-1)}`:`\\${n}`,this.options.pedantic&&(n=s?n:"[*+-]");const o=this.rules.other.listItemRegex(n);let a=!1;for(;e;){let l=!1,u="",f="";if(!(r=o.exec(e))||this.rules.block.hr.test(e))break;u=r[0],e=e.substring(u.length);let h=r[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,x=>" ".repeat(3*x.length)),g=e.split(`
`,1)[0],y=!h.trim(),A=0;if(this.options.pedantic?(A=2,f=h.trimStart()):y?A=r[1].length+1:(A=r[2].search(this.rules.other.nonSpaceChar),A=A>4?1:A,f=h.slice(A),A+=r[1].length),y&&this.rules.other.blankLine.test(g)&&(u+=g+`
`,e=e.substring(g.length+1),l=!0),!l){const x=this.rules.other.nextBulletRegex(A),T=this.rules.other.hrRegex(A),b=this.rules.other.fencesBeginRegex(A),S=this.rules.other.headingBeginRegex(A),v=this.rules.other.htmlBeginRegex(A);for(;e;){const N=e.split(`
`,1)[0];let F;if(g=N,this.options.pedantic?(g=g.replace(this.rules.other.listReplaceNesting,"  "),F=g):F=g.replace(this.rules.other.tabCharGlobal,"    "),b.test(g)||S.test(g)||v.test(g)||x.test(g)||T.test(g))break;if(F.search(this.rules.other.nonSpaceChar)>=A||!g.trim())f+=`
`+F.slice(A);else{if(y||h.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||b.test(h)||S.test(h)||T.test(h))break;f+=`
`+g}!y&&!g.trim()&&(y=!0),u+=N+`
`,e=e.substring(N.length+1),h=F.slice(A)}}i.loose||(a?i.loose=!0:this.rules.other.doubleBlankLine.test(u)&&(a=!0));let E=null,m;this.options.gfm&&(E=this.rules.other.listIsTask.exec(f),E&&(m=E[0]!=="[ ] ",f=f.replace(this.rules.other.listReplaceTask,""))),i.items.push({type:"list_item",raw:u,task:!!E,checked:m,loose:!1,text:f,tokens:[]}),i.raw+=u}const c=i.items.at(-1);if(c)c.raw=c.raw.trimEnd(),c.text=c.text.trimEnd();else return;i.raw=i.raw.trimEnd();for(let l=0;l<i.items.length;l++)if(this.lexer.state.top=!1,i.items[l].tokens=this.lexer.blockTokens(i.items[l].text,[]),!i.loose){const u=i.items[l].tokens.filter(h=>h.type==="space"),f=u.length>0&&u.some(h=>this.rules.other.anyLine.test(h.raw));i.loose=f}if(i.loose)for(let l=0;l<i.items.length;l++)i.items[l].loose=!0;return i}}html(e){const r=this.rules.block.html.exec(e);if(r)return{type:"html",block:!0,raw:r[0],pre:r[1]==="pre"||r[1]==="script"||r[1]==="style",text:r[0]}}def(e){const r=this.rules.block.def.exec(e);if(r){const n=r[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),s=r[2]?r[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",i=r[3]?r[3].substring(1,r[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):r[3];return{type:"def",tag:n,raw:r[0],href:s,title:i}}}table(e){var a;const r=this.rules.block.table.exec(e);if(!r||!this.rules.other.tableDelimiter.test(r[2]))return;const n=ad(r[1]),s=r[2].replace(this.rules.other.tableAlignChars,"").split("|"),i=(a=r[3])!=null&&a.trim()?r[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],o={type:"table",raw:r[0],header:[],align:[],rows:[]};if(n.length===s.length){for(const c of s)this.rules.other.tableAlignRight.test(c)?o.align.push("right"):this.rules.other.tableAlignCenter.test(c)?o.align.push("center"):this.rules.other.tableAlignLeft.test(c)?o.align.push("left"):o.align.push(null);for(let c=0;c<n.length;c++)o.header.push({text:n[c],tokens:this.lexer.inline(n[c]),header:!0,align:o.align[c]});for(const c of i)o.rows.push(ad(c,o.header.length).map((l,u)=>({text:l,tokens:this.lexer.inline(l),header:!1,align:o.align[u]})));return o}}lheading(e){const r=this.rules.block.lheading.exec(e);if(r)return{type:"heading",raw:r[0],depth:r[2].charAt(0)==="="?1:2,text:r[1],tokens:this.lexer.inline(r[1])}}paragraph(e){const r=this.rules.block.paragraph.exec(e);if(r){const n=r[1].charAt(r[1].length-1)===`
`?r[1].slice(0,-1):r[1];return{type:"paragraph",raw:r[0],text:n,tokens:this.lexer.inline(n)}}}text(e){const r=this.rules.block.text.exec(e);if(r)return{type:"text",raw:r[0],text:r[0],tokens:this.lexer.inline(r[0])}}escape(e){const r=this.rules.inline.escape.exec(e);if(r)return{type:"escape",raw:r[0],text:r[1]}}tag(e){const r=this.rules.inline.tag.exec(e);if(r)return!this.lexer.state.inLink&&this.rules.other.startATag.test(r[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(r[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(r[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(r[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:r[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:r[0]}}link(e){const r=this.rules.inline.link.exec(e);if(r){const n=r[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(n)){if(!this.rules.other.endAngleBracket.test(n))return;const o=Ts(n.slice(0,-1),"\\");if((n.length-o.length)%2===0)return}else{const o=Rb(r[2],"()");if(o>-1){const c=(r[0].indexOf("!")===0?5:4)+r[1].length+o;r[2]=r[2].substring(0,o),r[0]=r[0].substring(0,c).trim(),r[3]=""}}let s=r[2],i="";if(this.options.pedantic){const o=this.rules.other.pedanticHrefTitle.exec(s);o&&(s=o[1],i=o[3])}else i=r[3]?r[3].slice(1,-1):"";return s=s.trim(),this.rules.other.startAngleBracket.test(s)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(n)?s=s.slice(1):s=s.slice(1,-1)),cd(r,{href:s&&s.replace(this.rules.inline.anyPunctuation,"$1"),title:i&&i.replace(this.rules.inline.anyPunctuation,"$1")},r[0],this.lexer,this.rules)}}reflink(e,r){let n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){const s=(n[2]||n[1]).replace(this.rules.other.multipleSpaceGlobal," "),i=r[s.toLowerCase()];if(!i){const o=n[0].charAt(0);return{type:"text",raw:o,text:o}}return cd(n,i,n[0],this.lexer,this.rules)}}emStrong(e,r,n=""){let s=this.rules.inline.emStrongLDelim.exec(e);if(!s||s[3]&&n.match(this.rules.other.unicodeAlphaNumeric))return;if(!(s[1]||s[2]||"")||!n||this.rules.inline.punctuation.exec(n)){const o=[...s[0]].length-1;let a,c,l=o,u=0;const f=s[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(f.lastIndex=0,r=r.slice(-1*e.length+o);(s=f.exec(r))!=null;){if(a=s[1]||s[2]||s[3]||s[4]||s[5]||s[6],!a)continue;if(c=[...a].length,s[3]||s[4]){l+=c;continue}else if((s[5]||s[6])&&o%3&&!((o+c)%3)){u+=c;continue}if(l-=c,l>0)continue;c=Math.min(c,c+l+u);const h=[...s[0]][0].length,g=e.slice(0,o+s.index+h+c);if(Math.min(o,c)%2){const A=g.slice(1,-1);return{type:"em",raw:g,text:A,tokens:this.lexer.inlineTokens(A)}}const y=g.slice(2,-2);return{type:"strong",raw:g,text:y,tokens:this.lexer.inlineTokens(y)}}}}codespan(e){const r=this.rules.inline.code.exec(e);if(r){let n=r[2].replace(this.rules.other.newLineCharGlobal," ");const s=this.rules.other.nonSpaceChar.test(n),i=this.rules.other.startingSpaceChar.test(n)&&this.rules.other.endingSpaceChar.test(n);return s&&i&&(n=n.substring(1,n.length-1)),{type:"codespan",raw:r[0],text:n}}}br(e){const r=this.rules.inline.br.exec(e);if(r)return{type:"br",raw:r[0]}}del(e){const r=this.rules.inline.del.exec(e);if(r)return{type:"del",raw:r[0],text:r[2],tokens:this.lexer.inlineTokens(r[2])}}autolink(e){const r=this.rules.inline.autolink.exec(e);if(r){let n,s;return r[2]==="@"?(n=r[1],s="mailto:"+n):(n=r[1],s=n),{type:"link",raw:r[0],text:n,href:s,tokens:[{type:"text",raw:n,text:n}]}}}url(e){var n;let r;if(r=this.rules.inline.url.exec(e)){let s,i;if(r[2]==="@")s=r[0],i="mailto:"+s;else{let o;do o=r[0],r[0]=((n=this.rules.inline._backpedal.exec(r[0]))==null?void 0:n[0])??"";while(o!==r[0]);s=r[0],r[1]==="www."?i="http://"+r[0]:i=r[0]}return{type:"link",raw:r[0],text:s,href:i,tokens:[{type:"text",raw:s,text:s}]}}}inlineText(e){const r=this.rules.inline.text.exec(e);if(r){const n=this.lexer.state.inRawBlock;return{type:"text",raw:r[0],text:r[0],escaped:n}}}}class or{constructor(e){z(this,"tokens");z(this,"options");z(this,"state");z(this,"tokenizer");z(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=e||vn,this.options.tokenizer=this.options.tokenizer||new ko,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const r={other:qt,block:ro.normal,inline:Rs.normal};this.options.pedantic?(r.block=ro.pedantic,r.inline=Rs.pedantic):this.options.gfm&&(r.block=ro.gfm,this.options.breaks?r.inline=Rs.breaks:r.inline=Rs.gfm),this.tokenizer.rules=r}static get rules(){return{block:ro,inline:Rs}}static lex(e,r){return new or(r).lex(e)}static lexInline(e,r){return new or(r).inlineTokens(e)}lex(e){e=e.replace(qt.carriageReturn,`
`),this.blockTokens(e,this.tokens);for(let r=0;r<this.inlineQueue.length;r++){const n=this.inlineQueue[r];this.inlineTokens(n.src,n.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,r=[],n=!1){var s,i,o;for(this.options.pedantic&&(e=e.replace(qt.tabCharGlobal,"    ").replace(qt.spaceLine,""));e;){let a;if((i=(s=this.options.extensions)==null?void 0:s.block)!=null&&i.some(l=>(a=l.call({lexer:this},e,r))?(e=e.substring(a.raw.length),r.push(a),!0):!1))continue;if(a=this.tokenizer.space(e)){e=e.substring(a.raw.length);const l=r.at(-1);a.raw.length===1&&l!==void 0?l.raw+=`
`:r.push(a);continue}if(a=this.tokenizer.code(e)){e=e.substring(a.raw.length);const l=r.at(-1);(l==null?void 0:l.type)==="paragraph"||(l==null?void 0:l.type)==="text"?(l.raw+=`
`+a.raw,l.text+=`
`+a.text,this.inlineQueue.at(-1).src=l.text):r.push(a);continue}if(a=this.tokenizer.fences(e)){e=e.substring(a.raw.length),r.push(a);continue}if(a=this.tokenizer.heading(e)){e=e.substring(a.raw.length),r.push(a);continue}if(a=this.tokenizer.hr(e)){e=e.substring(a.raw.length),r.push(a);continue}if(a=this.tokenizer.blockquote(e)){e=e.substring(a.raw.length),r.push(a);continue}if(a=this.tokenizer.list(e)){e=e.substring(a.raw.length),r.push(a);continue}if(a=this.tokenizer.html(e)){e=e.substring(a.raw.length),r.push(a);continue}if(a=this.tokenizer.def(e)){e=e.substring(a.raw.length);const l=r.at(-1);(l==null?void 0:l.type)==="paragraph"||(l==null?void 0:l.type)==="text"?(l.raw+=`
`+a.raw,l.text+=`
`+a.raw,this.inlineQueue.at(-1).src=l.text):this.tokens.links[a.tag]||(this.tokens.links[a.tag]={href:a.href,title:a.title});continue}if(a=this.tokenizer.table(e)){e=e.substring(a.raw.length),r.push(a);continue}if(a=this.tokenizer.lheading(e)){e=e.substring(a.raw.length),r.push(a);continue}let c=e;if((o=this.options.extensions)!=null&&o.startBlock){let l=1/0;const u=e.slice(1);let f;this.options.extensions.startBlock.forEach(h=>{f=h.call({lexer:this},u),typeof f=="number"&&f>=0&&(l=Math.min(l,f))}),l<1/0&&l>=0&&(c=e.substring(0,l+1))}if(this.state.top&&(a=this.tokenizer.paragraph(c))){const l=r.at(-1);n&&(l==null?void 0:l.type)==="paragraph"?(l.raw+=`
`+a.raw,l.text+=`
`+a.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=l.text):r.push(a),n=c.length!==e.length,e=e.substring(a.raw.length);continue}if(a=this.tokenizer.text(e)){e=e.substring(a.raw.length);const l=r.at(-1);(l==null?void 0:l.type)==="text"?(l.raw+=`
`+a.raw,l.text+=`
`+a.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=l.text):r.push(a);continue}if(e){const l="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(l);break}else throw new Error(l)}}return this.state.top=!0,r}inline(e,r=[]){return this.inlineQueue.push({src:e,tokens:r}),r}inlineTokens(e,r=[]){var a,c,l;let n=e,s=null;if(this.tokens.links){const u=Object.keys(this.tokens.links);if(u.length>0)for(;(s=this.tokenizer.rules.inline.reflinkSearch.exec(n))!=null;)u.includes(s[0].slice(s[0].lastIndexOf("[")+1,-1))&&(n=n.slice(0,s.index)+"["+"a".repeat(s[0].length-2)+"]"+n.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(s=this.tokenizer.rules.inline.blockSkip.exec(n))!=null;)n=n.slice(0,s.index)+"["+"a".repeat(s[0].length-2)+"]"+n.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(s=this.tokenizer.rules.inline.anyPunctuation.exec(n))!=null;)n=n.slice(0,s.index)+"++"+n.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);let i=!1,o="";for(;e;){i||(o=""),i=!1;let u;if((c=(a=this.options.extensions)==null?void 0:a.inline)!=null&&c.some(h=>(u=h.call({lexer:this},e,r))?(e=e.substring(u.raw.length),r.push(u),!0):!1))continue;if(u=this.tokenizer.escape(e)){e=e.substring(u.raw.length),r.push(u);continue}if(u=this.tokenizer.tag(e)){e=e.substring(u.raw.length),r.push(u);continue}if(u=this.tokenizer.link(e)){e=e.substring(u.raw.length),r.push(u);continue}if(u=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(u.raw.length);const h=r.at(-1);u.type==="text"&&(h==null?void 0:h.type)==="text"?(h.raw+=u.raw,h.text+=u.text):r.push(u);continue}if(u=this.tokenizer.emStrong(e,n,o)){e=e.substring(u.raw.length),r.push(u);continue}if(u=this.tokenizer.codespan(e)){e=e.substring(u.raw.length),r.push(u);continue}if(u=this.tokenizer.br(e)){e=e.substring(u.raw.length),r.push(u);continue}if(u=this.tokenizer.del(e)){e=e.substring(u.raw.length),r.push(u);continue}if(u=this.tokenizer.autolink(e)){e=e.substring(u.raw.length),r.push(u);continue}if(!this.state.inLink&&(u=this.tokenizer.url(e))){e=e.substring(u.raw.length),r.push(u);continue}let f=e;if((l=this.options.extensions)!=null&&l.startInline){let h=1/0;const g=e.slice(1);let y;this.options.extensions.startInline.forEach(A=>{y=A.call({lexer:this},g),typeof y=="number"&&y>=0&&(h=Math.min(h,y))}),h<1/0&&h>=0&&(f=e.substring(0,h+1))}if(u=this.tokenizer.inlineText(f)){e=e.substring(u.raw.length),u.raw.slice(-1)!=="_"&&(o=u.raw.slice(-1)),i=!0;const h=r.at(-1);(h==null?void 0:h.type)==="text"?(h.raw+=u.raw,h.text+=u.text):r.push(u);continue}if(e){const h="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(h);break}else throw new Error(h)}}return r}}class Ro{constructor(e){z(this,"options");z(this,"parser");this.options=e||vn}space(e){return""}code({text:e,lang:r,escaped:n}){var o;const s=(o=(r||"").match(qt.notSpaceStart))==null?void 0:o[0],i=e.replace(qt.endingNewline,"")+`
`;return s?'<pre><code class="language-'+pr(s)+'">'+(n?i:pr(i,!0))+`</code></pre>
`:"<pre><code>"+(n?i:pr(i,!0))+`</code></pre>
`}blockquote({tokens:e}){return`<blockquote>
${this.parser.parse(e)}</blockquote>
`}html({text:e}){return e}heading({tokens:e,depth:r}){return`<h${r}>${this.parser.parseInline(e)}</h${r}>
`}hr(e){return`<hr>
`}list(e){const r=e.ordered,n=e.start;let s="";for(let a=0;a<e.items.length;a++){const c=e.items[a];s+=this.listitem(c)}const i=r?"ol":"ul",o=r&&n!==1?' start="'+n+'"':"";return"<"+i+o+`>
`+s+"</"+i+`>
`}listitem(e){var n;let r="";if(e.task){const s=this.checkbox({checked:!!e.checked});e.loose?((n=e.tokens[0])==null?void 0:n.type)==="paragraph"?(e.tokens[0].text=s+" "+e.tokens[0].text,e.tokens[0].tokens&&e.tokens[0].tokens.length>0&&e.tokens[0].tokens[0].type==="text"&&(e.tokens[0].tokens[0].text=s+" "+pr(e.tokens[0].tokens[0].text),e.tokens[0].tokens[0].escaped=!0)):e.tokens.unshift({type:"text",raw:s+" ",text:s+" ",escaped:!0}):r+=s+" "}return r+=this.parser.parse(e.tokens,!!e.loose),`<li>${r}</li>
`}checkbox({checked:e}){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:e}){return`<p>${this.parser.parseInline(e)}</p>
`}table(e){let r="",n="";for(let i=0;i<e.header.length;i++)n+=this.tablecell(e.header[i]);r+=this.tablerow({text:n});let s="";for(let i=0;i<e.rows.length;i++){const o=e.rows[i];n="";for(let a=0;a<o.length;a++)n+=this.tablecell(o[a]);s+=this.tablerow({text:n})}return s&&(s=`<tbody>${s}</tbody>`),`<table>
<thead>
`+r+`</thead>
`+s+`</table>
`}tablerow({text:e}){return`<tr>
${e}</tr>
`}tablecell(e){const r=this.parser.parseInline(e.tokens),n=e.header?"th":"td";return(e.align?`<${n} align="${e.align}">`:`<${n}>`)+r+`</${n}>
`}strong({tokens:e}){return`<strong>${this.parser.parseInline(e)}</strong>`}em({tokens:e}){return`<em>${this.parser.parseInline(e)}</em>`}codespan({text:e}){return`<code>${pr(e,!0)}</code>`}br(e){return"<br>"}del({tokens:e}){return`<del>${this.parser.parseInline(e)}</del>`}link({href:e,title:r,tokens:n}){const s=this.parser.parseInline(n),i=od(e);if(i===null)return s;e=i;let o='<a href="'+e+'"';return r&&(o+=' title="'+pr(r)+'"'),o+=">"+s+"</a>",o}image({href:e,title:r,text:n}){const s=od(e);if(s===null)return pr(n);e=s;let i=`<img src="${e}" alt="${n}"`;return r&&(i+=` title="${pr(r)}"`),i+=">",i}text(e){return"tokens"in e&&e.tokens?this.parser.parseInline(e.tokens):"escaped"in e&&e.escaped?e.text:pr(e.text)}}class Zl{strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return""+e}image({text:e}){return""+e}br(){return""}}class ar{constructor(e){z(this,"options");z(this,"renderer");z(this,"textRenderer");this.options=e||vn,this.options.renderer=this.options.renderer||new Ro,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new Zl}static parse(e,r){return new ar(r).parse(e)}static parseInline(e,r){return new ar(r).parseInline(e)}parse(e,r=!0){var s,i;let n="";for(let o=0;o<e.length;o++){const a=e[o];if((i=(s=this.options.extensions)==null?void 0:s.renderers)!=null&&i[a.type]){const l=a,u=this.options.extensions.renderers[l.type].call({parser:this},l);if(u!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(l.type)){n+=u||"";continue}}const c=a;switch(c.type){case"space":{n+=this.renderer.space(c);continue}case"hr":{n+=this.renderer.hr(c);continue}case"heading":{n+=this.renderer.heading(c);continue}case"code":{n+=this.renderer.code(c);continue}case"table":{n+=this.renderer.table(c);continue}case"blockquote":{n+=this.renderer.blockquote(c);continue}case"list":{n+=this.renderer.list(c);continue}case"html":{n+=this.renderer.html(c);continue}case"paragraph":{n+=this.renderer.paragraph(c);continue}case"text":{let l=c,u=this.renderer.text(l);for(;o+1<e.length&&e[o+1].type==="text";)l=e[++o],u+=`
`+this.renderer.text(l);r?n+=this.renderer.paragraph({type:"paragraph",raw:u,text:u,tokens:[{type:"text",raw:u,text:u,escaped:!0}]}):n+=u;continue}default:{const l='Token with "'+c.type+'" type was not found.';if(this.options.silent)return console.error(l),"";throw new Error(l)}}}return n}parseInline(e,r=this.renderer){var s,i;let n="";for(let o=0;o<e.length;o++){const a=e[o];if((i=(s=this.options.extensions)==null?void 0:s.renderers)!=null&&i[a.type]){const l=this.options.extensions.renderers[a.type].call({parser:this},a);if(l!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(a.type)){n+=l||"";continue}}const c=a;switch(c.type){case"escape":{n+=r.text(c);break}case"html":{n+=r.html(c);break}case"link":{n+=r.link(c);break}case"image":{n+=r.image(c);break}case"strong":{n+=r.strong(c);break}case"em":{n+=r.em(c);break}case"codespan":{n+=r.codespan(c);break}case"br":{n+=r.br(c);break}case"del":{n+=r.del(c);break}case"text":{n+=r.text(c);break}default:{const l='Token with "'+c.type+'" type was not found.';if(this.options.silent)return console.error(l),"";throw new Error(l)}}}return n}}class qs{constructor(e){z(this,"options");z(this,"block");this.options=e||vn}preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}provideLexer(){return this.block?or.lex:or.lexInline}provideParser(){return this.block?ar.parse:ar.parseInline}}z(qs,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"]));class Pb{constructor(...e){z(this,"defaults",Hl());z(this,"options",this.setOptions);z(this,"parse",this.parseMarkdown(!0));z(this,"parseInline",this.parseMarkdown(!1));z(this,"Parser",ar);z(this,"Renderer",Ro);z(this,"TextRenderer",Zl);z(this,"Lexer",or);z(this,"Tokenizer",ko);z(this,"Hooks",qs);this.use(...e)}walkTokens(e,r){var s,i;let n=[];for(const o of e)switch(n=n.concat(r.call(this,o)),o.type){case"table":{const a=o;for(const c of a.header)n=n.concat(this.walkTokens(c.tokens,r));for(const c of a.rows)for(const l of c)n=n.concat(this.walkTokens(l.tokens,r));break}case"list":{const a=o;n=n.concat(this.walkTokens(a.items,r));break}default:{const a=o;(i=(s=this.defaults.extensions)==null?void 0:s.childTokens)!=null&&i[a.type]?this.defaults.extensions.childTokens[a.type].forEach(c=>{const l=a[c].flat(1/0);n=n.concat(this.walkTokens(l,r))}):a.tokens&&(n=n.concat(this.walkTokens(a.tokens,r)))}}return n}use(...e){const r=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(n=>{const s={...n};if(s.async=this.defaults.async||s.async||!1,n.extensions&&(n.extensions.forEach(i=>{if(!i.name)throw new Error("extension name required");if("renderer"in i){const o=r.renderers[i.name];o?r.renderers[i.name]=function(...a){let c=i.renderer.apply(this,a);return c===!1&&(c=o.apply(this,a)),c}:r.renderers[i.name]=i.renderer}if("tokenizer"in i){if(!i.level||i.level!=="block"&&i.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const o=r[i.level];o?o.unshift(i.tokenizer):r[i.level]=[i.tokenizer],i.start&&(i.level==="block"?r.startBlock?r.startBlock.push(i.start):r.startBlock=[i.start]:i.level==="inline"&&(r.startInline?r.startInline.push(i.start):r.startInline=[i.start]))}"childTokens"in i&&i.childTokens&&(r.childTokens[i.name]=i.childTokens)}),s.extensions=r),n.renderer){const i=this.defaults.renderer||new Ro(this.defaults);for(const o in n.renderer){if(!(o in i))throw new Error(`renderer '${o}' does not exist`);if(["options","parser"].includes(o))continue;const a=o,c=n.renderer[a],l=i[a];i[a]=(...u)=>{let f=c.apply(i,u);return f===!1&&(f=l.apply(i,u)),f||""}}s.renderer=i}if(n.tokenizer){const i=this.defaults.tokenizer||new ko(this.defaults);for(const o in n.tokenizer){if(!(o in i))throw new Error(`tokenizer '${o}' does not exist`);if(["options","rules","lexer"].includes(o))continue;const a=o,c=n.tokenizer[a],l=i[a];i[a]=(...u)=>{let f=c.apply(i,u);return f===!1&&(f=l.apply(i,u)),f}}s.tokenizer=i}if(n.hooks){const i=this.defaults.hooks||new qs;for(const o in n.hooks){if(!(o in i))throw new Error(`hook '${o}' does not exist`);if(["options","block"].includes(o))continue;const a=o,c=n.hooks[a],l=i[a];qs.passThroughHooks.has(o)?i[a]=u=>{if(this.defaults.async)return Promise.resolve(c.call(i,u)).then(h=>l.call(i,h));const f=c.call(i,u);return l.call(i,f)}:i[a]=(...u)=>{let f=c.apply(i,u);return f===!1&&(f=l.apply(i,u)),f}}s.hooks=i}if(n.walkTokens){const i=this.defaults.walkTokens,o=n.walkTokens;s.walkTokens=function(a){let c=[];return c.push(o.call(this,a)),i&&(c=c.concat(i.call(this,a))),c}}this.defaults={...this.defaults,...s}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,r){return or.lex(e,r??this.defaults)}parser(e,r){return ar.parse(e,r??this.defaults)}parseMarkdown(e){return(n,s)=>{const i={...s},o={...this.defaults,...i},a=this.onError(!!o.silent,!!o.async);if(this.defaults.async===!0&&i.async===!1)return a(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof n>"u"||n===null)return a(new Error("marked(): input parameter is undefined or null"));if(typeof n!="string")return a(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected"));o.hooks&&(o.hooks.options=o,o.hooks.block=e);const c=o.hooks?o.hooks.provideLexer():e?or.lex:or.lexInline,l=o.hooks?o.hooks.provideParser():e?ar.parse:ar.parseInline;if(o.async)return Promise.resolve(o.hooks?o.hooks.preprocess(n):n).then(u=>c(u,o)).then(u=>o.hooks?o.hooks.processAllTokens(u):u).then(u=>o.walkTokens?Promise.all(this.walkTokens(u,o.walkTokens)).then(()=>u):u).then(u=>l(u,o)).then(u=>o.hooks?o.hooks.postprocess(u):u).catch(a);try{o.hooks&&(n=o.hooks.preprocess(n));let u=c(n,o);o.hooks&&(u=o.hooks.processAllTokens(u)),o.walkTokens&&this.walkTokens(u,o.walkTokens);let f=l(u,o);return o.hooks&&(f=o.hooks.postprocess(f)),f}catch(u){return a(u)}}}onError(e,r){return n=>{if(n.message+=`
Please report this to https://github.com/markedjs/marked.`,e){const s="<p>An error occurred:</p><pre>"+pr(n.message+"",!0)+"</pre>";return r?Promise.resolve(s):s}if(r)return Promise.reject(n);throw n}}}const bn=new Pb;function Ye(t,e){return bn.parse(t,e)}Ye.options=Ye.setOptions=function(t){return bn.setOptions(t),Ye.defaults=bn.defaults,Ep(Ye.defaults),Ye};Ye.getDefaults=Hl;Ye.defaults=vn;Ye.use=function(...t){return bn.use(...t),Ye.defaults=bn.defaults,Ep(Ye.defaults),Ye};Ye.walkTokens=function(t,e){return bn.walkTokens(t,e)};Ye.parseInline=bn.parseInline;Ye.Parser=ar;Ye.parser=ar.parse;Ye.Renderer=Ro;Ye.TextRenderer=Zl;Ye.Lexer=or;Ye.lexer=or.lex;Ye.Tokenizer=ko;Ye.Hooks=qs;Ye.parse=Ye;Ye.options;Ye.setOptions;Ye.use;Ye.walkTokens;Ye.parseInline;ar.parse;or.lex;function Yl(t,e){We(e,!0);let r=ne(e,"ref",15,null),n=ct(e,["$$slots","$$events","$$legacy","ref","class"]);var s=be(),i=de(s),o=pe(()=>cr("relative flex size-10 shrink-0 overflow-hidden rounded-full",e.class));at(i,()=>Qy,(a,c)=>{c(a,Ht({get class(){return k(o)}},()=>n,{get ref(){return r()},set ref(l){r(l)}}))}),$(t,s),Ke()}function Ql(t,e){We(e,!0);let r=ne(e,"ref",15,null),n=ct(e,["$$slots","$$events","$$legacy","ref","class"]);var s=be(),i=de(s),o=pe(()=>cr("aspect-square h-full w-full",e.class));at(i,()=>e0,(a,c)=>{c(a,Ht({get class(){return k(o)}},()=>n,{get ref(){return r()},set ref(l){r(l)}}))}),$(t,s),Ke()}function Jl(t,e){We(e,!0);let r=ne(e,"ref",15,null),n=ct(e,["$$slots","$$events","$$legacy","ref","class"]);var s=be(),i=de(s),o=pe(()=>cr("bg-muted flex h-full w-full items-center justify-center rounded-full",e.class));at(i,()=>r0,(a,c)=>{c(a,Ht({get class(){return k(o)}},()=>n,{get ref(){return r()},set ref(l){r(l)}}))}),$(t,s),Ke()}var Ib=he("<!> <!>",1),Bb=he(`<div class="mb-3 flex"><div class="rounded-lg rounded-bl-none bg-gradient-to-r
        from-slate-200 to-zinc-100 p-4"><div class="flex items-center justify-between"><div class="flex items-center gap-3"><!> <span>BOT</span></div> <div class="text-xs"> </div></div> <div class="mt-2 max-w-md overflow-auto"><h1>Welcome to MastroGPT</h1> <p>Please select the chat you want to use on the side menu.</p></div></div></div>`);function Mb(t,e){We(e,!1),qi();var r=Bb(),n=ie(r),s=ie(n),i=ie(s),o=ie(i);Yl(o,{children:(l,u)=>{var f=Ib(),h=de(f);Ql(h,{src:"/img/robot-mini.png",alt:"BOT"});var g=Ce(h,2);Jl(g,{children:(y,A)=>{ut();var E=Rt("BOT");$(y,E)},$$slots:{default:!0}}),$(l,f)},$$slots:{default:!0}}),ut(2),se(i);var a=Ce(i,2),c=ie(a,!0);je(()=>Tt(c,Ol(new Date))),se(a),se(s),ut(2),se(n),se(r),$(t,r),Ke()}var Nb=he("<!> <!>",1),Db=he('<div><div><div class="flex items-center justify-between gap-8 svelte-xqvrew"><div class="flex items-center gap-1 svelte-xqvrew"><!> <span class="svelte-xqvrew"> </span></div> <div class="text-xs svelte-xqvrew"> </div></div> <div class="mt-2 max-w-md overflow-auto whitespace-pre-line svelte-xqvrew"><!></div></div></div>');function ld(t,e){We(e,!0);var r=Db(),n=ie(r),s=ie(n),i=ie(s),o=ie(i);at(o,()=>Yl,(g,y)=>{y(g,{children:(A,E)=>{var m=Nb(),x=de(m);at(x,()=>Ql,(b,S)=>{S(b,{get src(){return e.img},get alt(){return e.name}})});var T=Ce(x,2);at(T,()=>Jl,(b,S)=>{S(b,{children:(v,N)=>{ut();var F=Rt("BOT");$(v,F)},$$slots:{default:!0}})}),$(A,m)},$$slots:{default:!0}})});var a=Ce(o,2),c=ie(a,!0);se(a),se(i);var l=Ce(i,2),u=ie(l,!0);je(()=>Tt(u,Ol(new Date))),se(l),se(s);var f=Ce(s,2),h=ie(f);Py(h,()=>e.html),se(f),se(n),se(r),je(()=>{ed(r,`${`mb-3 flex ${e.side}-msg`??""} svelte-xqvrew`),ed(n,`${`rounded-lg rounded-bl-none p-4 
	${e.side==="left"?"bg-gradient-to-r from-slate-200 to-zinc-100":"bg-gradient-to-r from-blue-300 to-blue-400"}`??""} svelte-xqvrew`),Tt(c,e.name)}),$(t,r),Ke()}var Fb=he("<!> <!>",1),Ob=he(`<div class="w-[250px] rounded-lg rounded-bl-none
        bg-gradient-to-r from-slate-200 to-zinc-100 p-4 svelte-1sq3xr"><div class="flex items-center justify-between svelte-1sq3xr"><div class="flex items-center gap-3 svelte-1sq3xr"><!> <span class="svelte-1sq3xr">BOT</span></div> <div class="text-xs svelte-1sq3xr"> </div></div> <div class="mt-3 max-w-md overflow-auto px-2 svelte-1sq3xr"><div class="dots mt-2 flex space-x-1 svelte-1sq3xr"><span class="h-2 w-2 rounded-full bg-gray-500 svelte-1sq3xr"></span> <span class="h-2 w-2 rounded-full bg-gray-500 svelte-1sq3xr"></span> <span class="h-2 w-2 rounded-full bg-gray-500 svelte-1sq3xr"></span></div></div></div>`);function Lb(t,e){We(e,!1),qi();var r=Ob(),n=ie(r),s=ie(n),i=ie(s);Yl(i,{children:(c,l)=>{var u=Fb(),f=de(u);Ql(f,{src:"/img/robot-mini.png",alt:"BOT"});var h=Ce(f,2);Jl(h,{children:(g,y)=>{ut();var A=Rt("BOT");$(g,A)},$$slots:{default:!0}}),$(c,u)},$$slots:{default:!0}}),ut(2),se(s);var o=Ce(s,2),a=ie(o,!0);je(()=>Tt(a,Ol(new Date))),se(o),se(n),ut(2),se(r),$(t,r),Ke()}function On(t,e){We(e,!0);let r=ne(e,"ref",15,null),n=ct(e,["$$slots","$$events","$$legacy","ref","class"]);var s=be(),i=de(s),o=pe(()=>cr("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",e.class));at(i,()=>C0,(a,c)=>{c(a,Ht({get class(){return k(o)}},()=>n,{get ref(){return r()},set ref(l){r(l)}}))}),$(t,s),Ke()}var Ub=he("<textarea></textarea>");function ud(t,e){We(e,!0);const r=ky();let n=ne(e,"ref",15,null),s=ne(e,"value",15),i=ne(e,"autoResize",3,!0),o=ne(e,"maxHeight",3,"300px"),a=ct(e,["$$slots","$$events","$$legacy","ref","value","class","autoResize","maxHeight"]);function c(){if(n()&&i()){n(n().style.height="auto",!0);const h=Math.min(n().scrollHeight,parseInt(o()));n(n().style.height=`${h}px`,!0)}}function l(h){h.key==="Enter"&&(h.shiftKey||(h.preventDefault(),r("enterkey",{value:s()})))}Yt(()=>{n()&&s()!==void 0&&c()}),Ll(c);var u=Ub();Ty(u);let f;fs(u,h=>n(h),()=>n()),je(()=>f=jt(u,f,{class:cr("border-input bg-background ring-offset-background placeholder:text-muted-foreground focus-visible:ring-ring flex min-h-[80px] w-full rounded-md border px-3 py-2 text-base focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm resize-none overflow-hidden",e.class),oninput:c,onkeydown:l,style:`max-height: ${o()}`,...a})),Sy(u,s),$(t,u),Ke()}var zb=he('<div class="flex size-4 items-center justify-center text-current"><!></div>');function $b(t,e){We(e,!0);let r=ne(e,"ref",15,null),n=ne(e,"checked",15,!1),s=ne(e,"indeterminate",15,!1),i=ct(e,["$$slots","$$events","$$legacy","ref","checked","indeterminate","class"]);var o=be(),a=de(o),c=pe(()=>cr("border-primary ring-offset-background focus-visible:ring-ring data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground peer box-content size-4 shrink-0 rounded-sm border focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[disabled=true]:cursor-not-allowed data-[disabled=true]:opacity-50",e.class));at(a,()=>m0,(l,u)=>{u(l,Ht({get class(){return k(c)}},()=>i,{get ref(){return r()},set ref(h){r(h)},get checked(){return n()},set checked(h){n(h)},get indeterminate(){return s()},set indeterminate(h){s(h)},children:(h,g)=>{let y=()=>g==null?void 0:g().checked,A=()=>g==null?void 0:g().indeterminate;var E=zb(),m=ie(E);{var x=b=>{K0(b,{class:"size-3.5"})},T=b=>{var S=pe(()=>cr("size-3.5",!y()&&"text-transparent"));Ny(b,{get class(){return k(S)}})};_e(m,b=>{A()?b(x):b(T,!1)})}se(E),$(h,E)},$$slots:{default:!0}}))}),$(t,o),Ke()}function qb(t,e){We(e,!0);let r=ne(e,"ref",15,null),n=ne(e,"value",15,""),s=ct(e,["$$slots","$$events","$$legacy","ref","class","value"]);var i=be(),o=de(i),a=pe(()=>cr("grid gap-2",e.class));at(o,()=>L0,(c,l)=>{l(c,Ht({get class(){return k(a)}},()=>s,{get ref(){return r()},set ref(u){r(u)},get value(){return n()},set value(u){n(u)}}))}),$(t,i),Ke()}var Hb=he('<div class="flex items-center justify-center"><!></div>');function jb(t,e){We(e,!0);let r=ne(e,"ref",15,null),n=ct(e,["$$slots","$$events","$$legacy","ref","class"]);var s=be(),i=de(s),o=pe(()=>cr("border-primary text-primary ring-offset-background focus-visible:ring-ring aspect-square size-4 rounded-full border focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e.class));at(i,()=>z0,(a,c)=>{c(a,Ht({get class(){return k(o)}},()=>n,{get ref(){return r()},set ref(u){r(u)},children:(u,f)=>{let h=()=>f==null?void 0:f().checked;var g=Hb(),y=ie(g);{var A=E=>{H0(E,{class:"size-2.5 fill-current text-current"})};_e(y,E=>{h()&&E(A)})}se(g),$(u,g)},$$slots:{default:!0}}))}),$(t,s),Ke()}const Wb=t=>{let e=t.httpHandler;return{setHttpHandler(r){e=r},httpHandler(){return e},updateHttpClientConfig(r,n){e.updateHttpClientConfig(r,n)},httpHandlerConfigs(){return e.httpHandlerConfigs()}}},Kb=t=>({httpHandler:t.httpHandler()});var dd;(function(t){t.HEADER="header",t.QUERY="query"})(dd||(dd={}));var fd;(function(t){t.HEADER="header",t.QUERY="query"})(fd||(fd={}));var Ys;(function(t){t.HTTP="http",t.HTTPS="https"})(Ys||(Ys={}));var To;(function(t){t.MD5="md5",t.CRC32="crc32",t.CRC32C="crc32c",t.SHA1="sha1",t.SHA256="sha256"})(To||(To={}));var hd;(function(t){t[t.HEADER=0]="HEADER",t[t.TRAILER=1]="TRAILER"})(hd||(hd={}));const yl="__smithy_context";var pd;(function(t){t.PROFILE="profile",t.SSO_SESSION="sso-session",t.SERVICES="services"})(pd||(pd={}));var gd;(function(t){t.HTTP_0_9="http/0.9",t.HTTP_1_0="http/1.0",t.TDS_8_0="tds/8.0"})(gd||(gd={}));class bt{constructor(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?e.protocol.slice(-1)!==":"?`${e.protocol}:`:e.protocol:"https:",this.path=e.path?e.path.charAt(0)!=="/"?`/${e.path}`:e.path:"/",this.username=e.username,this.password=e.password,this.fragment=e.fragment}static clone(e){const r=new bt({...e,headers:{...e.headers}});return r.query&&(r.query=Vb(r.query)),r}static isInstance(e){if(!e)return!1;const r=e;return"method"in r&&"protocol"in r&&"hostname"in r&&"path"in r&&typeof r.query=="object"&&typeof r.headers=="object"}clone(){return bt.clone(this)}}function Vb(t){return Object.keys(t).reduce((e,r)=>{const n=t[r];return{...e,[r]:Array.isArray(n)?[...n]:n}},{})}class Qs{constructor(e){this.statusCode=e.statusCode,this.reason=e.reason,this.headers=e.headers||{},this.body=e.body}static isInstance(e){if(!e)return!1;const r=e;return typeof r.statusCode=="number"&&typeof r.headers=="object"}}function Gb(t){return e=>async r=>{var s,i;const{request:n}=r;return bt.isInstance(n)&&n.body&&t.runtime==="node"&&((i=(s=t.requestHandler)==null?void 0:s.constructor)==null?void 0:i.name)!=="FetchHttpHandler"&&(n.headers={...n.headers,Expect:"100-continue"}),e({...r,request:n})}}const Xb={step:"build",tags:["SET_EXPECT_HEADER","EXPECT_HEADER"],name:"addExpectContinueMiddleware",override:!0},Zb=t=>({applyToStack:e=>{e.add(Gb(t),Xb)}}),ps={WHEN_SUPPORTED:"WHEN_SUPPORTED",WHEN_REQUIRED:"WHEN_REQUIRED"},Yb=ps.WHEN_SUPPORTED,Ga={WHEN_SUPPORTED:"WHEN_SUPPORTED",WHEN_REQUIRED:"WHEN_REQUIRED"},Qb=ps.WHEN_SUPPORTED;var ot;(function(t){t.MD5="MD5",t.CRC32="CRC32",t.CRC32C="CRC32C",t.CRC64NVME="CRC64NVME",t.SHA1="SHA1",t.SHA256="SHA256"})(ot||(ot={}));var md;(function(t){t.HEADER="header",t.TRAILER="trailer"})(md||(md={}));const bl=ot.CRC32;var yd;(function(t){t.ENV="env",t.CONFIG="shared config entry"})(yd||(yd={}));function Jb(t,e,r){return t.$source||(t.$source={}),t.$source[e]=r,t}function gt(t,e,r){t.__aws_sdk_context?t.__aws_sdk_context.features||(t.__aws_sdk_context.features={}):t.__aws_sdk_context={features:{}},t.__aws_sdk_context.features[e]=r}const bd=t=>{var e,r;return Qs.isInstance(t)?((e=t.headers)==null?void 0:e.date)??((r=t.headers)==null?void 0:r.Date):void 0},eu=t=>new Date(Date.now()+t),ew=(t,e)=>Math.abs(eu(e).getTime()-t)>=3e5,wd=(t,e)=>{const r=Date.parse(t);return ew(r,e)?r-Date.now():e},Hs=(t,e)=>{if(!e)throw new Error(`Property \`${t}\` is not resolved for AWS SDK SigV4Auth`);return e},Np=async t=>{var l,u,f;const e=Hs("context",t.context),r=Hs("config",t.config),n=(f=(u=(l=e.endpointV2)==null?void 0:l.properties)==null?void 0:u.authSchemes)==null?void 0:f[0],i=await Hs("signer",r.signer)(n),o=t==null?void 0:t.signingRegion,a=t==null?void 0:t.signingRegionSet,c=t==null?void 0:t.signingName;return{config:r,signer:i,signingRegion:o,signingRegionSet:a,signingName:c}};class Dp{async sign(e,r,n){var f;if(!bt.isInstance(e))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");const s=await Np(n),{config:i,signer:o}=s;let{signingRegion:a,signingName:c}=s;const l=n.context;if(((f=l==null?void 0:l.authSchemes)==null?void 0:f.length)??!1){const[h,g]=l.authSchemes;(h==null?void 0:h.name)==="sigv4a"&&(g==null?void 0:g.name)==="sigv4"&&(a=(g==null?void 0:g.signingRegion)??a,c=(g==null?void 0:g.signingName)??c)}return await o.sign(e,{signingDate:eu(i.systemClockOffset),signingRegion:a,signingService:c})}errorHandler(e){return r=>{const n=r.ServerTime??bd(r.$response);if(n){const s=Hs("config",e.config),i=s.systemClockOffset;s.systemClockOffset=wd(n,s.systemClockOffset),s.systemClockOffset!==i&&r.$metadata&&(r.$metadata.clockSkewCorrected=!0)}throw r}}successHandler(e,r){const n=bd(e);if(n){const s=Hs("config",r.config);s.systemClockOffset=wd(n,s.systemClockOffset)}}}class tw extends Dp{async sign(e,r,n){var h;if(!bt.isInstance(e))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");const{config:s,signer:i,signingRegion:o,signingRegionSet:a,signingName:c}=await Np(n),u=(await((h=s.sigv4aSigningRegionSet)==null?void 0:h.call(s))??a??[o]).join(",");return await i.sign(e,{signingDate:eu(s.systemClockOffset),signingRegion:u,signingService:c})}}const bs=t=>t[yl]||(t[yl]={}),br=t=>{if(typeof t=="function")return t;const e=Promise.resolve(t);return()=>e};function rw(t){const e=new Map;for(const r of t)e.set(r.schemeId,r);return e}const nw=(t,e)=>(r,n)=>async s=>{var l;const i=t.httpAuthSchemeProvider(await e.httpAuthSchemeParametersProvider(t,n,s.input)),o=rw(t.httpAuthSchemes),a=bs(n),c=[];for(const u of i){const f=o.get(u.schemeId);if(!f){c.push(`HttpAuthScheme \`${u.schemeId}\` was not enabled for this service.`);continue}const h=f.identityProvider(await e.identityProviderConfigProvider(t));if(!h){c.push(`HttpAuthScheme \`${u.schemeId}\` did not have an IdentityProvider configured.`);continue}const{identityProperties:g={},signingProperties:y={}}=((l=u.propertiesExtractor)==null?void 0:l.call(u,t,n))||{};u.identityProperties=Object.assign(u.identityProperties||{},g),u.signingProperties=Object.assign(u.signingProperties||{},y),a.selectedHttpAuthScheme={httpAuthOption:u,identity:await h(u.identityProperties),signer:f.signer};break}if(!a.selectedHttpAuthScheme)throw new Error(c.join(`
`));return r(s)},sw={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"},iw=(t,{httpAuthSchemeParametersProvider:e,identityProviderConfigProvider:r})=>({applyToStack:n=>{n.addRelativeTo(nw(t,{httpAuthSchemeParametersProvider:e,identityProviderConfigProvider:r}),sw)}}),ow=(t,e)=>r=>async n=>{const{response:s}=await r(n);try{const i=await e(s,t);return{response:s,output:i}}catch(i){if(Object.defineProperty(i,"$response",{value:s}),!("$metadata"in i)){const o="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";i.message+=`
  `+o,typeof i.$responseBodyText<"u"&&i.$response&&(i.$response.body=i.$responseBodyText)}throw i}},aw=(t,e)=>(r,n)=>async s=>{var a;const i=(a=n.endpointV2)!=null&&a.url&&t.urlParser?async()=>t.urlParser(n.endpointV2.url):t.endpoint;if(!i)throw new Error("No valid endpoint provider available.");const o=await e(s.input,{...t,endpoint:i});return r({...s,request:o})},cw={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},tu={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function xn(t,e,r){return{applyToStack:n=>{n.add(ow(t,r),cw),n.add(aw(t,e),tu)}}}tu.name;const lw=t=>e=>{throw e},uw=(t,e)=>{},dw=t=>(e,r)=>async n=>{if(!bt.isInstance(n.request))return e(n);const i=bs(r).selectedHttpAuthScheme;if(!i)throw new Error("No HttpAuthScheme was selected: unable to sign request");const{httpAuthOption:{signingProperties:o={}},identity:a,signer:c}=i,l=await e({...n,request:await c.sign(n.request,a,o)}).catch((c.errorHandler||lw)(o));return(c.successHandler||uw)(l.response,o),l},Fp={step:"finalizeRequest",tags:["HTTP_SIGNING"],name:"httpSigningMiddleware",aliases:["apiKeyMiddleware","tokenMiddleware","awsAuthMiddleware"],override:!0,relation:"after",toMiddleware:"retryMiddleware"},fw=t=>({applyToStack:e=>{e.addRelativeTo(dw(),Fp)}}),zn=t=>{if(typeof t=="function")return t;const e=Promise.resolve(t);return()=>e},Wr={},ws=new Array(64);for(let t=0,e=65,r=90;t+e<=r;t++){const n=String.fromCharCode(t+e);Wr[n]=t,ws[t]=n}for(let t=0,e=97,r=122;t+e<=r;t++){const n=String.fromCharCode(t+e),s=t+26;Wr[n]=s,ws[s]=n}for(let t=0;t<10;t++){Wr[t.toString(10)]=t+52;const e=t.toString(10),r=t+52;Wr[e]=r,ws[r]=e}Wr["+"]=62;ws[62]="+";Wr["/"]=63;ws[63]="/";const jn=6,js=8,hw=63,ru=t=>{let e=t.length/4*3;t.slice(-2)==="=="?e-=2:t.slice(-1)==="="&&e--;const r=new ArrayBuffer(e),n=new DataView(r);for(let s=0;s<t.length;s+=4){let i=0,o=0;for(let l=s,u=s+3;l<=u;l++)if(t[l]!=="="){if(!(t[l]in Wr))throw new TypeError(`Invalid character ${t[l]} in base64 string.`);i|=Wr[t[l]]<<(u-l)*jn,o+=jn}else i>>=jn;const a=s/4*3;i>>=o%js;const c=Math.floor(o/js);for(let l=0;l<c;l++){const u=(c-l-1)*js;n.setUint8(a+l,(i&255<<u)>>u)}}return new Uint8Array(r)},wn=t=>new TextEncoder().encode(t),Wn=t=>typeof t=="string"?wn(t):ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(t),nu=t=>{if(typeof t=="string")return t;if(typeof t!="object"||typeof t.byteOffset!="number"||typeof t.byteLength!="number")throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return new TextDecoder("utf-8").decode(t)};function Ta(t){let e;typeof t=="string"?e=wn(t):e=t;const r=typeof e=="object"&&typeof e.length=="number",n=typeof e=="object"&&typeof e.byteOffset=="number"&&typeof e.byteLength=="number";if(!r&&!n)throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");let s="";for(let i=0;i<e.length;i+=3){let o=0,a=0;for(let l=i,u=Math.min(i+3,e.length);l<u;l++)o|=e[l]<<(u-l-1)*js,a+=js;const c=Math.ceil(a/jn);o<<=c*jn-a;for(let l=1;l<=c;l++){const u=(c-l)*jn;s+=ws[(o&hw<<u)>>u]}s+="==".slice(0,4-c)}return s}function pw(t,e="utf-8"){return e==="base64"?Ta(t):nu(t)}function gw(t,e){return e==="base64"?pn.mutate(ru(t)):pn.mutate(wn(t))}class pn extends Uint8Array{static fromString(e,r="utf-8"){switch(typeof e){case"string":return gw(e,r);default:throw new Error(`Unsupported conversion from ${typeof e} to Uint8ArrayBlobAdapter.`)}}static mutate(e){return Object.setPrototypeOf(e,pn.prototype),e}transformToString(e="utf-8"){return pw(this,e)}}const mw=(t,e)=>{const{base64Encoder:r,bodyLengthChecker:n,checksumAlgorithmFn:s,checksumLocationName:i,streamHasher:o}=e,a=r!==void 0&&n!==void 0&&s!==void 0&&i!==void 0&&o!==void 0,c=a?o(s,t):void 0,l=t.getReader();return new ReadableStream({async pull(u){const{value:f,done:h}=await l.read();if(h){if(u.enqueue(`0\r
`),a){const g=r(await c);u.enqueue(`${i}:${g}\r
`),u.enqueue(`\r
`)}u.close()}else u.enqueue(`${(n(f)||0).toString(16)}\r
${f}\r
`)}})},gn=t=>encodeURIComponent(t).replace(/[!'()*]/g,yw),yw=t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`;function bw(t){const e=[];for(let r of Object.keys(t).sort()){const n=t[r];if(r=gn(r),Array.isArray(n))for(let s=0,i=n.length;s<i;s++)e.push(`${r}=${gn(n[s])}`);else{let s=r;(n||typeof n=="string")&&(s+=`=${gn(n)}`),e.push(s)}}return e.join("&")}function vd(t,e){return new Request(t,e)}function ww(t=0){return new Promise((e,r)=>{t&&setTimeout(()=>{const n=new Error(`Request did not complete within ${t} ms`);n.name="TimeoutError",r(n)},t)})}const Xa={supported:void 0};class su{static create(e){return typeof(e==null?void 0:e.handle)=="function"?e:new su(e)}constructor(e){typeof e=="function"?this.configProvider=e().then(r=>r||{}):(this.config=e??{},this.configProvider=Promise.resolve(this.config)),Xa.supported===void 0&&(Xa.supported=typeof Request<"u"&&"keepalive"in vd("https://[::1]"))}destroy(){}async handle(e,{abortSignal:r}={}){var m;this.config||(this.config=await this.configProvider);const n=this.config.requestTimeout,s=this.config.keepAlive===!0,i=this.config.credentials;if(r!=null&&r.aborted){const x=new Error("Request aborted");return x.name="AbortError",Promise.reject(x)}let o=e.path;const a=bw(e.query||{});a&&(o+=`?${a}`),e.fragment&&(o+=`#${e.fragment}`);let c="";if(e.username!=null||e.password!=null){const x=e.username??"",T=e.password??"";c=`${x}:${T}@`}const{port:l,method:u}=e,f=`${e.protocol}//${c}${e.hostname}${l?`:${l}`:""}${o}`,h=u==="GET"||u==="HEAD"?void 0:e.body,g={body:h,headers:new Headers(e.headers),method:u,credentials:i};(m=this.config)!=null&&m.cache&&(g.cache=this.config.cache),h&&(g.duplex="half"),typeof AbortController<"u"&&(g.signal=r),Xa.supported&&(g.keepalive=s),typeof this.config.requestInit=="function"&&Object.assign(g,this.config.requestInit(e));let y=()=>{};const A=vd(f,g),E=[fetch(A).then(x=>{const T=x.headers,b={};for(const v of T.entries())b[v[0]]=v[1];return x.body!=null?{response:new Qs({headers:b,reason:x.statusText,statusCode:x.status,body:x.body})}:x.blob().then(v=>({response:new Qs({headers:b,reason:x.statusText,statusCode:x.status,body:v})}))}),ww(n)];return r&&E.push(new Promise((x,T)=>{const b=()=>{const S=new Error("Request aborted");S.name="AbortError",T(S)};if(typeof r.addEventListener=="function"){const S=r;S.addEventListener("abort",b,{once:!0}),y=()=>S.removeEventListener("abort",b)}else r.onabort=b})),Promise.race(E).finally(y)}updateHttpClientConfig(e,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>(n[e]=r,n))}httpHandlerConfigs(){return this.config??{}}}const Op=async t=>{var e;return typeof Blob=="function"&&t instanceof Blob||((e=t.constructor)==null?void 0:e.name)==="Blob"?Blob.prototype.arrayBuffer!==void 0?new Uint8Array(await t.arrayBuffer()):vw(t):xw(t)};async function vw(t){const e=await Sw(t),r=ru(e);return new Uint8Array(r)}async function xw(t){const e=[],r=t.getReader();let n=!1,s=0;for(;!n;){const{done:a,value:c}=await r.read();c&&(e.push(c),s+=c.length),n=a}const i=new Uint8Array(s);let o=0;for(const a of e)i.set(a,o),o+=a.length;return i}function Sw(t){return new Promise((e,r)=>{const n=new FileReader;n.onloadend=()=>{if(n.readyState!==2)return r(new Error("Reader aborted too early"));const s=n.result??"",i=s.indexOf(","),o=i>-1?i+1:s.length;e(s.substring(o))},n.onabort=()=>r(new Error("Read aborted")),n.onerror=()=>r(n.error),n.readAsDataURL(t)})}const Lp={},wl={};for(let t=0;t<256;t++){let e=t.toString(16).toLowerCase();e.length===1&&(e=`0${e}`),Lp[t]=e,wl[e]=t}function Up(t){if(t.length%2!==0)throw new Error("Hex encoded strings must have an even number length");const e=new Uint8Array(t.length/2);for(let r=0;r<t.length;r+=2){const n=t.slice(r,r+2).toLowerCase();if(n in wl)e[r/2]=wl[n];else throw new Error(`Cannot decode unrecognized sequence ${n} as hexadecimal`)}return e}function Kt(t){let e="";for(let r=0;r<t.byteLength;r++)e+=Lp[t[r]];return e}const vl=t=>{var e;return typeof ReadableStream=="function"&&(((e=t==null?void 0:t.constructor)==null?void 0:e.name)===ReadableStream.name||t instanceof ReadableStream)},xd="The stream has already been transformed.",Ew=t=>{var s,i;if(!Sd(t)&&!vl(t)){const o=((i=(s=t==null?void 0:t.__proto__)==null?void 0:s.constructor)==null?void 0:i.name)||t;throw new Error(`Unexpected stream implementation, expect Blob or ReadableStream, got ${o}`)}let e=!1;const r=async()=>{if(e)throw new Error(xd);return e=!0,await Op(t)},n=o=>{if(typeof o.stream!="function")throw new Error(`Cannot transform payload Blob to web stream. Please make sure the Blob.stream() is polyfilled.
If you are using React Native, this API is not yet supported, see: https://react-native.canny.io/feature-requests/p/fetch-streaming-body`);return o.stream()};return Object.assign(t,{transformToByteArray:r,transformToString:async o=>{const a=await r();if(o==="base64")return Ta(a);if(o==="hex")return Kt(a);if(o===void 0||o==="utf8"||o==="utf-8")return nu(a);if(typeof TextDecoder=="function")return new TextDecoder(o).decode(a);throw new Error("TextDecoder is not available, please make sure polyfill is provided.")},transformToWebStream:()=>{if(e)throw new Error(xd);if(e=!0,Sd(t))return n(t);if(vl(t))return t;throw new Error(`Cannot transform payload to web stream, got ${t}`)}})},Sd=t=>typeof Blob=="function"&&t instanceof Blob;async function Aw(t){return typeof t.stream=="function"&&(t=t.stream()),t.tee()}async function _w(t,e){let r=0;const n=[],s=t.getReader();let i=!1;for(;!i;){const{done:c,value:l}=await s.read();if(l&&(n.push(l),r+=(l==null?void 0:l.byteLength)??0),r>=e)break;i=c}s.releaseLock();const o=new Uint8Array(Math.min(e,r));let a=0;for(const c of n){if(c.byteLength>o.byteLength-a){o.set(c.subarray(0,o.byteLength-a),a);break}else o.set(c,a);a+=c.length}return o}const Cw=typeof ReadableStream=="function"?ReadableStream:function(){};class kw extends Cw{}const Rw=({expectedChecksum:t,checksum:e,source:r,checksumSourceLocation:n,base64Encoder:s})=>{var c;if(!vl(r))throw new Error(`@smithy/util-stream: unsupported source type ${((c=r==null?void 0:r.constructor)==null?void 0:c.name)??r} in ChecksumStream.`);const i=s??Ta;if(typeof TransformStream!="function")throw new Error("@smithy/util-stream: unable to instantiate ChecksumStream because API unavailable: ReadableStream/TransformStream.");const o=new TransformStream({start(){},async transform(l,u){e.update(l),u.enqueue(l)},async flush(l){const u=await e.digest(),f=i(u);if(t!==f){const h=new Error(`Checksum mismatch: expected "${t}" but received "${f}" in response header "${n}".`);l.error(h)}else l.terminate()}});r.pipeThrough(o);const a=o.readable;return Object.setPrototypeOf(a,kw.prototype),a},ji=async(t=new Uint8Array,e)=>{if(t instanceof Uint8Array)return pn.mutate(t);if(!t)return pn.mutate(new Uint8Array);const r=e.streamCollector(t);return pn.mutate(await r)};function Po(t){return encodeURIComponent(t).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}const Tw=(t,e,r,n,s,i)=>{if(e!=null&&e[r]!==void 0){const o=n();if(o.length<=0)throw new Error("Empty value provided for input HTTP label: "+r+".");t=t.replace(s,i?o.split("/").map(a=>Po(a)).join("/"):Po(o))}else throw new Error("No value provided for input HTTP label: "+r+".");return t};function Sn(t,e){return new Pw(t,e)}class Pw{constructor(e,r){this.input=e,this.context=r,this.query={},this.method="",this.headers={},this.path="",this.body=null,this.hostname="",this.resolvePathStack=[]}async build(){const{hostname:e,protocol:r="https",port:n,path:s}=await this.context.endpoint();this.path=s;for(const i of this.resolvePathStack)i(this.path);return new bt({protocol:r,hostname:this.hostname||e,port:n,method:this.method,path:this.path,query:this.query,body:this.body,headers:this.headers})}hn(e){return this.hostname=e,this}bp(e){return this.resolvePathStack.push(r=>{this.path=`${r!=null&&r.endsWith("/")?r.slice(0,-1):r||""}`+e}),this}p(e,r,n,s){return this.resolvePathStack.push(i=>{this.path=Tw(i,this.input,e,r,n,s)}),this}h(e){return this.headers=e,this}q(e){return this.query=e,this}b(e){return this.body=e,this}m(e){return this.method=e,this}}function Iw(t,e,r){t.__smithy_context?t.__smithy_context.features||(t.__smithy_context.features={}):t.__smithy_context={features:{}},t.__smithy_context.features[e]=r}class Bw{constructor(e){this.authSchemes=new Map;for(const[r,n]of Object.entries(e))n!==void 0&&this.authSchemes.set(r,n)}getIdentityProvider(e){return this.authSchemes.get(e)}}const Mw=t=>e=>zp(e)&&e.expiration.getTime()-Date.now()<t,Nw=3e5,Dw=Mw(Nw),zp=t=>t.expiration!==void 0,Fw=(t,e,r)=>{if(t===void 0)return;const n=typeof t!="function"?async()=>Promise.resolve(t):t;let s,i,o,a=!1;const c=async l=>{i||(i=n(l));try{s=await i,o=!0,a=!1}finally{i=void 0}return s};return e===void 0?async l=>((!o||l!=null&&l.forceRefresh)&&(s=await c(l)),s):async l=>((!o||l!=null&&l.forceRefresh)&&(s=await c(l)),a?s:r(s)?(e(s)&&await c(l),s):(a=!0,s))},Ow=(t,e,r)=>{let n,s,i,o=!1;const a=async()=>{s||(s=t());try{n=await s,i=!0,o=!1}finally{s=void 0}return n};return async c=>((!i||c!=null&&c.forceRefresh)&&(n=await a()),n)},Lw=t=>(t.sigv4aSigningRegionSet=zn(t.sigv4aSigningRegionSet),t),Uw="X-Amz-Algorithm",zw="X-Amz-Credential",$p="X-Amz-Date",$w="X-Amz-SignedHeaders",qw="X-Amz-Expires",qp="X-Amz-Signature",Hp="X-Amz-Security-Token",jp="authorization",Wp=$p.toLowerCase(),Hw="date",jw=[jp,Wp,Hw],Ww=qp.toLowerCase(),xl="x-amz-content-sha256",Kw=Hp.toLowerCase(),Vw={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},Gw=/^proxy-/,Xw=/^sec-/,Za="AWS4-HMAC-SHA256",Zw="AWS4-HMAC-SHA256-PAYLOAD",Yw="UNSIGNED-PAYLOAD",Qw=50,Kp="aws4_request",Jw=60*60*24*7,no={},Ya=[],Qa=(t,e,r)=>`${t}/${e}/${r}/${Kp}`,ev=async(t,e,r,n,s)=>{const i=await Ed(t,e.secretAccessKey,e.accessKeyId),o=`${r}:${n}:${s}:${Kt(i)}:${e.sessionToken}`;if(o in no)return no[o];for(Ya.push(o);Ya.length>Qw;)delete no[Ya.shift()];let a=`AWS4${e.secretAccessKey}`;for(const c of[r,n,s,Kp])a=await Ed(t,a,c);return no[o]=a},Ed=(t,e,r)=>{const n=new t(e);return n.update(Wn(r)),n.digest()},Ad=({headers:t},e,r)=>{const n={};for(const s of Object.keys(t).sort()){if(t[s]==null)continue;const i=s.toLowerCase();(i in Vw||e!=null&&e.has(i)||Gw.test(i)||Xw.test(i))&&(!r||r&&!r.has(i))||(n[i]=t[s].trim().replace(/\s+/g," "))}return n},tv=({query:t={}})=>{const e=[],r={};for(const n of Object.keys(t)){if(n.toLowerCase()===Ww)continue;const s=gn(n);e.push(s);const i=t[n];typeof i=="string"?r[s]=`${s}=${gn(i)}`:Array.isArray(i)&&(r[s]=i.slice(0).reduce((o,a)=>o.concat([`${s}=${gn(a)}`]),[]).sort().join("&"))}return e.sort().map(n=>r[n]).filter(n=>n).join("&")},Vp=t=>typeof ArrayBuffer=="function"&&t instanceof ArrayBuffer||Object.prototype.toString.call(t)==="[object ArrayBuffer]",Ja=async({headers:t,body:e},r)=>{for(const n of Object.keys(t))if(n.toLowerCase()===xl)return t[n];if(e==null)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if(typeof e=="string"||ArrayBuffer.isView(e)||Vp(e)){const n=new r;return n.update(Wn(e)),Kt(await n.digest())}return Yw};class rv{format(e){const r=[];for(const i of Object.keys(e)){const o=wn(i);r.push(Uint8Array.from([o.byteLength]),o,this.formatHeaderValue(e[i]))}const n=new Uint8Array(r.reduce((i,o)=>i+o.byteLength,0));let s=0;for(const i of r)n.set(i,s),s+=i.byteLength;return n}formatHeaderValue(e){switch(e.type){case"boolean":return Uint8Array.from([e.value?0:1]);case"byte":return Uint8Array.from([2,e.value]);case"short":const r=new DataView(new ArrayBuffer(3));return r.setUint8(0,3),r.setInt16(1,e.value,!1),new Uint8Array(r.buffer);case"integer":const n=new DataView(new ArrayBuffer(5));return n.setUint8(0,4),n.setInt32(1,e.value,!1),new Uint8Array(n.buffer);case"long":const s=new Uint8Array(9);return s[0]=5,s.set(e.value.bytes,1),s;case"binary":const i=new DataView(new ArrayBuffer(3+e.value.byteLength));i.setUint8(0,6),i.setUint16(1,e.value.byteLength,!1);const o=new Uint8Array(i.buffer);return o.set(e.value,3),o;case"string":const a=wn(e.value),c=new DataView(new ArrayBuffer(3+a.byteLength));c.setUint8(0,7),c.setUint16(1,a.byteLength,!1);const l=new Uint8Array(c.buffer);return l.set(a,3),l;case"timestamp":const u=new Uint8Array(9);return u[0]=8,u.set(sv.fromNumber(e.value.valueOf()).bytes,1),u;case"uuid":if(!nv.test(e.value))throw new Error(`Invalid UUID received: ${e.value}`);const f=new Uint8Array(17);return f[0]=9,f.set(Up(e.value.replace(/\-/g,"")),1),f}}}var _d;(function(t){t[t.boolTrue=0]="boolTrue",t[t.boolFalse=1]="boolFalse",t[t.byte=2]="byte",t[t.short=3]="short",t[t.integer=4]="integer",t[t.long=5]="long",t[t.byteArray=6]="byteArray",t[t.string=7]="string",t[t.timestamp=8]="timestamp",t[t.uuid=9]="uuid"})(_d||(_d={}));const nv=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/;let sv=class Gp{constructor(e){if(this.bytes=e,e.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(e){if(e>9223372036854776e3||e<-9223372036854776e3)throw new Error(`${e} is too large (or, if negative, too small) to represent as an Int64`);const r=new Uint8Array(8);for(let n=7,s=Math.abs(Math.round(e));n>-1&&s>0;n--,s/=256)r[n]=s;return e<0&&Cd(r),new Gp(r)}valueOf(){const e=this.bytes.slice(0),r=e[0]&128;return r&&Cd(e),parseInt(Kt(e),16)*(r?-1:1)}toString(){return String(this.valueOf())}};function Cd(t){for(let e=0;e<8;e++)t[e]^=255;for(let e=7;e>-1&&(t[e]++,t[e]===0);e--);}const iv=(t,e)=>{t=t.toLowerCase();for(const r of Object.keys(e))if(t===r.toLowerCase())return!0;return!1},ov=(t,e={})=>{var s,i;const{headers:r,query:n={}}=bt.clone(t);for(const o of Object.keys(r)){const a=o.toLowerCase();(a.slice(0,6)==="x-amz-"&&!((s=e.unhoistableHeaders)!=null&&s.has(a))||(i=e.hoistableHeaders)!=null&&i.has(a))&&(n[o]=r[o],delete r[o])}return{...t,headers:r,query:n}},kd=t=>{t=bt.clone(t);for(const e of Object.keys(t.headers))jw.indexOf(e.toLowerCase())>-1&&delete t.headers[e];return t},av=t=>cv(t).toISOString().replace(/\.\d{3}Z$/,"Z"),cv=t=>typeof t=="number"?new Date(t*1e3):typeof t=="string"?Number(t)?new Date(Number(t)*1e3):new Date(t):t;class Sl{constructor({applyChecksum:e,credentials:r,region:n,service:s,sha256:i,uriEscapePath:o=!0}){this.headerFormatter=new rv,this.service=s,this.sha256=i,this.uriEscapePath=o,this.applyChecksum=typeof e=="boolean"?e:!0,this.regionProvider=br(n),this.credentialProvider=br(r)}async presign(e,r={}){const{signingDate:n=new Date,expiresIn:s=3600,unsignableHeaders:i,unhoistableHeaders:o,signableHeaders:a,hoistableHeaders:c,signingRegion:l,signingService:u}=r,f=await this.credentialProvider();this.validateResolvedCredentials(f);const h=l??await this.regionProvider(),{longDate:g,shortDate:y}=so(n);if(s>Jw)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");const A=Qa(y,h,u??this.service),E=ov(kd(e),{unhoistableHeaders:o,hoistableHeaders:c});f.sessionToken&&(E.query[Hp]=f.sessionToken),E.query[Uw]=Za,E.query[zw]=`${f.accessKeyId}/${A}`,E.query[$p]=g,E.query[qw]=s.toString(10);const m=Ad(E,i,a);return E.query[$w]=Rd(m),E.query[qp]=await this.getSignature(g,A,this.getSigningKey(f,h,y,u),this.createCanonicalRequest(E,m,await Ja(e,this.sha256))),E}async sign(e,r){return typeof e=="string"?this.signString(e,r):e.headers&&e.payload?this.signEvent(e,r):e.message?this.signMessage(e,r):this.signRequest(e,r)}async signEvent({headers:e,payload:r},{signingDate:n=new Date,priorSignature:s,signingRegion:i,signingService:o}){const a=i??await this.regionProvider(),{shortDate:c,longDate:l}=so(n),u=Qa(c,a,o??this.service),f=await Ja({headers:{},body:r},this.sha256),h=new this.sha256;h.update(e);const g=Kt(await h.digest()),y=[Zw,l,u,s,g,f].join(`
`);return this.signString(y,{signingDate:n,signingRegion:a,signingService:o})}async signMessage(e,{signingDate:r=new Date,signingRegion:n,signingService:s}){return this.signEvent({headers:this.headerFormatter.format(e.message.headers),payload:e.message.body},{signingDate:r,signingRegion:n,signingService:s,priorSignature:e.priorSignature}).then(o=>({message:e.message,signature:o}))}async signString(e,{signingDate:r=new Date,signingRegion:n,signingService:s}={}){const i=await this.credentialProvider();this.validateResolvedCredentials(i);const o=n??await this.regionProvider(),{shortDate:a}=so(r),c=new this.sha256(await this.getSigningKey(i,o,a,s));return c.update(Wn(e)),Kt(await c.digest())}async signRequest(e,{signingDate:r=new Date,signableHeaders:n,unsignableHeaders:s,signingRegion:i,signingService:o}={}){const a=await this.credentialProvider();this.validateResolvedCredentials(a);const c=i??await this.regionProvider(),l=kd(e),{longDate:u,shortDate:f}=so(r),h=Qa(f,c,o??this.service);l.headers[Wp]=u,a.sessionToken&&(l.headers[Kw]=a.sessionToken);const g=await Ja(l,this.sha256);!iv(xl,l.headers)&&this.applyChecksum&&(l.headers[xl]=g);const y=Ad(l,s,n),A=await this.getSignature(u,h,this.getSigningKey(a,c,f,o),this.createCanonicalRequest(l,y,g));return l.headers[jp]=`${Za} Credential=${a.accessKeyId}/${h}, SignedHeaders=${Rd(y)}, Signature=${A}`,l}createCanonicalRequest(e,r,n){const s=Object.keys(r).sort();return`${e.method}
${this.getCanonicalPath(e)}
${tv(e)}
${s.map(i=>`${i}:${r[i]}`).join(`
`)}

${s.join(";")}
${n}`}async createStringToSign(e,r,n){const s=new this.sha256;s.update(Wn(n));const i=await s.digest();return`${Za}
${e}
${r}
${Kt(i)}`}getCanonicalPath({path:e}){if(this.uriEscapePath){const r=[];for(const i of e.split("/"))(i==null?void 0:i.length)!==0&&i!=="."&&(i===".."?r.pop():r.push(i));const n=`${e!=null&&e.startsWith("/")?"/":""}${r.join("/")}${r.length>0&&(e!=null&&e.endsWith("/"))?"/":""}`;return gn(n).replace(/%2F/g,"/")}return e}async getSignature(e,r,n,s){const i=await this.createStringToSign(e,r,s),o=new this.sha256(await n);return o.update(Wn(i)),Kt(await o.digest())}getSigningKey(e,r,n,s){return ev(this.sha256,e,n,r,s||this.service)}validateResolvedCredentials(e){if(typeof e!="object"||typeof e.accessKeyId!="string"||typeof e.secretAccessKey!="string")throw new Error("Resolved credential object is not valid")}}const so=t=>{const e=av(t).replace(/[\-:]/g,"");return{longDate:e,shortDate:e.slice(0,8)}},Rd=t=>Object.keys(t).sort().join(";"),lv=t=>{let e=!1,r;t.credentials&&(e=!0,r=Fw(t.credentials,Dw,zp)),r||(t.credentialDefaultProvider?r=zn(t.credentialDefaultProvider(Object.assign({},t,{parentClientConfig:t}))):r=async()=>{throw new Error("`credentials` is missing")});const n=async()=>r({callerClientConfig:t}),{signingEscapePath:s=!0,systemClockOffset:i=t.systemClockOffset||0,sha256:o}=t;let a;return t.signer?a=zn(t.signer):t.regionInfoProvider?a=()=>zn(t.region)().then(async c=>[await t.regionInfoProvider(c,{useFipsEndpoint:await t.useFipsEndpoint(),useDualstackEndpoint:await t.useDualstackEndpoint()})||{},c]).then(([c,l])=>{const{signingRegion:u,signingService:f}=c;t.signingRegion=t.signingRegion||u||l,t.signingName=t.signingName||f||t.serviceId;const h={...t,credentials:n,region:t.signingRegion,service:t.signingName,sha256:o,uriEscapePath:s},g=t.signerConstructor||Sl;return new g(h)}):a=async c=>{c=Object.assign({},{name:"sigv4",signingName:t.signingName||t.defaultSigningName,signingRegion:await zn(t.region)(),properties:{}},c);const l=c.signingRegion,u=c.signingName;t.signingRegion=t.signingRegion||l,t.signingName=t.signingName||u||t.serviceId;const f={...t,credentials:n,region:t.signingRegion,service:t.signingName,sha256:o,uriEscapePath:s},h=t.signerConstructor||Sl;return new h(f)},{...t,systemClockOffset:i,signingEscapePath:s,credentials:e?async()=>n().then(c=>Jb(c,"CREDENTIALS_CODE","e")):n,signer:a}},rn=(t,e)=>{const r=[];if(t&&r.push(t),e)for(const n of e)r.push(n);return r},Nr=(t,e)=>`${t||"anonymous"}${e&&e.length>0?` (a.k.a. ${e.join(",")})`:""}`,Io=()=>{let t=[],e=[],r=!1;const n=new Set,s=f=>f.sort((h,g)=>Td[g.step]-Td[h.step]||Pd[g.priority||"normal"]-Pd[h.priority||"normal"]),i=f=>{let h=!1;const g=y=>{const A=rn(y.name,y.aliases);if(A.includes(f)){h=!0;for(const E of A)n.delete(E);return!1}return!0};return t=t.filter(g),e=e.filter(g),h},o=f=>{let h=!1;const g=y=>{if(y.middleware===f){h=!0;for(const A of rn(y.name,y.aliases))n.delete(A);return!1}return!0};return t=t.filter(g),e=e.filter(g),h},a=f=>{var h;return t.forEach(g=>{f.add(g.middleware,{...g})}),e.forEach(g=>{f.addRelativeTo(g.middleware,{...g})}),(h=f.identifyOnResolve)==null||h.call(f,u.identifyOnResolve()),f},c=f=>{const h=[];return f.before.forEach(g=>{g.before.length===0&&g.after.length===0?h.push(g):h.push(...c(g))}),h.push(f),f.after.reverse().forEach(g=>{g.before.length===0&&g.after.length===0?h.push(g):h.push(...c(g))}),h},l=(f=!1)=>{const h=[],g=[],y={};return t.forEach(E=>{const m={...E,before:[],after:[]};for(const x of rn(m.name,m.aliases))y[x]=m;h.push(m)}),e.forEach(E=>{const m={...E,before:[],after:[]};for(const x of rn(m.name,m.aliases))y[x]=m;g.push(m)}),g.forEach(E=>{if(E.toMiddleware){const m=y[E.toMiddleware];if(m===void 0){if(f)return;throw new Error(`${E.toMiddleware} is not found when adding ${Nr(E.name,E.aliases)} middleware ${E.relation} ${E.toMiddleware}`)}E.relation==="after"&&m.after.push(E),E.relation==="before"&&m.before.push(E)}}),s(h).map(c).reduce((E,m)=>(E.push(...m),E),[])},u={add:(f,h={})=>{const{name:g,override:y,aliases:A}=h,E={step:"initialize",priority:"normal",middleware:f,...h},m=rn(g,A);if(m.length>0){if(m.some(x=>n.has(x))){if(!y)throw new Error(`Duplicate middleware name '${Nr(g,A)}'`);for(const x of m){const T=t.findIndex(S=>{var v;return S.name===x||((v=S.aliases)==null?void 0:v.some(N=>N===x))});if(T===-1)continue;const b=t[T];if(b.step!==E.step||E.priority!==b.priority)throw new Error(`"${Nr(b.name,b.aliases)}" middleware with ${b.priority} priority in ${b.step} step cannot be overridden by "${Nr(g,A)}" middleware with ${E.priority} priority in ${E.step} step.`);t.splice(T,1)}}for(const x of m)n.add(x)}t.push(E)},addRelativeTo:(f,h)=>{const{name:g,override:y,aliases:A}=h,E={middleware:f,...h},m=rn(g,A);if(m.length>0){if(m.some(x=>n.has(x))){if(!y)throw new Error(`Duplicate middleware name '${Nr(g,A)}'`);for(const x of m){const T=e.findIndex(S=>{var v;return S.name===x||((v=S.aliases)==null?void 0:v.some(N=>N===x))});if(T===-1)continue;const b=e[T];if(b.toMiddleware!==E.toMiddleware||b.relation!==E.relation)throw new Error(`"${Nr(b.name,b.aliases)}" middleware ${b.relation} "${b.toMiddleware}" middleware cannot be overridden by "${Nr(g,A)}" middleware ${E.relation} "${E.toMiddleware}" middleware.`);e.splice(T,1)}}for(const x of m)n.add(x)}e.push(E)},clone:()=>a(Io()),use:f=>{f.applyToStack(u)},remove:f=>typeof f=="string"?i(f):o(f),removeByTag:f=>{let h=!1;const g=y=>{const{tags:A,name:E,aliases:m}=y;if(A&&A.includes(f)){const x=rn(E,m);for(const T of x)n.delete(T);return h=!0,!1}return!0};return t=t.filter(g),e=e.filter(g),h},concat:f=>{var g;const h=a(Io());return h.use(f),h.identifyOnResolve(r||h.identifyOnResolve()||(((g=f.identifyOnResolve)==null?void 0:g.call(f))??!1)),h},applyToStack:a,identify:()=>l(!0).map(f=>{const h=f.step??f.relation+" "+f.toMiddleware;return Nr(f.name,f.aliases)+" - "+h}),identifyOnResolve(f){return typeof f=="boolean"&&(r=f),r},resolve:(f,h)=>{for(const g of l().map(y=>y.middleware).reverse())f=g(f,h);return r&&console.log(u.identify()),f}};return u},Td={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},Pd={high:3,normal:2,low:1};class uv{constructor(e){this.config=e,this.middlewareStack=Io()}send(e,r,n){const s=typeof r!="function"?r:void 0,i=typeof r=="function"?r:n,o=s===void 0&&this.config.cacheMiddleware===!0;let a;if(o){this.handlers||(this.handlers=new WeakMap);const c=this.handlers;c.has(e.constructor)?a=c.get(e.constructor):(a=e.resolveMiddleware(this.middlewareStack,this.config,s),c.set(e.constructor,a))}else delete this.handlers,a=e.resolveMiddleware(this.middlewareStack,this.config,s);if(i)a(e).then(c=>i(null,c.output),c=>i(c)).catch(()=>{});else return a(e).then(c=>c.output)}destroy(){var e,r,n;(n=(r=(e=this.config)==null?void 0:e.requestHandler)==null?void 0:r.destroy)==null||n.call(r),delete this.handlers}}class Yr{constructor(){this.middlewareStack=Io()}static classBuilder(){return new dv}resolveMiddlewareWithContext(e,r,n,{middlewareFn:s,clientName:i,commandName:o,inputFilterSensitiveLog:a,outputFilterSensitiveLog:c,smithyContext:l,additionalContext:u,CommandCtor:f}){for(const E of s.bind(this)(f,e,r,n))this.middlewareStack.use(E);const h=e.concat(this.middlewareStack),{logger:g}=r,y={logger:g,clientName:i,commandName:o,inputFilterSensitiveLog:a,outputFilterSensitiveLog:c,[yl]:{commandInstance:this,...l},...u},{requestHandler:A}=r;return h.resolve(E=>A.handle(E.request,n||{}),y)}}class dv{constructor(){this._init=()=>{},this._ep={},this._middlewareFn=()=>[],this._commandName="",this._clientName="",this._additionalContext={},this._smithyContext={},this._inputFilterSensitiveLog=e=>e,this._outputFilterSensitiveLog=e=>e,this._serializer=null,this._deserializer=null}init(e){this._init=e}ep(e){return this._ep=e,this}m(e){return this._middlewareFn=e,this}s(e,r,n={}){return this._smithyContext={service:e,operation:r,...n},this}c(e={}){return this._additionalContext=e,this}n(e,r){return this._clientName=e,this._commandName=r,this}f(e=n=>n,r=n=>n){return this._inputFilterSensitiveLog=e,this._outputFilterSensitiveLog=r,this}ser(e){return this._serializer=e,this}de(e){return this._deserializer=e,this}build(){const e=this;let r;return r=class extends Yr{static getEndpointParameterInstructions(){return e._ep}constructor(...[n]){super(),this.serialize=e._serializer,this.deserialize=e._deserializer,this.input=n??{},e._init(this)}resolveMiddleware(n,s,i){return this.resolveMiddlewareWithContext(n,s,i,{CommandCtor:r,middlewareFn:e._middlewareFn,clientName:e._clientName,commandName:e._commandName,inputFilterSensitiveLog:e._inputFilterSensitiveLog,outputFilterSensitiveLog:e._outputFilterSensitiveLog,smithyContext:e._smithyContext,additionalContext:e._additionalContext})}}}}const mt="***SensitiveInformation***",Wi=t=>{switch(t){case"true":return!0;case"false":return!1;default:throw new Error(`Unable to parse boolean value "${t}"`)}},fv=t=>{if(t!=null){if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return String(e)!==String(t)&&Yp.warn(Zp(`Expected number but observed string: ${t}`)),e}if(typeof t=="number")return t;throw new TypeError(`Expected number, got ${typeof t}: ${t}`)}},hv=Math.ceil(2**127*(2-2**-23)),Id=t=>{const e=fv(t);if(e!==void 0&&!Number.isNaN(e)&&e!==1/0&&e!==-1/0&&Math.abs(e)>hv)throw new TypeError(`Expected 32-bit float, got ${t}`);return e},El=t=>{if(t!=null){if(Number.isInteger(t)&&!Number.isNaN(t))return t;throw new TypeError(`Expected integer, got ${typeof t}: ${t}`)}},Bd=t=>Xp(t,16),Md=t=>Xp(t,8),Xp=(t,e)=>{const r=El(t);if(r!==void 0&&pv(r,e)!==r)throw new TypeError(`Expected ${e}-bit integer, got ${t}`);return r},pv=(t,e)=>{switch(e){case 32:return Int32Array.of(t)[0];case 16:return Int16Array.of(t)[0];case 8:return Int8Array.of(t)[0]}},Br=(t,e)=>{if(t==null)throw e?new TypeError(`Expected a non-null value for ${e}`):new TypeError("Expected a non-null value");return t},iu=t=>{if(t==null)return;if(typeof t=="object"&&!Array.isArray(t))return t;const e=Array.isArray(t)?"array":typeof t;throw new TypeError(`Expected object, got ${e}: ${t}`)},At=t=>{if(t!=null){if(typeof t=="string")return t;if(["boolean","number","bigint"].includes(typeof t))return Yp.warn(Zp(`Expected string, got ${typeof t}: ${t}`)),String(t);throw new TypeError(`Expected string, got ${typeof t}: ${t}`)}},gv=t=>Id(typeof t=="string"?Pa(t):t),mv=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,Pa=t=>{const e=t.match(mv);if(e===null||e[0].length!==t.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(t)},yv=t=>El(typeof t=="string"?Pa(t):t),Bo=t=>Bd(typeof t=="string"?Pa(t):t),bv=t=>Md(typeof t=="string"?Pa(t):t),Zp=t=>String(new TypeError(t).stack||t).split(`
`).slice(0,5).filter(e=>!e.includes("stackTraceWarning")).join(`
`),Yp={warn:console.warn},wv=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],ou=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function au(t){const e=t.getUTCFullYear(),r=t.getUTCMonth(),n=t.getUTCDay(),s=t.getUTCDate(),i=t.getUTCHours(),o=t.getUTCMinutes(),a=t.getUTCSeconds(),c=s<10?`0${s}`:`${s}`,l=i<10?`0${i}`:`${i}`,u=o<10?`0${o}`:`${o}`,f=a<10?`0${a}`:`${a}`;return`${wv[n]}, ${c} ${ou[r]} ${e} ${l}:${u}:${f} GMT`}const vv=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),xv=t=>{if(t==null)return;if(typeof t!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");const e=vv.exec(t);if(!e)throw new TypeError("Invalid RFC-3339 date-time value");const[r,n,s,i,o,a,c,l,u]=e,f=Bo(Js(n)),h=Hr(s,"month",1,12),g=Hr(i,"day",1,31),y=xo(f,h,g,{hours:o,minutes:a,seconds:c,fractionalMilliseconds:l});return u.toUpperCase()!="Z"&&y.setTime(y.getTime()-Mv(u)),y},Sv=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d{2}) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),Ev=new RegExp(/^(?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d{2})-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),Av=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( [1-9]|\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? (\d{4})$/),_v=t=>{if(t==null)return;if(typeof t!="string")throw new TypeError("RFC-7231 date-times must be expressed as strings");let e=Sv.exec(t);if(e){const[r,n,s,i,o,a,c,l]=e;return xo(Bo(Js(i)),ec(s),Hr(n,"day",1,31),{hours:o,minutes:a,seconds:c,fractionalMilliseconds:l})}if(e=Ev.exec(t),e){const[r,n,s,i,o,a,c,l]=e;return Rv(xo(Cv(i),ec(s),Hr(n,"day",1,31),{hours:o,minutes:a,seconds:c,fractionalMilliseconds:l}))}if(e=Av.exec(t),e){const[r,n,s,i,o,a,c,l]=e;return xo(Bo(Js(l)),ec(n),Hr(s.trimLeft(),"day",1,31),{hours:i,minutes:o,seconds:a,fractionalMilliseconds:c})}throw new TypeError("Invalid RFC-7231 date-time value")},xo=(t,e,r,n)=>{const s=e-1;return Pv(t,s,r),new Date(Date.UTC(t,s,r,Hr(n.hours,"hour",0,23),Hr(n.minutes,"minute",0,59),Hr(n.seconds,"seconds",0,60),Bv(n.fractionalMilliseconds)))},Cv=t=>{const e=new Date().getUTCFullYear(),r=Math.floor(e/100)*100+Bo(Js(t));return r<e?r+100:r},kv=50*365*24*60*60*1e3,Rv=t=>t.getTime()-new Date().getTime()>kv?new Date(Date.UTC(t.getUTCFullYear()-100,t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),t.getUTCMilliseconds())):t,ec=t=>{const e=ou.indexOf(t);if(e<0)throw new TypeError(`Invalid month: ${t}`);return e+1},Tv=[31,28,31,30,31,30,31,31,30,31,30,31],Pv=(t,e,r)=>{let n=Tv[e];if(e===1&&Iv(t)&&(n=29),r>n)throw new TypeError(`Invalid day for ${ou[e]} in ${t}: ${r}`)},Iv=t=>t%4===0&&(t%100!==0||t%400===0),Hr=(t,e,r,n)=>{const s=bv(Js(t));if(s<r||s>n)throw new TypeError(`${e} must be between ${r} and ${n}, inclusive`);return s},Bv=t=>t==null?0:gv("0."+t)*1e3,Mv=t=>{const e=t[0];let r=1;if(e=="+")r=1;else if(e=="-")r=-1;else throw new TypeError(`Offset direction, ${e}, must be "+" or "-"`);const n=Number(t.substring(1,3)),s=Number(t.substring(4,6));return r*(n*60+s)*60*1e3},Js=t=>{let e=0;for(;e<t.length-1&&t.charAt(e)==="0";)e++;return e===0?t:t.slice(e)};class $n extends Error{constructor(e){super(e.message),Object.setPrototypeOf(this,Object.getPrototypeOf(this).constructor.prototype),this.name=e.name,this.$fault=e.$fault,this.$metadata=e.$metadata}static isInstance(e){if(!e)return!1;const r=e;return $n.prototype.isPrototypeOf(r)||!!r.$fault&&!!r.$metadata&&(r.$fault==="client"||r.$fault==="server")}static[Symbol.hasInstance](e){if(!e)return!1;const r=e;return this===$n?$n.isInstance(e):$n.isInstance(e)?r.name&&this.name?this.prototype.isPrototypeOf(e)||r.name===this.name:this.prototype.isPrototypeOf(e):!1}}const Gt=(t,e={})=>{Object.entries(e).filter(([,n])=>n!==void 0).forEach(([n,s])=>{(t[n]==null||t[n]==="")&&(t[n]=s)});const r=t.message||t.Message||"UnknownError";return t.message=r,delete t.Message,t},Nv=({output:t,parsedBody:e,exceptionCtor:r,errorCode:n})=>{const s=Fv(t),i=s.httpStatusCode?s.httpStatusCode+"":void 0,o=new r({name:(e==null?void 0:e.code)||(e==null?void 0:e.Code)||n||i||"UnknownError",$fault:"client",$metadata:s});throw Gt(o,e)},Dv=t=>({output:e,parsedBody:r,errorCode:n})=>{Nv({output:e,parsedBody:r,exceptionCtor:t,errorCode:n})},Fv=t=>({httpStatusCode:t.statusCode,requestId:t.headers["x-amzn-requestid"]??t.headers["x-amzn-request-id"]??t.headers["x-amz-request-id"],extendedRequestId:t.headers["x-amz-id-2"],cfId:t.headers["x-amz-cf-id"]}),Ov=t=>{switch(t){case"standard":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}},Lv=t=>{const e=[];for(const r in To){const n=To[r];t[n]!==void 0&&e.push({algorithmId:()=>n,checksumConstructor:()=>t[n]})}return{_checksumAlgorithms:e,addChecksumAlgorithm(r){this._checksumAlgorithms.push(r)},checksumAlgorithms(){return this._checksumAlgorithms}}},Uv=t=>{const e={};return t.checksumAlgorithms().forEach(r=>{e[r.algorithmId()]=r.checksumConstructor()}),e},zv=t=>{let e=t.retryStrategy;return{setRetryStrategy(r){e=r},retryStrategy(){return e}}},$v=t=>{const e={};return e.retryStrategy=t.retryStrategy(),e},qv=t=>({...Lv(t),...zv(t)}),Hv=t=>({...Uv(t),...$v(t)}),Qp=t=>{const e="#text";for(const r in t)t.hasOwnProperty(r)&&t[r][e]!==void 0?t[r]=t[r][e]:typeof t[r]=="object"&&t[r]!==null&&(t[r]=Qp(t[r]));return t},_t=t=>t!=null;class cu{trace(){}debug(){}info(){}warn(){}error(){}}function qe(t,e,r){let n,s,i;if(typeof e>"u"&&typeof r>"u")n={},i=t;else{if(n=t,typeof e=="function")return s=e,i=r,jv(n,s,i);i=e}for(const o of Object.keys(i)){if(!Array.isArray(i[o])){n[o]=i[o];continue}Wv(n,null,i,o)}return n}const jv=(t,e,r)=>qe(t,Object.entries(r).reduce((n,[s,i])=>(Array.isArray(i)?n[s]=i:typeof i=="function"?n[s]=[e,i()]:n[s]=[e,i],n),{})),Wv=(t,e,r,n)=>{let[s,i]=r[n];if(typeof i=="function"){let o;const a=s===void 0&&(o=i())!=null,c=typeof s=="function"&&!!s(void 0)||typeof s!="function"&&!!s;a?t[n]=o:c&&(t[n]=i())}else{const o=s===void 0&&i!=null,a=typeof s=="function"&&!!s(i)||typeof s!="function"&&!!s;(o||a)&&(t[n]=i)}},Jp=t=>t.toISOString().replace(".000Z","Z"),Kv=(t,e)=>ji(t,e).then(r=>e.utf8Encoder(r));var tc={},rc={},Nd;function lu(){return Nd||(Nd=1,function(t){const e=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",r=e+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",n="["+e+"]["+r+"]*",s=new RegExp("^"+n+"$"),i=function(a,c){const l=[];let u=c.exec(a);for(;u;){const f=[];f.startIndex=c.lastIndex-u[0].length;const h=u.length;for(let g=0;g<h;g++)f.push(u[g]);l.push(f),u=c.exec(a)}return l},o=function(a){const c=s.exec(a);return!(c===null||typeof c>"u")};t.isExist=function(a){return typeof a<"u"},t.isEmptyObject=function(a){return Object.keys(a).length===0},t.merge=function(a,c,l){if(c){const u=Object.keys(c),f=u.length;for(let h=0;h<f;h++)l==="strict"?a[u[h]]=[c[u[h]]]:a[u[h]]=c[u[h]]}},t.getValue=function(a){return t.isExist(a)?a:""},t.isName=o,t.getAllMatches=i,t.nameRegexp=n}(rc)),rc}var Dd;function eg(){if(Dd)return tc;Dd=1;const t=lu(),e={allowBooleanAttributes:!1,unpairedTags:[]};tc.validate=function(m,x){x=Object.assign({},e,x);const T=[];let b=!1,S=!1;m[0]==="\uFEFF"&&(m=m.substr(1));for(let v=0;v<m.length;v++)if(m[v]==="<"&&m[v+1]==="?"){if(v+=2,v=n(m,v),v.err)return v}else if(m[v]==="<"){let N=v;if(v++,m[v]==="!"){v=s(m,v);continue}else{let F=!1;m[v]==="/"&&(F=!0,v++);let D="";for(;v<m.length&&m[v]!==">"&&m[v]!==" "&&m[v]!=="	"&&m[v]!==`
`&&m[v]!=="\r";v++)D+=m[v];if(D=D.trim(),D[D.length-1]==="/"&&(D=D.substring(0,D.length-1),v--),!y(D)){let q;return D.trim().length===0?q="Invalid space after '<'.":q="Tag '"+D+"' is an invalid name.",h("InvalidTag",q,A(m,v))}const ee=a(m,v);if(ee===!1)return h("InvalidAttr","Attributes for '"+D+"' have open quote.",A(m,v));let Y=ee.value;if(v=ee.index,Y[Y.length-1]==="/"){const q=v-Y.length;Y=Y.substring(0,Y.length-1);const ue=l(Y,x);if(ue===!0)b=!0;else return h(ue.err.code,ue.err.msg,A(m,q+ue.err.line))}else if(F)if(ee.tagClosed){if(Y.trim().length>0)return h("InvalidTag","Closing tag '"+D+"' can't have attributes or invalid starting.",A(m,N));if(T.length===0)return h("InvalidTag","Closing tag '"+D+"' has not been opened.",A(m,N));{const q=T.pop();if(D!==q.tagName){let ue=A(m,q.tagStartPos);return h("InvalidTag","Expected closing tag '"+q.tagName+"' (opened in line "+ue.line+", col "+ue.col+") instead of closing tag '"+D+"'.",A(m,N))}T.length==0&&(S=!0)}}else return h("InvalidTag","Closing tag '"+D+"' doesn't have proper closing.",A(m,v));else{const q=l(Y,x);if(q!==!0)return h(q.err.code,q.err.msg,A(m,v-Y.length+q.err.line));if(S===!0)return h("InvalidXml","Multiple possible root nodes found.",A(m,v));x.unpairedTags.indexOf(D)!==-1||T.push({tagName:D,tagStartPos:N}),b=!0}for(v++;v<m.length;v++)if(m[v]==="<")if(m[v+1]==="!"){v++,v=s(m,v);continue}else if(m[v+1]==="?"){if(v=n(m,++v),v.err)return v}else break;else if(m[v]==="&"){const q=f(m,v);if(q==-1)return h("InvalidChar","char '&' is not expected.",A(m,v));v=q}else if(S===!0&&!r(m[v]))return h("InvalidXml","Extra text at the end",A(m,v));m[v]==="<"&&v--}}else{if(r(m[v]))continue;return h("InvalidChar","char '"+m[v]+"' is not expected.",A(m,v))}if(b){if(T.length==1)return h("InvalidTag","Unclosed tag '"+T[0].tagName+"'.",A(m,T[0].tagStartPos));if(T.length>0)return h("InvalidXml","Invalid '"+JSON.stringify(T.map(v=>v.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1})}else return h("InvalidXml","Start tag expected.",1);return!0};function r(m){return m===" "||m==="	"||m===`
`||m==="\r"}function n(m,x){const T=x;for(;x<m.length;x++)if(m[x]=="?"||m[x]==" "){const b=m.substr(T,x-T);if(x>5&&b==="xml")return h("InvalidXml","XML declaration allowed only at the start of the document.",A(m,x));if(m[x]=="?"&&m[x+1]==">"){x++;break}else continue}return x}function s(m,x){if(m.length>x+5&&m[x+1]==="-"&&m[x+2]==="-"){for(x+=3;x<m.length;x++)if(m[x]==="-"&&m[x+1]==="-"&&m[x+2]===">"){x+=2;break}}else if(m.length>x+8&&m[x+1]==="D"&&m[x+2]==="O"&&m[x+3]==="C"&&m[x+4]==="T"&&m[x+5]==="Y"&&m[x+6]==="P"&&m[x+7]==="E"){let T=1;for(x+=8;x<m.length;x++)if(m[x]==="<")T++;else if(m[x]===">"&&(T--,T===0))break}else if(m.length>x+9&&m[x+1]==="["&&m[x+2]==="C"&&m[x+3]==="D"&&m[x+4]==="A"&&m[x+5]==="T"&&m[x+6]==="A"&&m[x+7]==="["){for(x+=8;x<m.length;x++)if(m[x]==="]"&&m[x+1]==="]"&&m[x+2]===">"){x+=2;break}}return x}const i='"',o="'";function a(m,x){let T="",b="",S=!1;for(;x<m.length;x++){if(m[x]===i||m[x]===o)b===""?b=m[x]:b!==m[x]||(b="");else if(m[x]===">"&&b===""){S=!0;break}T+=m[x]}return b!==""?!1:{value:T,index:x,tagClosed:S}}const c=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function l(m,x){const T=t.getAllMatches(m,c),b={};for(let S=0;S<T.length;S++){if(T[S][1].length===0)return h("InvalidAttr","Attribute '"+T[S][2]+"' has no space in starting.",E(T[S]));if(T[S][3]!==void 0&&T[S][4]===void 0)return h("InvalidAttr","Attribute '"+T[S][2]+"' is without value.",E(T[S]));if(T[S][3]===void 0&&!x.allowBooleanAttributes)return h("InvalidAttr","boolean attribute '"+T[S][2]+"' is not allowed.",E(T[S]));const v=T[S][2];if(!g(v))return h("InvalidAttr","Attribute '"+v+"' is an invalid name.",E(T[S]));if(!b.hasOwnProperty(v))b[v]=1;else return h("InvalidAttr","Attribute '"+v+"' is repeated.",E(T[S]))}return!0}function u(m,x){let T=/\d/;for(m[x]==="x"&&(x++,T=/[\da-fA-F]/);x<m.length;x++){if(m[x]===";")return x;if(!m[x].match(T))break}return-1}function f(m,x){if(x++,m[x]===";")return-1;if(m[x]==="#")return x++,u(m,x);let T=0;for(;x<m.length;x++,T++)if(!(m[x].match(/\w/)&&T<20)){if(m[x]===";")break;return-1}return x}function h(m,x,T){return{err:{code:m,msg:x,line:T.line||T,col:T.col}}}function g(m){return t.isName(m)}function y(m){return t.isName(m)}function A(m,x){const T=m.substring(0,x).split(/\r?\n/);return{line:T.length,col:T[T.length-1].length+1}}function E(m){return m.startIndex+m[1].length}return tc}var io={},Fd;function Vv(){if(Fd)return io;Fd=1;const t={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(r,n){return n},attributeValueProcessor:function(r,n){return n},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(r,n,s){return r}},e=function(r){return Object.assign({},t,r)};return io.buildOptions=e,io.defaultOptions=t,io}var nc,Od;function Gv(){if(Od)return nc;Od=1;class t{constructor(r){this.tagname=r,this.child=[],this[":@"]={}}add(r,n){r==="__proto__"&&(r="#__proto__"),this.child.push({[r]:n})}addChild(r){r.tagname==="__proto__"&&(r.tagname="#__proto__"),r[":@"]&&Object.keys(r[":@"]).length>0?this.child.push({[r.tagname]:r.child,":@":r[":@"]}):this.child.push({[r.tagname]:r.child})}}return nc=t,nc}var sc,Ld;function Xv(){if(Ld)return sc;Ld=1;const t=lu();function e(c,l){const u={};if(c[l+3]==="O"&&c[l+4]==="C"&&c[l+5]==="T"&&c[l+6]==="Y"&&c[l+7]==="P"&&c[l+8]==="E"){l=l+9;let f=1,h=!1,g=!1,y="";for(;l<c.length;l++)if(c[l]==="<"&&!g)h&&n(c,l)?(l+=7,[entityName,val,l]=r(c,l+1),val.indexOf("&")===-1&&(u[a(entityName)]={regx:RegExp(`&${entityName};`,"g"),val})):h&&s(c,l)||h&&i(c,l)?l+=8:h&&o(c,l)?l+=9:g=!0,f++,y="";else if(c[l]===">"){if(g?c[l-1]==="-"&&c[l-2]==="-"&&(g=!1,f--):f--,f===0)break}else c[l]==="["?h=!0:y+=c[l];if(f!==0)throw new Error("Unclosed DOCTYPE")}else throw new Error("Invalid Tag instead of DOCTYPE");return{entities:u,i:l}}function r(c,l){let u="";for(;l<c.length&&c[l]!=="'"&&c[l]!=='"';l++)u+=c[l];if(u=u.trim(),u.indexOf(" ")!==-1)throw new Error("External entites are not supported");const f=c[l++];let h="";for(;l<c.length&&c[l]!==f;l++)h+=c[l];return[u,h,l]}function n(c,l){return c[l+1]==="!"&&c[l+2]==="E"&&c[l+3]==="N"&&c[l+4]==="T"&&c[l+5]==="I"&&c[l+6]==="T"&&c[l+7]==="Y"}function s(c,l){return c[l+1]==="!"&&c[l+2]==="E"&&c[l+3]==="L"&&c[l+4]==="E"&&c[l+5]==="M"&&c[l+6]==="E"&&c[l+7]==="N"&&c[l+8]==="T"}function i(c,l){return c[l+1]==="!"&&c[l+2]==="A"&&c[l+3]==="T"&&c[l+4]==="T"&&c[l+5]==="L"&&c[l+6]==="I"&&c[l+7]==="S"&&c[l+8]==="T"}function o(c,l){return c[l+1]==="!"&&c[l+2]==="N"&&c[l+3]==="O"&&c[l+4]==="T"&&c[l+5]==="A"&&c[l+6]==="T"&&c[l+7]==="I"&&c[l+8]==="O"&&c[l+9]==="N"}function a(c){if(t.isName(c))return c;throw new Error(`Invalid entity name ${c}`)}return sc=e,sc}var ic,Ud;function Zv(){if(Ud)return ic;Ud=1;const t=/^[-+]?0x[a-fA-F0-9]+$/,e=/^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/;!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt),!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);const r={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};function n(i,o={}){if(o=Object.assign({},r,o),!i||typeof i!="string")return i;let a=i.trim();if(o.skipLike!==void 0&&o.skipLike.test(a))return i;if(o.hex&&t.test(a))return Number.parseInt(a,16);{const c=e.exec(a);if(c){const l=c[1],u=c[2];let f=s(c[3]);const h=c[4]||c[6];if(!o.leadingZeros&&u.length>0&&l&&a[2]!==".")return i;if(!o.leadingZeros&&u.length>0&&!l&&a[1]!==".")return i;{const g=Number(a),y=""+g;return y.search(/[eE]/)!==-1||h?o.eNotation?g:i:a.indexOf(".")!==-1?y==="0"&&f===""||y===f||l&&y==="-"+f?g:i:u?f===y||l+f===y?g:i:a===y||a===l+y?g:i}}else return i}}function s(i){return i&&i.indexOf(".")!==-1&&(i=i.replace(/0+$/,""),i==="."?i="0":i[0]==="."?i="0"+i:i[i.length-1]==="."&&(i=i.substr(0,i.length-1))),i}return ic=n,ic}var oc,zd;function Yv(){if(zd)return oc;zd=1;const t=lu(),e=Gv(),r=Xv(),n=Zv();class s{constructor(S){this.options=S,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"¢"},pound:{regex:/&(pound|#163);/g,val:"£"},yen:{regex:/&(yen|#165);/g,val:"¥"},euro:{regex:/&(euro|#8364);/g,val:"€"},copyright:{regex:/&(copy|#169);/g,val:"©"},reg:{regex:/&(reg|#174);/g,val:"®"},inr:{regex:/&(inr|#8377);/g,val:"₹"},num_dec:{regex:/&#([0-9]{1,7});/g,val:(v,N)=>String.fromCharCode(Number.parseInt(N,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(v,N)=>String.fromCharCode(Number.parseInt(N,16))}},this.addExternalEntities=i,this.parseXml=u,this.parseTextData=o,this.resolveNameSpace=a,this.buildAttributesMap=l,this.isItStopNode=y,this.replaceEntitiesValue=h,this.readStopNodeData=x,this.saveTextToParentTag=g,this.addChild=f}}function i(b){const S=Object.keys(b);for(let v=0;v<S.length;v++){const N=S[v];this.lastEntities[N]={regex:new RegExp("&"+N+";","g"),val:b[N]}}}function o(b,S,v,N,F,D,ee){if(b!==void 0&&(this.options.trimValues&&!N&&(b=b.trim()),b.length>0)){ee||(b=this.replaceEntitiesValue(b));const Y=this.options.tagValueProcessor(S,b,v,F,D);return Y==null?b:typeof Y!=typeof b||Y!==b?Y:this.options.trimValues?T(b,this.options.parseTagValue,this.options.numberParseOptions):b.trim()===b?T(b,this.options.parseTagValue,this.options.numberParseOptions):b}}function a(b){if(this.options.removeNSPrefix){const S=b.split(":"),v=b.charAt(0)==="/"?"/":"";if(S[0]==="xmlns")return"";S.length===2&&(b=v+S[1])}return b}const c=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function l(b,S,v){if(!this.options.ignoreAttributes&&typeof b=="string"){const N=t.getAllMatches(b,c),F=N.length,D={};for(let ee=0;ee<F;ee++){const Y=this.resolveNameSpace(N[ee][1]);let q=N[ee][4],ue=this.options.attributeNamePrefix+Y;if(Y.length)if(this.options.transformAttributeName&&(ue=this.options.transformAttributeName(ue)),ue==="__proto__"&&(ue="#__proto__"),q!==void 0){this.options.trimValues&&(q=q.trim()),q=this.replaceEntitiesValue(q);const Z=this.options.attributeValueProcessor(Y,q,S);Z==null?D[ue]=q:typeof Z!=typeof q||Z!==q?D[ue]=Z:D[ue]=T(q,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(D[ue]=!0)}if(!Object.keys(D).length)return;if(this.options.attributesGroupName){const ee={};return ee[this.options.attributesGroupName]=D,ee}return D}}const u=function(b){b=b.replace(/\r\n?/g,`
`);const S=new e("!xml");let v=S,N="",F="";for(let D=0;D<b.length;D++)if(b[D]==="<")if(b[D+1]==="/"){const Y=E(b,">",D,"Closing Tag is not closed.");let q=b.substring(D+2,Y).trim();if(this.options.removeNSPrefix){const ke=q.indexOf(":");ke!==-1&&(q=q.substr(ke+1))}this.options.transformTagName&&(q=this.options.transformTagName(q)),v&&(N=this.saveTextToParentTag(N,v,F));const ue=F.substring(F.lastIndexOf(".")+1);if(q&&this.options.unpairedTags.indexOf(q)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${q}>`);let Z=0;ue&&this.options.unpairedTags.indexOf(ue)!==-1?(Z=F.lastIndexOf(".",F.lastIndexOf(".")-1),this.tagsNodeStack.pop()):Z=F.lastIndexOf("."),F=F.substring(0,Z),v=this.tagsNodeStack.pop(),N="",D=Y}else if(b[D+1]==="?"){let Y=m(b,D,!1,"?>");if(!Y)throw new Error("Pi Tag is not closed.");if(N=this.saveTextToParentTag(N,v,F),!(this.options.ignoreDeclaration&&Y.tagName==="?xml"||this.options.ignorePiTags)){const q=new e(Y.tagName);q.add(this.options.textNodeName,""),Y.tagName!==Y.tagExp&&Y.attrExpPresent&&(q[":@"]=this.buildAttributesMap(Y.tagExp,F,Y.tagName)),this.addChild(v,q,F)}D=Y.closeIndex+1}else if(b.substr(D+1,3)==="!--"){const Y=E(b,"-->",D+4,"Comment is not closed.");if(this.options.commentPropName){const q=b.substring(D+4,Y-2);N=this.saveTextToParentTag(N,v,F),v.add(this.options.commentPropName,[{[this.options.textNodeName]:q}])}D=Y}else if(b.substr(D+1,2)==="!D"){const Y=r(b,D);this.docTypeEntities=Y.entities,D=Y.i}else if(b.substr(D+1,2)==="!["){const Y=E(b,"]]>",D,"CDATA is not closed.")-2,q=b.substring(D+9,Y);N=this.saveTextToParentTag(N,v,F);let ue=this.parseTextData(q,v.tagname,F,!0,!1,!0,!0);ue==null&&(ue=""),this.options.cdataPropName?v.add(this.options.cdataPropName,[{[this.options.textNodeName]:q}]):v.add(this.options.textNodeName,ue),D=Y+2}else{let Y=m(b,D,this.options.removeNSPrefix),q=Y.tagName;const ue=Y.rawTagName;let Z=Y.tagExp,ke=Y.attrExpPresent,ye=Y.closeIndex;this.options.transformTagName&&(q=this.options.transformTagName(q)),v&&N&&v.tagname!=="!xml"&&(N=this.saveTextToParentTag(N,v,F,!1));const Te=v;if(Te&&this.options.unpairedTags.indexOf(Te.tagname)!==-1&&(v=this.tagsNodeStack.pop(),F=F.substring(0,F.lastIndexOf("."))),q!==S.tagname&&(F+=F?"."+q:q),this.isItStopNode(this.options.stopNodes,F,q)){let Ie="";if(Z.length>0&&Z.lastIndexOf("/")===Z.length-1)q[q.length-1]==="/"?(q=q.substr(0,q.length-1),F=F.substr(0,F.length-1),Z=q):Z=Z.substr(0,Z.length-1),D=Y.closeIndex;else if(this.options.unpairedTags.indexOf(q)!==-1)D=Y.closeIndex;else{const Pe=this.readStopNodeData(b,ue,ye+1);if(!Pe)throw new Error(`Unexpected end of ${ue}`);D=Pe.i,Ie=Pe.tagContent}const Ve=new e(q);q!==Z&&ke&&(Ve[":@"]=this.buildAttributesMap(Z,F,q)),Ie&&(Ie=this.parseTextData(Ie,q,F,!0,ke,!0,!0)),F=F.substr(0,F.lastIndexOf(".")),Ve.add(this.options.textNodeName,Ie),this.addChild(v,Ve,F)}else{if(Z.length>0&&Z.lastIndexOf("/")===Z.length-1){q[q.length-1]==="/"?(q=q.substr(0,q.length-1),F=F.substr(0,F.length-1),Z=q):Z=Z.substr(0,Z.length-1),this.options.transformTagName&&(q=this.options.transformTagName(q));const Ie=new e(q);q!==Z&&ke&&(Ie[":@"]=this.buildAttributesMap(Z,F,q)),this.addChild(v,Ie,F),F=F.substr(0,F.lastIndexOf("."))}else{const Ie=new e(q);this.tagsNodeStack.push(v),q!==Z&&ke&&(Ie[":@"]=this.buildAttributesMap(Z,F,q)),this.addChild(v,Ie,F),v=Ie}N="",D=ye}}else N+=b[D];return S.child};function f(b,S,v){const N=this.options.updateTag(S.tagname,v,S[":@"]);N===!1||(typeof N=="string"&&(S.tagname=N),b.addChild(S))}const h=function(b){if(this.options.processEntities){for(let S in this.docTypeEntities){const v=this.docTypeEntities[S];b=b.replace(v.regx,v.val)}for(let S in this.lastEntities){const v=this.lastEntities[S];b=b.replace(v.regex,v.val)}if(this.options.htmlEntities)for(let S in this.htmlEntities){const v=this.htmlEntities[S];b=b.replace(v.regex,v.val)}b=b.replace(this.ampEntity.regex,this.ampEntity.val)}return b};function g(b,S,v,N){return b&&(N===void 0&&(N=Object.keys(S.child).length===0),b=this.parseTextData(b,S.tagname,v,!1,S[":@"]?Object.keys(S[":@"]).length!==0:!1,N),b!==void 0&&b!==""&&S.add(this.options.textNodeName,b),b=""),b}function y(b,S,v){const N="*."+v;for(const F in b){const D=b[F];if(N===D||S===D)return!0}return!1}function A(b,S,v=">"){let N,F="";for(let D=S;D<b.length;D++){let ee=b[D];if(N)ee===N&&(N="");else if(ee==='"'||ee==="'")N=ee;else if(ee===v[0])if(v[1]){if(b[D+1]===v[1])return{data:F,index:D}}else return{data:F,index:D};else ee==="	"&&(ee=" ");F+=ee}}function E(b,S,v,N){const F=b.indexOf(S,v);if(F===-1)throw new Error(N);return F+S.length-1}function m(b,S,v,N=">"){const F=A(b,S+1,N);if(!F)return;let D=F.data;const ee=F.index,Y=D.search(/\s/);let q=D,ue=!0;Y!==-1&&(q=D.substring(0,Y),D=D.substring(Y+1).trimStart());const Z=q;if(v){const ke=q.indexOf(":");ke!==-1&&(q=q.substr(ke+1),ue=q!==F.data.substr(ke+1))}return{tagName:q,tagExp:D,closeIndex:ee,attrExpPresent:ue,rawTagName:Z}}function x(b,S,v){const N=v;let F=1;for(;v<b.length;v++)if(b[v]==="<")if(b[v+1]==="/"){const D=E(b,">",v,`${S} is not closed`);if(b.substring(v+2,D).trim()===S&&(F--,F===0))return{tagContent:b.substring(N,v),i:D};v=D}else if(b[v+1]==="?")v=E(b,"?>",v+1,"StopNode is not closed.");else if(b.substr(v+1,3)==="!--")v=E(b,"-->",v+3,"StopNode is not closed.");else if(b.substr(v+1,2)==="![")v=E(b,"]]>",v,"StopNode is not closed.")-2;else{const D=m(b,v,">");D&&((D&&D.tagName)===S&&D.tagExp[D.tagExp.length-1]!=="/"&&F++,v=D.closeIndex)}}function T(b,S,v){if(S&&typeof b=="string"){const N=b.trim();return N==="true"?!0:N==="false"?!1:n(b,v)}else return t.isExist(b)?b:""}return oc=s,oc}var ac={},$d;function Qv(){if($d)return ac;$d=1;function t(i,o){return e(i,o)}function e(i,o,a){let c;const l={};for(let u=0;u<i.length;u++){const f=i[u],h=r(f);let g="";if(a===void 0?g=h:g=a+"."+h,h===o.textNodeName)c===void 0?c=f[h]:c+=""+f[h];else{if(h===void 0)continue;if(f[h]){let y=e(f[h],o,g);const A=s(y,o);f[":@"]?n(y,f[":@"],g,o):Object.keys(y).length===1&&y[o.textNodeName]!==void 0&&!o.alwaysCreateTextNode?y=y[o.textNodeName]:Object.keys(y).length===0&&(o.alwaysCreateTextNode?y[o.textNodeName]="":y=""),l[h]!==void 0&&l.hasOwnProperty(h)?(Array.isArray(l[h])||(l[h]=[l[h]]),l[h].push(y)):o.isArray(h,g,A)?l[h]=[y]:l[h]=y}}}return typeof c=="string"?c.length>0&&(l[o.textNodeName]=c):c!==void 0&&(l[o.textNodeName]=c),l}function r(i){const o=Object.keys(i);for(let a=0;a<o.length;a++){const c=o[a];if(c!==":@")return c}}function n(i,o,a,c){if(o){const l=Object.keys(o),u=l.length;for(let f=0;f<u;f++){const h=l[f];c.isArray(h,a+"."+h,!0,!0)?i[h]=[o[h]]:i[h]=o[h]}}}function s(i,o){const{textNodeName:a}=o,c=Object.keys(i).length;return!!(c===0||c===1&&(i[a]||typeof i[a]=="boolean"||i[a]===0))}return ac.prettify=t,ac}var cc,qd;function Jv(){if(qd)return cc;qd=1;const{buildOptions:t}=Vv(),e=Yv(),{prettify:r}=Qv(),n=eg();class s{constructor(o){this.externalEntities={},this.options=t(o)}parse(o,a){if(typeof o!="string")if(o.toString)o=o.toString();else throw new Error("XML data is accepted in String or Bytes[] form.");if(a){a===!0&&(a={});const u=n.validate(o,a);if(u!==!0)throw Error(`${u.err.msg}:${u.err.line}:${u.err.col}`)}const c=new e(this.options);c.addExternalEntities(this.externalEntities);const l=c.parseXml(o);return this.options.preserveOrder||l===void 0?l:r(l,this.options)}addEntity(o,a){if(a.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(o.indexOf("&")!==-1||o.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(a==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[o]=a}}return cc=s,cc}var lc,Hd;function ex(){if(Hd)return lc;Hd=1;const t=`
`;function e(a,c){let l="";return c.format&&c.indentBy.length>0&&(l=t),r(a,c,"",l)}function r(a,c,l,u){let f="",h=!1;for(let g=0;g<a.length;g++){const y=a[g],A=n(y);if(A===void 0)continue;let E="";if(l.length===0?E=A:E=`${l}.${A}`,A===c.textNodeName){let S=y[A];i(E,c)||(S=c.tagValueProcessor(A,S),S=o(S,c)),h&&(f+=u),f+=S,h=!1;continue}else if(A===c.cdataPropName){h&&(f+=u),f+=`<![CDATA[${y[A][0][c.textNodeName]}]]>`,h=!1;continue}else if(A===c.commentPropName){f+=u+`<!--${y[A][0][c.textNodeName]}-->`,h=!0;continue}else if(A[0]==="?"){const S=s(y[":@"],c),v=A==="?xml"?"":u;let N=y[A][0][c.textNodeName];N=N.length!==0?" "+N:"",f+=v+`<${A}${N}${S}?>`,h=!0;continue}let m=u;m!==""&&(m+=c.indentBy);const x=s(y[":@"],c),T=u+`<${A}${x}`,b=r(y[A],c,E,m);c.unpairedTags.indexOf(A)!==-1?c.suppressUnpairedNode?f+=T+">":f+=T+"/>":(!b||b.length===0)&&c.suppressEmptyNode?f+=T+"/>":b&&b.endsWith(">")?f+=T+`>${b}${u}</${A}>`:(f+=T+">",b&&u!==""&&(b.includes("/>")||b.includes("</"))?f+=u+c.indentBy+b+u:f+=b,f+=`</${A}>`),h=!0}return f}function n(a){const c=Object.keys(a);for(let l=0;l<c.length;l++){const u=c[l];if(a.hasOwnProperty(u)&&u!==":@")return u}}function s(a,c){let l="";if(a&&!c.ignoreAttributes)for(let u in a){if(!a.hasOwnProperty(u))continue;let f=c.attributeValueProcessor(u,a[u]);f=o(f,c),f===!0&&c.suppressBooleanAttributes?l+=` ${u.substr(c.attributeNamePrefix.length)}`:l+=` ${u.substr(c.attributeNamePrefix.length)}="${f}"`}return l}function i(a,c){a=a.substr(0,a.length-c.textNodeName.length-1);let l=a.substr(a.lastIndexOf(".")+1);for(let u in c.stopNodes)if(c.stopNodes[u]===a||c.stopNodes[u]==="*."+l)return!0;return!1}function o(a,c){if(a&&a.length>0&&c.processEntities)for(let l=0;l<c.entities.length;l++){const u=c.entities[l];a=a.replace(u.regex,u.val)}return a}return lc=e,lc}var uc,jd;function tx(){if(jd)return uc;jd=1;const t=ex(),e={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(o,a){return a},attributeValueProcessor:function(o,a){return a},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function r(o){this.options=Object.assign({},e,o),this.options.ignoreAttributes||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=i),this.processTextOrObjNode=n,this.options.format?(this.indentate=s,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}r.prototype.build=function(o){return this.options.preserveOrder?t(o,this.options):(Array.isArray(o)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(o={[this.options.arrayNodeName]:o}),this.j2x(o,0).val)},r.prototype.j2x=function(o,a){let c="",l="";for(let u in o)if(Object.prototype.hasOwnProperty.call(o,u))if(typeof o[u]>"u")this.isAttribute(u)&&(l+="");else if(o[u]===null)this.isAttribute(u)?l+="":u[0]==="?"?l+=this.indentate(a)+"<"+u+"?"+this.tagEndChar:l+=this.indentate(a)+"<"+u+"/"+this.tagEndChar;else if(o[u]instanceof Date)l+=this.buildTextValNode(o[u],u,"",a);else if(typeof o[u]!="object"){const f=this.isAttribute(u);if(f)c+=this.buildAttrPairStr(f,""+o[u]);else if(u===this.options.textNodeName){let h=this.options.tagValueProcessor(u,""+o[u]);l+=this.replaceEntitiesValue(h)}else l+=this.buildTextValNode(o[u],u,"",a)}else if(Array.isArray(o[u])){const f=o[u].length;let h="",g="";for(let y=0;y<f;y++){const A=o[u][y];if(!(typeof A>"u"))if(A===null)u[0]==="?"?l+=this.indentate(a)+"<"+u+"?"+this.tagEndChar:l+=this.indentate(a)+"<"+u+"/"+this.tagEndChar;else if(typeof A=="object")if(this.options.oneListGroup){const E=this.j2x(A,a+1);h+=E.val,this.options.attributesGroupName&&A.hasOwnProperty(this.options.attributesGroupName)&&(g+=E.attrStr)}else h+=this.processTextOrObjNode(A,u,a);else if(this.options.oneListGroup){let E=this.options.tagValueProcessor(u,A);E=this.replaceEntitiesValue(E),h+=E}else h+=this.buildTextValNode(A,u,"",a)}this.options.oneListGroup&&(h=this.buildObjectNode(h,u,g,a)),l+=h}else if(this.options.attributesGroupName&&u===this.options.attributesGroupName){const f=Object.keys(o[u]),h=f.length;for(let g=0;g<h;g++)c+=this.buildAttrPairStr(f[g],""+o[u][f[g]])}else l+=this.processTextOrObjNode(o[u],u,a);return{attrStr:c,val:l}},r.prototype.buildAttrPairStr=function(o,a){return a=this.options.attributeValueProcessor(o,""+a),a=this.replaceEntitiesValue(a),this.options.suppressBooleanAttributes&&a==="true"?" "+o:" "+o+'="'+a+'"'};function n(o,a,c){const l=this.j2x(o,c+1);return o[this.options.textNodeName]!==void 0&&Object.keys(o).length===1?this.buildTextValNode(o[this.options.textNodeName],a,l.attrStr,c):this.buildObjectNode(l.val,a,l.attrStr,c)}r.prototype.buildObjectNode=function(o,a,c,l){if(o==="")return a[0]==="?"?this.indentate(l)+"<"+a+c+"?"+this.tagEndChar:this.indentate(l)+"<"+a+c+this.closeTag(a)+this.tagEndChar;{let u="</"+a+this.tagEndChar,f="";return a[0]==="?"&&(f="?",u=""),(c||c==="")&&o.indexOf("<")===-1?this.indentate(l)+"<"+a+c+f+">"+o+u:this.options.commentPropName!==!1&&a===this.options.commentPropName&&f.length===0?this.indentate(l)+`<!--${o}-->`+this.newLine:this.indentate(l)+"<"+a+c+f+this.tagEndChar+o+this.indentate(l)+u}},r.prototype.closeTag=function(o){let a="";return this.options.unpairedTags.indexOf(o)!==-1?this.options.suppressUnpairedNode||(a="/"):this.options.suppressEmptyNode?a="/":a=`></${o}`,a},r.prototype.buildTextValNode=function(o,a,c,l){if(this.options.cdataPropName!==!1&&a===this.options.cdataPropName)return this.indentate(l)+`<![CDATA[${o}]]>`+this.newLine;if(this.options.commentPropName!==!1&&a===this.options.commentPropName)return this.indentate(l)+`<!--${o}-->`+this.newLine;if(a[0]==="?")return this.indentate(l)+"<"+a+c+"?"+this.tagEndChar;{let u=this.options.tagValueProcessor(a,o);return u=this.replaceEntitiesValue(u),u===""?this.indentate(l)+"<"+a+c+this.closeTag(a)+this.tagEndChar:this.indentate(l)+"<"+a+c+">"+u+"</"+a+this.tagEndChar}},r.prototype.replaceEntitiesValue=function(o){if(o&&o.length>0&&this.options.processEntities)for(let a=0;a<this.options.entities.length;a++){const c=this.options.entities[a];o=o.replace(c.regex,c.val)}return o};function s(o){return this.options.indentBy.repeat(o)}function i(o){return o.startsWith(this.options.attributeNamePrefix)&&o!==this.options.textNodeName?o.substr(this.attrPrefixLen):!1}return uc=r,uc}var dc,Wd;function rx(){if(Wd)return dc;Wd=1;const t=eg(),e=Jv(),r=tx();return dc={XMLParser:e,XMLValidator:t,XMLBuilder:r},dc}var nx=rx();const Ia=(t,e)=>Kv(t,e).then(r=>{if(r.length){const n=new nx.XMLParser({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(c,l)=>l.trim()===""&&l.includes(`
`)?"":void 0});n.addEntity("#xD","\r"),n.addEntity("#10",`
`);let s;try{s=n.parse(r,!0)}catch(c){throw c&&typeof c=="object"&&Object.defineProperty(c,"$responseBodyText",{value:r}),c}const i="#text",o=Object.keys(s)[0],a=s[o];return a[i]&&(a[o]=a[i],delete a[i]),Qp(a)}return{}}),sx=async(t,e)=>{const r=await Ia(t,e);return r.Error&&(r.Error.message=r.Error.message??r.Error.Message),r},ix=(t,e)=>{var r;if(((r=e==null?void 0:e.Error)==null?void 0:r.Code)!==void 0)return e.Error.Code;if((e==null?void 0:e.Code)!==void 0)return e.Code;if(t.statusCode==404)return"NotFound"},Al=[ot.CRC32,ot.CRC32C,ot.CRC64NVME,ot.SHA1,ot.SHA256],ox=[ot.SHA256,ot.SHA1,ot.CRC32,ot.CRC32C,ot.CRC64NVME],ax=(t,{requestChecksumRequired:e,requestAlgorithmMember:r,requestChecksumCalculation:n})=>{if(!r)return n===ps.WHEN_SUPPORTED||e?bl:void 0;if(!t[r])return;const s=t[r];if(!Al.includes(s))throw new Error(`The checksum algorithm "${s}" is not supported by the client. Select one of ${Al}.`);return s},uu=t=>t===ot.MD5?"content-md5":`x-amz-checksum-${t.toLowerCase()}`,cx=(t,e)=>{const r=t.toLowerCase();for(const n of Object.keys(e))if(r===n.toLowerCase())return!0;return!1},lx=(t,e)=>{const r=t.toLowerCase();for(const n of Object.keys(e))if(n.toLowerCase().startsWith(r))return!0;return!1},du=t=>t!==void 0&&typeof t!="string"&&!ArrayBuffer.isView(t)&&!Vp(t);function fu(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(u){try{l(n.next(u))}catch(f){o(f)}}function c(u){try{l(n.throw(u))}catch(f){o(f)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})}function hu(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=a(0),o.throw=a(1),o.return=a(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(u){return c([l,u])}}function c(l){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,l[0]&&(r=0)),r;)try{if(n=1,s&&(i=l[0]&2?s.return:l[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,l[1])).done)return i;switch(s=0,i&&(l=[l[0]&2,i.value]),l[0]){case 0:case 1:i=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,s=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!i||l[1]>i[0]&&l[1]<i[3])){r.label=l[1];break}if(l[0]===6&&r.label<i[1]){r.label=i[1],i=l;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(l);break}i[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(u){l=[6,u],s=0}finally{n=i=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function tg(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}const ux=t=>new TextEncoder().encode(t);var dx=typeof Buffer<"u"&&Buffer.from?function(t){return Buffer.from(t,"utf8")}:ux;function Kr(t){return t instanceof Uint8Array?t:typeof t=="string"?dx(t):ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(t)}function ei(t){return typeof t=="string"?t.length===0:t.byteLength===0}function rg(t){return new Uint8Array([(t&4278190080)>>24,(t&16711680)>>16,(t&65280)>>8,t&255])}function ng(t){if(!Uint32Array.from){for(var e=new Uint32Array(t.length),r=0;r<t.length;)e[r]=t[r],r+=1;return e}return Uint32Array.from(t)}var fx=function(){function t(){this.crc32c=new Kd}return t.prototype.update=function(e){ei(e)||this.crc32c.update(Kr(e))},t.prototype.digest=function(){return fu(this,void 0,void 0,function(){return hu(this,function(e){return[2,rg(this.crc32c.digest())]})})},t.prototype.reset=function(){this.crc32c=new Kd},t}(),Kd=function(){function t(){this.checksum=4294967295}return t.prototype.update=function(e){var r,n;try{for(var s=tg(e),i=s.next();!i.done;i=s.next()){var o=i.value;this.checksum=this.checksum>>>8^px[(this.checksum^o)&255]}}catch(a){r={error:a}}finally{try{i&&!i.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return this},t.prototype.digest=function(){return(this.checksum^4294967295)>>>0},t}(),hx=[0,4067132163,3778769143,324072436,3348797215,904991772,648144872,3570033899,2329499855,2024987596,1809983544,2575936315,1296289744,3207089363,2893594407,1578318884,274646895,3795141740,4049975192,51262619,3619967088,632279923,922689671,3298075524,2592579488,1760304291,2075979607,2312596564,1562183871,2943781820,3156637768,1313733451,549293790,3537243613,3246849577,871202090,3878099393,357341890,102525238,4101499445,2858735121,1477399826,1264559846,3107202533,1845379342,2677391885,2361733625,2125378298,820201905,3263744690,3520608582,598981189,4151959214,85089709,373468761,3827903834,3124367742,1213305469,1526817161,2842354314,2107672161,2412447074,2627466902,1861252501,1098587580,3004210879,2688576843,1378610760,2262928035,1955203488,1742404180,2511436119,3416409459,969524848,714683780,3639785095,205050476,4266873199,3976438427,526918040,1361435347,2739821008,2954799652,1114974503,2529119692,1691668175,2005155131,2247081528,3690758684,697762079,986182379,3366744552,476452099,3993867776,4250756596,255256311,1640403810,2477592673,2164122517,1922457750,2791048317,1412925310,1197962378,3037525897,3944729517,427051182,170179418,4165941337,746937522,3740196785,3451792453,1070968646,1905808397,2213795598,2426610938,1657317369,3053634322,1147748369,1463399397,2773627110,4215344322,153784257,444234805,3893493558,1021025245,3467647198,3722505002,797665321,2197175160,1889384571,1674398607,2443626636,1164749927,3070701412,2757221520,1446797203,137323447,4198817972,3910406976,461344835,3484808360,1037989803,781091935,3705997148,2460548119,1623424788,1939049696,2180517859,1429367560,2807687179,3020495871,1180866812,410100952,3927582683,4182430767,186734380,3756733383,763408580,1053836080,3434856499,2722870694,1344288421,1131464017,2971354706,1708204729,2545590714,2229949006,1988219213,680717673,3673779818,3383336350,1002577565,4010310262,493091189,238226049,4233660802,2987750089,1082061258,1395524158,2705686845,1972364758,2279892693,2494862625,1725896226,952904198,3399985413,3656866545,731699698,4283874585,222117402,510512622,3959836397,3280807620,837199303,582374963,3504198960,68661723,4135334616,3844915500,390545967,1230274059,3141532936,2825850620,1510247935,2395924756,2091215383,1878366691,2644384480,3553878443,565732008,854102364,3229815391,340358836,3861050807,4117890627,119113024,1493875044,2875275879,3090270611,1247431312,2660249211,1828433272,2141937292,2378227087,3811616794,291187481,34330861,4032846830,615137029,3603020806,3314634738,939183345,1776939221,2609017814,2295496738,2058945313,2926798794,1545135305,1330124605,3173225534,4084100981,17165430,307568514,3762199681,888469610,3332340585,3587147933,665062302,2042050490,2346497209,2559330125,1793573966,3190661285,1279665062,1595330642,2910671697],px=ng(hx),gx=function(){function t(){this.crc32=new Mo}return t.prototype.update=function(e){ei(e)||this.crc32.update(Kr(e))},t.prototype.digest=function(){return fu(this,void 0,void 0,function(){return hu(this,function(e){return[2,rg(this.crc32.digest())]})})},t.prototype.reset=function(){this.crc32=new Mo},t}(),Mo=function(){function t(){this.checksum=4294967295}return t.prototype.update=function(e){var r,n;try{for(var s=tg(e),i=s.next();!i.done;i=s.next()){var o=i.value;this.checksum=this.checksum>>>8^yx[(this.checksum^o)&255]}}catch(a){r={error:a}}finally{try{i&&!i.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return this},t.prototype.digest=function(){return(this.checksum^4294967295)>>>0},t}(),mx=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],yx=ng(mx);const bx=()=>gx,sg=(t,e)=>{switch(t){case ot.MD5:return e.md5;case ot.CRC32:return bx();case ot.CRC32C:return fx;case ot.CRC64NVME:throw new Error(`Please check whether you have installed the "@aws-sdk/crc64-nvme-crt" package explicitly. 
You must also register the package by calling [require("@aws-sdk/crc64-nvme-crt");] or an ESM equivalent such as [import "@aws-sdk/crc64-nvme-crt";]. 
For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt`);case ot.SHA1:return e.sha1;case ot.SHA256:return e.sha256;default:throw new Error(`Unsupported checksum algorithm: ${t}`)}},ig=(t,e)=>{const r=new t;return r.update(Wn(e||"")),r.digest()},wx={name:"flexibleChecksumsMiddleware",step:"build",tags:["BODY_CHECKSUM"],override:!0},vx=(t,e)=>(r,n)=>async s=>{if(!bt.isInstance(s.request)||lx("x-amz-checksum-",s.request.headers))return r(s);const{request:i,input:o}=s,{body:a,headers:c}=i,{base64Encoder:l,streamHasher:u}=t,{requestChecksumRequired:f,requestAlgorithmMember:h}=e,g=await t.requestChecksumCalculation(),y=h==null?void 0:h.name,A=h==null?void 0:h.httpHeader;y&&!o[y]&&(g===ps.WHEN_SUPPORTED||f)&&(o[y]=bl,A&&(c[A]=bl));const E=ax(o,{requestChecksumRequired:f,requestAlgorithmMember:h==null?void 0:h.name,requestChecksumCalculation:g});let m=a,x=c;if(E){switch(E){case ot.CRC32:gt(n,"FLEXIBLE_CHECKSUMS_REQ_CRC32","U");break;case ot.CRC32C:gt(n,"FLEXIBLE_CHECKSUMS_REQ_CRC32C","V");break;case ot.CRC64NVME:gt(n,"FLEXIBLE_CHECKSUMS_REQ_CRC64","W");break;case ot.SHA1:gt(n,"FLEXIBLE_CHECKSUMS_REQ_SHA1","X");break;case ot.SHA256:gt(n,"FLEXIBLE_CHECKSUMS_REQ_SHA256","Y");break}const b=uu(E),S=sg(E,t);if(du(a)){const{getAwsChunkedEncodingStream:v,bodyLengthChecker:N}=t;m=v(a,{base64Encoder:l,bodyLengthChecker:N,checksumLocationName:b,checksumAlgorithmFn:S,streamHasher:u}),x={...c,"content-encoding":c["content-encoding"]?`${c["content-encoding"]},aws-chunked`:"aws-chunked","transfer-encoding":"chunked","x-amz-decoded-content-length":c["content-length"],"x-amz-content-sha256":"STREAMING-UNSIGNED-PAYLOAD-TRAILER","x-amz-trailer":b},delete x["content-length"]}else if(!cx(b,c)){const v=await ig(S,a);x={...c,[b]:l(v)}}}return await r({...s,request:{...i,headers:x,body:m}})},xx={name:"flexibleChecksumsInputMiddleware",toMiddleware:"serializerMiddleware",relation:"before",tags:["BODY_CHECKSUM"],override:!0},Sx=(t,e)=>(r,n)=>async s=>{const i=s.input,{requestValidationModeMember:o}=e,a=await t.requestChecksumCalculation(),c=await t.responseChecksumValidation();switch(a){case ps.WHEN_REQUIRED:gt(n,"FLEXIBLE_CHECKSUMS_REQ_WHEN_REQUIRED","a");break;case ps.WHEN_SUPPORTED:gt(n,"FLEXIBLE_CHECKSUMS_REQ_WHEN_SUPPORTED","Z");break}switch(c){case Ga.WHEN_REQUIRED:gt(n,"FLEXIBLE_CHECKSUMS_RES_WHEN_REQUIRED","c");break;case Ga.WHEN_SUPPORTED:gt(n,"FLEXIBLE_CHECKSUMS_RES_WHEN_SUPPORTED","b");break}return o&&!i[o]&&c===Ga.WHEN_SUPPORTED&&(i[o]="ENABLED"),r(s)},og=(t=[])=>{const e=[];for(const r of ox)!t.includes(r)||!Al.includes(r)||e.push(r);return e},Ex=t=>{const e=t.lastIndexOf("-");if(e!==-1){const r=t.slice(e+1);if(!r.startsWith("0")){const n=parseInt(r,10);if(!isNaN(n)&&n>=1&&n<=1e4)return!0}}return!1};function Vd(t){return new Blob([t]).stream()}const Ax=async(t,{checksumAlgorithmFn:e,base64Encoder:r})=>r(await ig(e,t)),_x=async(t,{config:e,responseAlgorithms:r})=>{const n=og(r),{body:s,headers:i}=t;for(const o of n){const a=uu(o),c=i[a];if(c){const l=sg(o,e),{base64Encoder:u}=e;if(du(s)){t.body=Rw({expectedChecksum:c,checksumSourceLocation:a,checksum:new l,source:s,base64Encoder:u});return}const f=await Ax(s,{checksumAlgorithmFn:l,base64Encoder:u});if(f===c)break;throw new Error(`Checksum mismatch: expected "${f}" but received "${c}" in response header "${a}".`)}}},Cx={name:"flexibleChecksumsResponseMiddleware",toMiddleware:"deserializerMiddleware",relation:"after",tags:["BODY_CHECKSUM"],override:!0},kx=(t,e)=>(r,n)=>async s=>{if(!bt.isInstance(s.request))return r(s);const i=s.input,o=await r(s),a=o.response;let c;const{requestValidationModeMember:l,responseAlgorithms:u}=e;if(l&&i[l]==="ENABLED"){const{clientName:f,commandName:h}=n;if(f==="S3Client"&&h==="GetObjectCommand"&&og(u).every(A=>{const E=uu(A),m=a.headers[E];return!m||Ex(m)}))return o;const y=du(a.body);y&&(c=await t.streamCollector(a.body),a.body=Vd(c)),await _x(o.response,{config:t,responseAlgorithms:u}),y&&c&&(a.body=Vd(c))}return o},pu=(t,e)=>({applyToStack:r=>{r.add(vx(t,e),wx),r.addRelativeTo(Sx(t,e),xx),r.addRelativeTo(kx(t,e),Cx)}}),Rx=t=>({...t,requestChecksumCalculation:br(t.requestChecksumCalculation??Yb),responseChecksumValidation:br(t.responseChecksumValidation??Qb)});const Tx=t=>e=>async r=>{if(!bt.isInstance(r.request))return e(r);const{request:n}=r,{handlerProtocol:s=""}=t.requestHandler.metadata||{};if(s.indexOf("h2")>=0&&!n.headers[":authority"])delete n.headers.host,n.headers[":authority"]=n.hostname+(n.port?":"+n.port:"");else if(!n.headers.host){let i=n.hostname;n.port!=null&&(i+=`:${n.port}`),n.headers.host=i}return e(r)},Px={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},Ix=t=>({applyToStack:e=>{e.add(Tx(t),Px)}}),Bx=()=>(t,e)=>async r=>{var n,s;try{const i=await t(r),{clientName:o,commandName:a,logger:c,dynamoDbDocumentClientOptions:l={}}=e,{overrideInputFilterSensitiveLog:u,overrideOutputFilterSensitiveLog:f}=l,h=u??e.inputFilterSensitiveLog,g=f??e.outputFilterSensitiveLog,{$metadata:y,...A}=i.output;return(n=c==null?void 0:c.info)==null||n.call(c,{clientName:o,commandName:a,input:h(r.input),output:g(A),metadata:y}),i}catch(i){const{clientName:o,commandName:a,logger:c,dynamoDbDocumentClientOptions:l={}}=e,{overrideInputFilterSensitiveLog:u}=l,f=u??e.inputFilterSensitiveLog;throw(s=c==null?void 0:c.error)==null||s.call(c,{clientName:o,commandName:a,input:f(r.input),error:i,metadata:i.$metadata}),i}},Mx={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},Nx=t=>({applyToStack:e=>{e.add(Bx(),Mx)}});var Gd={};const Xd="X-Amzn-Trace-Id",Dx="AWS_LAMBDA_FUNCTION_NAME",Fx="_X_AMZN_TRACE_ID",Ox=t=>e=>async r=>{const{request:n}=r;if(!bt.isInstance(n)||t.runtime!=="node"||n.headers.hasOwnProperty(Xd))return e(r);const s=Gd[Dx],i=Gd[Fx],o=a=>typeof a=="string"&&a.length>0;return o(s)&&o(i)&&(n.headers[Xd]=i),e({...r,request:n})},Lx={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},Ux=t=>({applyToStack:e=>{e.add(Ox(t),Lx)}}),zx="content-length";function $x(){return(t,e)=>async r=>{var s;const{request:n}=r;if(bt.isInstance(n)&&!(zx in n.headers)){const i="Are you using a Stream of unknown length as the Body of a PutObject request? Consider using Upload instead from @aws-sdk/lib-storage.";typeof((s=e==null?void 0:e.logger)==null?void 0:s.warn)=="function"&&!(e.logger instanceof cu)?e.logger.warn(i):console.warn(i)}return t({...r})}}const qx={step:"finalizeRequest",tags:["CHECK_CONTENT_LENGTH_HEADER"],name:"getCheckContentLengthHeaderPlugin",override:!0},Hx=t=>({applyToStack:e=>{e.add($x(),qx)}}),jx=t=>(e,r)=>async n=>{const s=await t.region(),i=t.region;let o=()=>{};r.__s3RegionRedirect&&(Object.defineProperty(t,"region",{writable:!1,value:async()=>r.__s3RegionRedirect}),o=()=>Object.defineProperty(t,"region",{writable:!0,value:i}));try{const a=await e(n);if(r.__s3RegionRedirect){o();const c=await t.region();if(s!==c)throw new Error("Region was not restored following S3 region redirect.")}return a}catch(a){throw o(),a}},Wx={tags:["REGION_REDIRECT","S3"],name:"regionRedirectEndpointMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"};function Kx(t){return(e,r)=>async n=>{var s,i,o;try{return await e(n)}catch(a){if(t.followRegionRedirects&&(((s=a==null?void 0:a.$metadata)==null?void 0:s.httpStatusCode)===301||((i=a==null?void 0:a.$metadata)==null?void 0:i.httpStatusCode)===400&&(a==null?void 0:a.name)==="IllegalLocationConstraintException")){try{const c=a.$response.headers["x-amz-bucket-region"];(o=r.logger)==null||o.debug(`Redirecting from ${await t.region()} to ${c}`),r.__s3RegionRedirect=c}catch(c){throw new Error("Region redirect failed: "+c)}return e(n)}throw a}}}const Vx={step:"initialize",tags:["REGION_REDIRECT","S3"],name:"regionRedirectMiddleware",override:!0},Gx=t=>({applyToStack:e=>{e.add(Kx(t),Vx),e.addRelativeTo(jx(t),Wx)}}),da=class da{constructor(e={}){z(this,"data");z(this,"lastPurgeTime",Date.now());this.data=e}get(e){const r=this.data[e];if(r)return r}set(e,r){return this.data[e]=r,r}delete(e){delete this.data[e]}async purgeExpired(){const e=Date.now();if(!(this.lastPurgeTime+da.EXPIRED_CREDENTIAL_PURGE_INTERVAL_MS>e))for(const r in this.data){const n=this.data[r];if(!n.isRefreshing){const s=await n.identity;s.expiration&&s.expiration.getTime()<e&&delete this.data[r]}}}};z(da,"EXPIRED_CREDENTIAL_PURGE_INTERVAL_MS",3e4);let _l=da;class fc{constructor(e,r=!1,n=Date.now()){z(this,"_identity");z(this,"isRefreshing");z(this,"accessed");this._identity=e,this.isRefreshing=r,this.accessed=n}get identity(){return this.accessed=Date.now(),this._identity}}const fa=class fa{constructor(e,r=new _l){z(this,"createSessionFn");z(this,"cache");this.createSessionFn=e,this.cache=r}async getS3ExpressIdentity(e,r){const n=r.Bucket,{cache:s}=this,i=s.get(n);return i?i.identity.then(o=>{var l,u;return(((l=o.expiration)==null?void 0:l.getTime())??0)<Date.now()?s.set(n,new fc(this.getIdentity(n))).identity:((((u=o.expiration)==null?void 0:u.getTime())??0)<Date.now()+fa.REFRESH_WINDOW_MS&&!i.isRefreshing&&(i.isRefreshing=!0,this.getIdentity(n).then(f=>{s.set(n,new fc(Promise.resolve(f)))})),o)}):s.set(n,new fc(this.getIdentity(n))).identity}async getIdentity(e){var s,i;await this.cache.purgeExpired().catch(o=>{console.warn(`Error while clearing expired entries in S3ExpressIdentityCache: 
`+o)});const r=await this.createSessionFn(e);if(!((s=r.Credentials)!=null&&s.AccessKeyId)||!((i=r.Credentials)!=null&&i.SecretAccessKey))throw new Error("s3#createSession response credential missing AccessKeyId or SecretAccessKey.");return{accessKeyId:r.Credentials.AccessKeyId,secretAccessKey:r.Credentials.SecretAccessKey,sessionToken:r.Credentials.SessionToken,expiration:r.Credentials.Expiration?new Date(r.Credentials.Expiration):void 0}}};z(fa,"REFRESH_WINDOW_MS",6e4);let Cl=fa;var Zd;(function(t){t.ENV="env",t.CONFIG="shared config entry"})(Zd||(Zd={}));const Xx="Directory",Zx="S3Express",Yx="sigv4-s3express",kl="X-Amz-S3session-Token",Rl=kl.toLowerCase();class Qx extends Sl{async signWithCredentials(e,r,n){const s=Yd(r);e.headers[Rl]=r.sessionToken;const i=this;return Qd(i,s),i.signRequest(e,n??{})}async presignWithCredentials(e,r,n){const s=Yd(r);return delete e.headers[Rl],e.headers[kl]=r.sessionToken,e.query=e.query??{},e.query[kl]=r.sessionToken,Qd(this,s),this.presign(e,n)}}function Yd(t){return{accessKeyId:t.accessKeyId,secretAccessKey:t.secretAccessKey,expiration:t.expiration}}function Qd(t,e){const r=setTimeout(()=>{throw new Error("SignatureV4S3Express credential override was created but not called.")},10),n=t.credentialProvider,s=()=>(clearTimeout(r),t.credentialProvider=n,Promise.resolve(e));t.credentialProvider=s}const Jx=t=>(e,r)=>async n=>{var s,i,o,a,c;if(r.endpointV2){const l=r.endpointV2,u=((o=(i=(s=l.properties)==null?void 0:s.authSchemes)==null?void 0:i[0])==null?void 0:o.name)===Yx;if((((a=l.properties)==null?void 0:a.backend)===Zx||((c=l.properties)==null?void 0:c.bucketType)===Xx)&&(gt(r,"S3_EXPRESS_BUCKET","J"),r.isS3ExpressBucket=!0),u){const h=n.input.Bucket;if(h){const g=await t.s3ExpressIdentityProvider.getS3ExpressIdentity(await t.credentials(),{Bucket:h});r.s3ExpressIdentity=g,bt.isInstance(n.request)&&g.sessionToken&&(n.request.headers[Rl]=g.sessionToken)}}}return e(n)},eS={name:"s3ExpressMiddleware",step:"build",tags:["S3","S3_EXPRESS"],override:!0},tS=t=>({applyToStack:e=>{e.add(Jx(t),eS)}}),rS=async(t,e,r,n)=>{const s=await n.signWithCredentials(r,t,{});if(s.headers["X-Amz-Security-Token"]||s.headers["x-amz-security-token"])throw new Error("X-Amz-Security-Token must not be set for s3-express requests.");return s},nS=t=>e=>{throw e},sS=(t,e)=>{},iS=t=>(e,r)=>async n=>{if(!bt.isInstance(n.request))return e(n);const i=bs(r).selectedHttpAuthScheme;if(!i)throw new Error("No HttpAuthScheme was selected: unable to sign request");const{httpAuthOption:{signingProperties:o={}},identity:a,signer:c}=i;let l;r.s3ExpressIdentity?l=await rS(r.s3ExpressIdentity,o,n.request,await t.signer()):l=await c.sign(n.request,a,o);const u=await e({...n,request:l}).catch((c.errorHandler||nS)(o));return(c.successHandler||sS)(u.response,o),u},oS=t=>({applyToStack:e=>{e.addRelativeTo(iS(t),Fp)}}),aS=(t,{session:e})=>{const[r,n]=e;return{...t,forcePathStyle:t.forcePathStyle??!1,useAccelerateEndpoint:t.useAccelerateEndpoint??!1,disableMultiregionAccessPoints:t.disableMultiregionAccessPoints??!1,followRegionRedirects:t.followRegionRedirects??!1,s3ExpressIdentityProvider:t.s3ExpressIdentityProvider??new Cl(async s=>r().send(new n({Bucket:s,SessionMode:"ReadWrite"}))),bucketEndpoint:t.bucketEndpoint??!1}},cS={CopyObjectCommand:!0,UploadPartCopyCommand:!0,CompleteMultipartUploadCommand:!0},lS=3e3,uS=t=>(e,r)=>async n=>{const s=await e(n),{response:i}=s;if(!Qs.isInstance(i))return s;const{statusCode:o,body:a}=i;if(o<200||o>=300||!(typeof(a==null?void 0:a.stream)=="function"||typeof(a==null?void 0:a.pipe)=="function"||typeof(a==null?void 0:a.tee)=="function"))return s;let l=a,u=a;a&&typeof a=="object"&&!(a instanceof Uint8Array)&&([l,u]=await Aw(a)),i.body=u;const f=await dS(l,{streamCollector:async g=>_w(g,lS)});typeof(l==null?void 0:l.destroy)=="function"&&l.destroy();const h=t.utf8Encoder(f.subarray(f.length-16));if(f.length===0&&cS[r.commandName]){const g=new Error("S3 aborted request");throw g.name="InternalError",g}return h&&h.endsWith("</Error>")&&(i.statusCode=400),s},dS=(t=new Uint8Array,e)=>t instanceof Uint8Array?Promise.resolve(t):e.streamCollector(t)||Promise.resolve(new Uint8Array),fS={relation:"after",toMiddleware:"deserializerMiddleware",tags:["THROW_200_EXCEPTIONS","S3"],name:"throw200ExceptionsMiddleware",override:!0},En=t=>({applyToStack:e=>{e.addRelativeTo(uS(t),fS)}}),hS=t=>typeof t=="string"&&t.indexOf("arn:")===0&&t.split(":").length>=6;function pS(t){return(e,r)=>async n=>{var s,i,o,a;if(t.bucketEndpoint){const c=r.endpointV2;if(c){const l=n.input.Bucket;if(typeof l=="string")try{const u=new URL(l);r.endpointV2={...c,url:u}}catch(u){const f=`@aws-sdk/middleware-sdk-s3: bucketEndpoint=true was set but Bucket=${l} could not be parsed as URL.`;throw((i=(s=r.logger)==null?void 0:s.constructor)==null?void 0:i.name)==="NoOpLogger"?console.warn(f):(a=(o=r.logger)==null?void 0:o.warn)==null||a.call(o,f),u}}}return e(n)}}const gS={name:"bucketEndpointMiddleware",override:!0,relation:"after",toMiddleware:"endpointV2Middleware"};function mS({bucketEndpoint:t}){return e=>async r=>{const{input:{Bucket:n}}=r;if(!t&&typeof n=="string"&&!hS(n)&&n.indexOf("/")>=0){const s=new Error(`Bucket name shouldn't contain '/', received '${n}'`);throw s.name="InvalidBucketName",s}return e({...r})}}const yS={step:"initialize",tags:["VALIDATE_BUCKET_NAME"],name:"validateBucketNameMiddleware",override:!0},bS=t=>({applyToStack:e=>{e.add(mS(t),yS),e.addRelativeTo(pS(t),gS)}}),wS=void 0;function vS(t){return t===void 0?!0:typeof t=="string"&&t.length<=50}function xS(t){const e=zn(t.userAgentAppId??wS);return{...t,customUserAgent:typeof t.customUserAgent=="string"?[[t.customUserAgent]]:t.customUserAgent,userAgentAppId:async()=>{var n,s;const r=await e();if(!vS(r)){const i=((s=(n=t.logger)==null?void 0:n.constructor)==null?void 0:s.name)==="NoOpLogger"||!t.logger?console:t.logger;typeof r!="string"?i==null||i.warn("userAgentAppId must be a string or undefined."):r.length>50&&(i==null||i.warn("The provided userAgentAppId exceeds the maximum length of 50 characters."))}return r}}}class SS{constructor({size:e,params:r}){this.data=new Map,this.parameters=[],this.capacity=e??50,r&&(this.parameters=r)}get(e,r){const n=this.hash(e);if(n===!1)return r();if(!this.data.has(n)){if(this.data.size>this.capacity+10){const s=this.data.keys();let i=0;for(;;){const{value:o,done:a}=s.next();if(this.data.delete(o),a||++i>10)break}}this.data.set(n,r())}return this.data.get(n)}size(){return this.data.size}hash(e){let r="";const{parameters:n}=this;if(n.length===0)return!1;for(const s of n){const i=String(e[s]??"");if(i.includes("|;"))return!1;r+=i+"|;"}return r}}const ES=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),ag=t=>ES.test(t)||t.startsWith("[")&&t.endsWith("]"),AS=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),gu=(t,e=!1)=>{if(!e)return AS.test(t);const r=t.split(".");for(const n of r)if(!gu(n))return!1;return!0},No={},ti="endpoints";function Vr(t){return typeof t!="object"||t==null?t:"ref"in t?`$${Vr(t.ref)}`:"fn"in t?`${t.fn}(${(t.argv||[]).map(Vr).join(", ")})`:JSON.stringify(t,null,2)}class Qt extends Error{constructor(e){super(e),this.name="EndpointError"}}const _S=(t,e)=>t===e,CS=t=>{const e=t.split("."),r=[];for(const n of e){const s=n.indexOf("[");if(s!==-1){if(n.indexOf("]")!==n.length-1)throw new Qt(`Path: '${t}' does not end with ']'`);const i=n.slice(s+1,-1);if(Number.isNaN(parseInt(i)))throw new Qt(`Invalid array index: '${i}' in path: '${t}'`);s!==0&&r.push(n.slice(0,s)),r.push(i)}else r.push(n)}return r},cg=(t,e)=>CS(e).reduce((r,n)=>{if(typeof r!="object")throw new Qt(`Index '${n}' in '${e}' not found in '${JSON.stringify(t)}'`);return Array.isArray(r)?r[parseInt(n)]:r[n]},t),kS=t=>t!=null,RS=t=>!t,hc={[Ys.HTTP]:80,[Ys.HTTPS]:443},TS=t=>{const e=(()=>{try{if(t instanceof URL)return t;if(typeof t=="object"&&"hostname"in t){const{hostname:h,port:g,protocol:y="",path:A="",query:E={}}=t,m=new URL(`${y}//${h}${g?`:${g}`:""}${A}`);return m.search=Object.entries(E).map(([x,T])=>`${x}=${T}`).join("&"),m}return new URL(t)}catch{return null}})();if(!e)return console.error(`Unable to parse ${JSON.stringify(t)} as a whatwg URL.`),null;const r=e.href,{host:n,hostname:s,pathname:i,protocol:o,search:a}=e;if(a)return null;const c=o.slice(0,-1);if(!Object.values(Ys).includes(c))return null;const l=ag(s),u=r.includes(`${n}:${hc[c]}`)||typeof t=="string"&&t.includes(`${n}:${hc[c]}`),f=`${n}${u?`:${hc[c]}`:""}`;return{scheme:c,authority:f,path:i,normalizedPath:i.endsWith("/")?i:`${i}/`,isIp:l}},PS=(t,e)=>t===e,IS=(t,e,r,n)=>e>=r||t.length<r?null:n?t.substring(t.length-r,t.length-e):t.substring(e,r),BS=t=>encodeURIComponent(t).replace(/[!*'()]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`),MS={booleanEquals:_S,getAttr:cg,isSet:kS,isValidHostLabel:gu,not:RS,parseURL:TS,stringEquals:PS,substring:IS,uriEncode:BS},lg=(t,e)=>{const r=[],n={...e.endpointParams,...e.referenceRecord};let s=0;for(;s<t.length;){const i=t.indexOf("{",s);if(i===-1){r.push(t.slice(s));break}r.push(t.slice(s,i));const o=t.indexOf("}",i);if(o===-1){r.push(t.slice(i));break}t[i+1]==="{"&&t[o+1]==="}"&&(r.push(t.slice(i+1,o)),s=o+2);const a=t.substring(i+1,o);if(a.includes("#")){const[c,l]=a.split("#");r.push(cg(n[c],l))}else r.push(n[a]);s=o+1}return r.join("")},NS=({ref:t},e)=>({...e.endpointParams,...e.referenceRecord})[t],Ba=(t,e,r)=>{if(typeof t=="string")return lg(t,r);if(t.fn)return ug(t,r);if(t.ref)return NS(t,r);throw new Qt(`'${e}': ${String(t)} is not a string, function or reference.`)},ug=({fn:t,argv:e},r)=>{const n=e.map(i=>["boolean","number"].includes(typeof i)?i:Ba(i,"arg",r)),s=t.split(".");return s[0]in No&&s[1]!=null?No[s[0]][s[1]](...n):MS[t](...n)},DS=({assign:t,...e},r)=>{var s,i;if(t&&t in r.referenceRecord)throw new Qt(`'${t}' is already defined in Reference Record.`);const n=ug(e,r);return(i=(s=r.logger)==null?void 0:s.debug)==null||i.call(s,`${ti} evaluateCondition: ${Vr(e)} = ${Vr(n)}`),{result:n===""?!0:!!n,...t!=null&&{toAssign:{name:t,value:n}}}},mu=(t=[],e)=>{var n,s;const r={};for(const i of t){const{result:o,toAssign:a}=DS(i,{...e,referenceRecord:{...e.referenceRecord,...r}});if(!o)return{result:o};a&&(r[a.name]=a.value,(s=(n=e.logger)==null?void 0:n.debug)==null||s.call(n,`${ti} assign: ${a.name} := ${Vr(a.value)}`))}return{result:!0,referenceRecord:r}},FS=(t,e)=>Object.entries(t).reduce((r,[n,s])=>({...r,[n]:s.map(i=>{const o=Ba(i,"Header value entry",e);if(typeof o!="string")throw new Qt(`Header '${n}' value '${o}' is not a string`);return o})}),{}),dg=(t,e)=>{if(Array.isArray(t))return t.map(r=>dg(r,e));switch(typeof t){case"string":return lg(t,e);case"object":if(t===null)throw new Qt(`Unexpected endpoint property: ${t}`);return fg(t,e);case"boolean":return t;default:throw new Qt(`Unexpected endpoint property type: ${typeof t}`)}},fg=(t,e)=>Object.entries(t).reduce((r,[n,s])=>({...r,[n]:dg(s,e)}),{}),OS=(t,e)=>{const r=Ba(t,"Endpoint URL",e);if(typeof r=="string")try{return new URL(r)}catch(n){throw console.error(`Failed to construct URL with ${r}`,n),n}throw new Qt(`Endpoint URL must be a string, got ${typeof r}`)},LS=(t,e)=>{var u,f;const{conditions:r,endpoint:n}=t,{result:s,referenceRecord:i}=mu(r,e);if(!s)return;const o={...e,referenceRecord:{...e.referenceRecord,...i}},{url:a,properties:c,headers:l}=n;return(f=(u=e.logger)==null?void 0:u.debug)==null||f.call(u,`${ti} Resolving endpoint from template: ${Vr(n)}`),{...l!=null&&{headers:FS(l,o)},...c!=null&&{properties:fg(c,o)},url:OS(a,o)}},US=(t,e)=>{const{conditions:r,error:n}=t,{result:s,referenceRecord:i}=mu(r,e);if(s)throw new Qt(Ba(n,"Error",{...e,referenceRecord:{...e.referenceRecord,...i}}))},zS=(t,e)=>{const{conditions:r,rules:n}=t,{result:s,referenceRecord:i}=mu(r,e);if(s)return hg(n,{...e,referenceRecord:{...e.referenceRecord,...i}})},hg=(t,e)=>{for(const r of t)if(r.type==="endpoint"){const n=LS(r,e);if(n)return n}else if(r.type==="error")US(r,e);else if(r.type==="tree"){const n=zS(r,e);if(n)return n}else throw new Qt(`Unknown endpoint rule: ${r}`);throw new Qt("Rules evaluation failed")},$S=(t,e)=>{var l,u,f,h;const{endpointParams:r,logger:n}=e,{parameters:s,rules:i}=t;(u=(l=e.logger)==null?void 0:l.debug)==null||u.call(l,`${ti} Initial EndpointParams: ${Vr(r)}`);const o=Object.entries(s).filter(([,g])=>g.default!=null).map(([g,y])=>[g,y.default]);if(o.length>0)for(const[g,y]of o)r[g]=r[g]??y;const a=Object.entries(s).filter(([,g])=>g.required).map(([g])=>g);for(const g of a)if(r[g]==null)throw new Qt(`Missing required parameter: '${g}'`);const c=hg(i,{endpointParams:r,logger:n,referenceRecord:{}});return(h=(f=e.logger)==null?void 0:f.debug)==null||h.call(f,`${ti} Resolved endpoint: ${Vr(c)}`),c},pg=(t,e=!1)=>{if(e){for(const r of t.split("."))if(!pg(r))return!1;return!0}return!(!gu(t)||t.length<3||t.length>63||t!==t.toLowerCase()||ag(t))},Jd=":",qS="/",HS=t=>{const e=t.split(Jd);if(e.length<6)return null;const[r,n,s,i,o,...a]=e;if(r!=="arn"||n===""||s===""||a.join(Jd)==="")return null;const c=a.map(l=>l.split(qS)).flat();return{partition:n,service:s,region:i,accountId:o,resourceId:c}},jS=[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-east-1",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af|il|mx)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"ap-southeast-5":{description:"Asia Pacific (Malaysia)"},"ap-southeast-7":{description:"Asia Pacific (Thailand)"},"aws-global":{description:"AWS Standard global region"},"ca-central-1":{description:"Canada (Central)"},"ca-west-1":{description:"Canada West (Calgary)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"il-central-1":{description:"Israel (Tel Aviv)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"mx-central-1":{description:"Mexico (Central)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",implicitGlobalRegion:"cn-northwest-1",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"AWS China global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-gov-west-1",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"AWS GovCloud (US) global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"c2s.ic.gov",implicitGlobalRegion:"us-iso-east-1",name:"aws-iso",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"AWS ISO (US) global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"sc2s.sgov.gov",implicitGlobalRegion:"us-isob-east-1",name:"aws-iso-b",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"AWS ISOB (US) global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"}}},{id:"aws-iso-e",outputs:{dnsSuffix:"cloud.adc-e.uk",dualStackDnsSuffix:"cloud.adc-e.uk",implicitGlobalRegion:"eu-isoe-west-1",name:"aws-iso-e",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^eu\\-isoe\\-\\w+\\-\\d+$",regions:{"eu-isoe-west-1":{description:"EU ISOE West"}}},{id:"aws-iso-f",outputs:{dnsSuffix:"csp.hci.ic.gov",dualStackDnsSuffix:"csp.hci.ic.gov",implicitGlobalRegion:"us-isof-south-1",name:"aws-iso-f",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isof\\-\\w+\\-\\d+$",regions:{}}],WS="1.1",KS={partitions:jS,version:WS};let VS=KS;const GS=t=>{const{partitions:e}=VS;for(const n of e){const{regions:s,outputs:i}=n;for(const[o,a]of Object.entries(s))if(o===t)return{...i,...a}}for(const n of e){const{regionRegex:s,outputs:i}=n;if(new RegExp(s).test(t))return{...i}}const r=e.find(n=>n.id==="aws");if(!r)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...r.outputs}},gg={isVirtualHostableS3Bucket:pg,parseArn:HS,partition:GS};No.aws=gg;const XS=/\d{12}\.ddb/;async function ZS(t,e,r){var i,o,a,c,l,u,f;const n=r.request;if(((i=n==null?void 0:n.headers)==null?void 0:i["smithy-protocol"])==="rpc-v2-cbor"&&gt(t,"PROTOCOL_RPC_V2_CBOR","M"),typeof e.retryStrategy=="function"){const h=await e.retryStrategy();typeof h.acquireInitialRetryToken=="function"?(a=(o=h.constructor)==null?void 0:o.name)!=null&&a.includes("Adaptive")?gt(t,"RETRY_MODE_ADAPTIVE","F"):gt(t,"RETRY_MODE_STANDARD","E"):gt(t,"RETRY_MODE_LEGACY","D")}if(typeof e.accountIdEndpointMode=="function"){const h=t.endpointV2;switch(String((c=h==null?void 0:h.url)==null?void 0:c.hostname).match(XS)&&gt(t,"ACCOUNT_ID_ENDPOINT","O"),await((l=e.accountIdEndpointMode)==null?void 0:l.call(e))){case"disabled":gt(t,"ACCOUNT_ID_MODE_DISABLED","Q");break;case"preferred":gt(t,"ACCOUNT_ID_MODE_PREFERRED","P");break;case"required":gt(t,"ACCOUNT_ID_MODE_REQUIRED","R");break}}const s=(f=(u=t.__smithy_context)==null?void 0:u.selectedHttpAuthScheme)==null?void 0:f.identity;if(s!=null&&s.$source){const h=s;h.accountId&&gt(t,"RESOLVED_ACCOUNT_ID","T");for(const[g,y]of Object.entries(h.$source??{}))gt(t,g,y)}}const ef="user-agent",pc="x-amz-user-agent",tf=" ",gc="/",YS=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,QS=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w\#]/g,rf="-",JS=1024;function eE(t){let e="";for(const r in t){const n=t[r];if(e.length+n.length+1<=JS){e.length?e+=","+n:e+=n;continue}break}return e}const tE=t=>(e,r)=>async n=>{var g,y,A,E;const{request:s}=n;if(!bt.isInstance(s))return e(n);const{headers:i}=s,o=((g=r==null?void 0:r.userAgent)==null?void 0:g.map(oo))||[],a=(await t.defaultUserAgentProvider()).map(oo);await ZS(r,t,n);const c=r;a.push(`m/${eE(Object.assign({},(y=r.__smithy_context)==null?void 0:y.features,(A=c.__aws_sdk_context)==null?void 0:A.features))}`);const l=((E=t==null?void 0:t.customUserAgent)==null?void 0:E.map(oo))||[],u=await t.userAgentAppId();u&&a.push(oo([`app/${u}`]));const f=[].concat([...a,...o,...l]).join(tf),h=[...a.filter(m=>m.startsWith("aws-sdk-")),...l].join(tf);return t.runtime!=="browser"?(h&&(i[pc]=i[pc]?`${i[ef]} ${h}`:h),i[ef]=f):i[pc]=f,e({...n,request:s})},oo=t=>{var o;const e=t[0].split(gc).map(a=>a.replace(YS,rf)).join(gc),r=(o=t[1])==null?void 0:o.replace(QS,rf),n=e.indexOf(gc),s=e.substring(0,n);let i=e.substring(n+1);return s==="api"&&(i=i.toLowerCase()),[s,i,r].filter(a=>a&&a.length>0).reduce((a,c,l)=>{switch(l){case 0:return c;case 1:return`${a}/${c}`;default:return`${a}#${c}`}},"")},rE={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},nE=t=>({applyToStack:e=>{e.add(tE(t),rE)}}),sE=!1,iE=!1,mg=t=>typeof t=="string"&&(t.startsWith("fips-")||t.endsWith("-fips")),nf=t=>mg(t)?["fips-aws-global","aws-fips"].includes(t)?"us-east-1":t.replace(/fips-(dkr-|prod-)?|-fips/,""):t,oE=t=>{const{region:e,useFipsEndpoint:r}=t;if(!e)throw new Error("Region is missing");return{...t,region:async()=>{if(typeof e=="string")return nf(e);const n=await e();return nf(n)},useFipsEndpoint:async()=>{const n=typeof e=="string"?e:await e();return mg(n)?!0:typeof r!="function"?Promise.resolve(!!r):r()}}},aE=t=>({...t,eventStreamMarshaller:t.eventStreamSerdeProvider(t)}),sf="content-length";function cE(t){return e=>async r=>{const n=r.request;if(bt.isInstance(n)){const{body:s,headers:i}=n;if(s&&Object.keys(i).map(o=>o.toLowerCase()).indexOf(sf)===-1)try{const o=t(s);n.headers={...n.headers,[sf]:String(o)}}catch{}}return e({...r,request:n})}}const lE={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},uE=t=>({applyToStack:e=>{e.add(cE(t.bodyLengthChecker),lE)}}),dE=async t=>{const e=(t==null?void 0:t.Bucket)||"";if(typeof t.Bucket=="string"&&(t.Bucket=e.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),mE(e)){if(t.ForcePathStyle===!0)throw new Error("Path-style addressing cannot be used with ARN buckets")}else(!gE(e)||e.indexOf(".")!==-1&&!String(t.Endpoint).startsWith("http:")||e.toLowerCase()!==e||e.length<3)&&(t.ForcePathStyle=!0);return t.DisableMultiRegionAccessPoints&&(t.disableMultiRegionAccessPoints=!0,t.DisableMRAP=!0),t},fE=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,hE=/(\d+\.){3}\d+/,pE=/\.\./,gE=t=>fE.test(t)&&!hE.test(t)&&!pE.test(t),mE=t=>{const[e,r,n,,,s]=t.split(":"),i=e==="arn"&&t.split(":").length>=6,o=!!(i&&r&&n&&s);if(i&&!o)throw new Error(`Invalid ARN: ${t} was an invalid ARN.`);return o},yE=(t,e,r)=>{const n=async()=>{const s=r[t]??r[e];return typeof s=="function"?s():s};return t==="credentialScope"||e==="CredentialScope"?async()=>{const s=typeof r.credentials=="function"?await r.credentials():r.credentials;return(s==null?void 0:s.credentialScope)??(s==null?void 0:s.CredentialScope)}:t==="accountId"||e==="AccountId"?async()=>{const s=typeof r.credentials=="function"?await r.credentials():r.credentials;return(s==null?void 0:s.accountId)??(s==null?void 0:s.AccountId)}:t==="endpoint"||e==="endpoint"?async()=>{const s=await n();if(s&&typeof s=="object"){if("url"in s)return s.url.href;if("hostname"in s){const{protocol:i,hostname:o,port:a,path:c}=s;return`${i}//${o}${a?":"+a:""}${c}`}}return s}:n},yg=async t=>{};function bE(t){const e={};if(t=t.replace(/^\?/,""),t)for(const r of t.split("&")){let[n,s=null]=r.split("=");n=decodeURIComponent(n),s&&(s=decodeURIComponent(s)),n in e?Array.isArray(e[n])?e[n].push(s):e[n]=[e[n],s]:e[n]=s}return e}const Do=t=>{if(typeof t=="string")return Do(new URL(t));const{hostname:e,pathname:r,port:n,protocol:s,search:i}=t;let o;return i&&(o=bE(i)),{hostname:e,port:n?parseInt(n):void 0,protocol:s,path:r,query:o}},yu=t=>typeof t=="object"?"url"in t?Do(t.url):t:Do(t),bg=async(t,e,r,n)=>{if(!r.endpoint){let o;r.serviceConfiguredEndpoint?o=await r.serviceConfiguredEndpoint():o=await yg(r.serviceId),o&&(r.endpoint=()=>Promise.resolve(yu(o)))}const s=await wg(t,e,r);if(typeof r.endpointProvider!="function")throw new Error("config.endpointProvider is not set.");return r.endpointProvider(s,n)},wg=async(t,e,r)=>{var i;const n={},s=((i=e==null?void 0:e.getEndpointParameterInstructions)==null?void 0:i.call(e))||{};for(const[o,a]of Object.entries(s))switch(a.type){case"staticContextParams":n[o]=a.value;break;case"contextParams":n[o]=t[a.name];break;case"clientContextParams":case"builtInParams":n[o]=await yE(a.name,o,r)();break;case"operationContextParams":n[o]=a.get(t);break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(a))}return Object.keys(s).length===0&&Object.assign(n,r),String(r.serviceId).toLowerCase()==="s3"&&await dE(n),n},wE=({config:t,instructions:e})=>(r,n)=>async s=>{var a,c,l;t.endpoint&&Iw(n,"ENDPOINT_OVERRIDE","N");const i=await bg(s.input,{getEndpointParameterInstructions(){return e}},{...t},n);n.endpointV2=i,n.authSchemes=(a=i.properties)==null?void 0:a.authSchemes;const o=(c=n.authSchemes)==null?void 0:c[0];if(o){n.signing_region=o.signingRegion,n.signing_service=o.signingName;const u=bs(n),f=(l=u==null?void 0:u.selectedHttpAuthScheme)==null?void 0:l.httpAuthOption;f&&(f.signingProperties=Object.assign(f.signingProperties||{},{signing_region:o.signingRegion,signingRegion:o.signingRegion,signing_service:o.signingName,signingName:o.signingName,signingRegionSet:o.signingRegionSet},o.properties))}return r({...s})},vE={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:tu.name},An=(t,e)=>({applyToStack:r=>{r.addRelativeTo(wE({config:t,instructions:e}),vE)}}),xE=t=>{const e=t.tls??!0,{endpoint:r}=t,n=r!=null?async()=>yu(await br(r)()):void 0,i={...t,endpoint:n,tls:e,isCustomEndpoint:!!r,useDualstackEndpoint:br(t.useDualstackEndpoint??!1),useFipsEndpoint:br(t.useFipsEndpoint??!1)};let o;return i.serviceConfiguredEndpoint=async()=>(t.serviceId&&!o&&(o=yg(t.serviceId)),o),i};var gs;(function(t){t.STANDARD="standard",t.ADAPTIVE="adaptive"})(gs||(gs={}));const Fo=3,SE=gs.STANDARD,EE=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],AE=["TimeoutError","RequestTimeout","RequestTimeoutException"],_E=[500,502,503,504],CE=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"],kE=t=>{var e;return(e=t.$metadata)==null?void 0:e.clockSkewCorrected},vg=t=>{var e,r;return((e=t.$metadata)==null?void 0:e.httpStatusCode)===429||EE.includes(t.name)||((r=t.$retryable)==null?void 0:r.throttling)==!0},bu=(t,e=0)=>{var r;return kE(t)||AE.includes(t.name)||CE.includes((t==null?void 0:t.code)||"")||_E.includes(((r=t.$metadata)==null?void 0:r.httpStatusCode)||0)||t.cause!==void 0&&e<=10&&bu(t.cause,e+1)},RE=t=>{var e;if(((e=t.$metadata)==null?void 0:e.httpStatusCode)!==void 0){const r=t.$metadata.httpStatusCode;return 500<=r&&r<=599&&!bu(t)}return!1};class Ma{constructor(e){this.currentCapacity=0,this.enabled=!1,this.lastMaxRate=0,this.measuredTxRate=0,this.requestCount=0,this.lastTimestamp=0,this.timeWindow=0,this.beta=(e==null?void 0:e.beta)??.7,this.minCapacity=(e==null?void 0:e.minCapacity)??1,this.minFillRate=(e==null?void 0:e.minFillRate)??.5,this.scaleConstant=(e==null?void 0:e.scaleConstant)??.4,this.smooth=(e==null?void 0:e.smooth)??.8;const r=this.getCurrentTimeInSeconds();this.lastThrottleTime=r,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(e){if(this.enabled){if(this.refillTokenBucket(),e>this.currentCapacity){const r=(e-this.currentCapacity)/this.fillRate*1e3;await new Promise(n=>Ma.setTimeoutFn(n,r))}this.currentCapacity=this.currentCapacity-e}}refillTokenBucket(){const e=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=e;return}const r=(e-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+r),this.lastTimestamp=e}updateClientSendingRate(e){let r;if(this.updateMeasuredRate(),vg(e)){const s=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=s,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),r=this.cubicThrottle(s),this.enableTokenBucket()}else this.calculateTimeWindow(),r=this.cubicSuccess(this.getCurrentTimeInSeconds());const n=Math.min(r,2*this.measuredTxRate);this.updateTokenBucketRate(n)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(e){return this.getPrecise(e*this.beta)}cubicSuccess(e){return this.getPrecise(this.scaleConstant*Math.pow(e-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(e){this.refillTokenBucket(),this.fillRate=Math.max(e,this.minFillRate),this.maxCapacity=Math.max(e,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){const e=this.getCurrentTimeInSeconds(),r=Math.floor(e*2)/2;if(this.requestCount++,r>this.lastTxRateBucket){const n=this.requestCount/(r-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(n*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=r}}getPrecise(e){return parseFloat(e.toFixed(8))}}Ma.setTimeoutFn=setTimeout;const Tl=100,xg=20*1e3,TE=500,of=500,PE=5,IE=10,BE=1,ME="amz-sdk-invocation-id",NE="amz-sdk-request",DE=()=>{let t=Tl;return{computeNextBackoffDelay:n=>Math.floor(Math.min(xg,Math.random()*2**n*t)),setDelayBase:n=>{t=n}}},af=({retryDelay:t,retryCount:e,retryCost:r})=>({getRetryCount:()=>e,getRetryDelay:()=>Math.min(xg,t),getRetryCost:()=>r});class Sg{constructor(e){this.maxAttempts=e,this.mode=gs.STANDARD,this.capacity=of,this.retryBackoffStrategy=DE(),this.maxAttemptsProvider=typeof e=="function"?e:async()=>e}async acquireInitialRetryToken(e){return af({retryDelay:Tl,retryCount:0})}async refreshRetryTokenForRetry(e,r){const n=await this.getMaxAttempts();if(this.shouldRetry(e,r,n)){const s=r.errorType;this.retryBackoffStrategy.setDelayBase(s==="THROTTLING"?TE:Tl);const i=this.retryBackoffStrategy.computeNextBackoffDelay(e.getRetryCount()),o=r.retryAfterHint?Math.max(r.retryAfterHint.getTime()-Date.now()||0,i):i,a=this.getCapacityCost(s);return this.capacity-=a,af({retryDelay:o,retryCount:e.getRetryCount()+1,retryCost:a})}throw new Error("No retry token available")}recordSuccess(e){this.capacity=Math.max(of,this.capacity+(e.getRetryCost()??BE))}getCapacity(){return this.capacity}async getMaxAttempts(){try{return await this.maxAttemptsProvider()}catch{return console.warn(`Max attempts provider could not resolve. Using default of ${Fo}`),Fo}}shouldRetry(e,r,n){return e.getRetryCount()+1<n&&this.capacity>=this.getCapacityCost(r.errorType)&&this.isRetryableError(r.errorType)}getCapacityCost(e){return e==="TRANSIENT"?IE:PE}isRetryableError(e){return e==="THROTTLING"||e==="TRANSIENT"}}class FE{constructor(e,r){this.maxAttemptsProvider=e,this.mode=gs.ADAPTIVE;const{rateLimiter:n}=r??{};this.rateLimiter=n??new Ma,this.standardRetryStrategy=new Sg(e)}async acquireInitialRetryToken(e){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(e)}async refreshRetryTokenForRetry(e,r){return this.rateLimiter.updateClientSendingRate(r),this.standardRetryStrategy.refreshRetryTokenForRetry(e,r)}recordSuccess(e){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(e)}}let ao;const OE=new Uint8Array(16);function LE(){if(!ao&&(ao=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!ao))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ao(OE)}const kt=[];for(let t=0;t<256;++t)kt.push((t+256).toString(16).slice(1));function UE(t,e=0){return kt[t[e+0]]+kt[t[e+1]]+kt[t[e+2]]+kt[t[e+3]]+"-"+kt[t[e+4]]+kt[t[e+5]]+"-"+kt[t[e+6]]+kt[t[e+7]]+"-"+kt[t[e+8]]+kt[t[e+9]]+"-"+kt[t[e+10]]+kt[t[e+11]]+kt[t[e+12]]+kt[t[e+13]]+kt[t[e+14]]+kt[t[e+15]]}const zE=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),cf={randomUUID:zE};function wu(t,e,r){if(cf.randomUUID&&!t)return cf.randomUUID();t=t||{};const n=t.random||(t.rng||LE)();return n[6]=n[6]&15|64,n[8]=n[8]&63|128,UE(n)}const $E=t=>t instanceof Error?t:t instanceof Object?Object.assign(new Error,t):typeof t=="string"?new Error(t):new Error(`AWS SDK error wrapper for ${t}`),qE=t=>{const{retryStrategy:e}=t,r=br(t.maxAttempts??Fo);return{...t,maxAttempts:r,retryStrategy:async()=>e||(await br(t.retryMode)()===gs.ADAPTIVE?new FE(r):new Sg(r))}},HE=t=>(t==null?void 0:t.body)instanceof ReadableStream,jE=t=>(e,r)=>async n=>{var o;let s=await t.retryStrategy();const i=await t.maxAttempts();if(WE(s)){s=s;let a=await s.acquireInitialRetryToken(r.partition_id),c=new Error,l=0,u=0;const{request:f}=n,h=bt.isInstance(f);for(h&&(f.headers[ME]=wu());;)try{h&&(f.headers[NE]=`attempt=${l+1}; max=${i}`);const{response:g,output:y}=await e(n);return s.recordSuccess(a),y.$metadata.attempts=l+1,y.$metadata.totalRetryDelay=u,{response:g,output:y}}catch(g){const y=KE(g);if(c=$E(g),h&&HE(f))throw(o=r.logger instanceof cu?console:r.logger)==null||o.warn("An error was encountered in a non-retryable streaming request."),c;try{a=await s.refreshRetryTokenForRetry(a,y)}catch{throw c.$metadata||(c.$metadata={}),c.$metadata.attempts=l+1,c.$metadata.totalRetryDelay=u,c}l=a.getRetryCount();const A=a.getRetryDelay();u+=A,await new Promise(E=>setTimeout(E,A))}}else return s=s,s!=null&&s.mode&&(r.userAgent=[...r.userAgent||[],["cfg/retry-mode",s.mode]]),s.retry(e,n)},WE=t=>typeof t.acquireInitialRetryToken<"u"&&typeof t.refreshRetryTokenForRetry<"u"&&typeof t.recordSuccess<"u",KE=t=>{const e={error:t,errorType:VE(t)},r=ZE(t.$response);return r&&(e.retryAfterHint=r),e},VE=t=>vg(t)?"THROTTLING":bu(t)?"TRANSIENT":RE(t)?"SERVER_ERROR":"CLIENT_ERROR",GE={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},XE=t=>({applyToStack:e=>{e.add(jE(t),GE)}}),ZE=t=>{if(!Qs.isInstance(t))return;const e=Object.keys(t.headers).find(i=>i.toLowerCase()==="retry-after");if(!e)return;const r=t.headers[e],n=Number(r);return Number.isNaN(n)?new Date(r):new Date(n*1e3)},YE={CrtSignerV4:null};class QE{constructor(e){z(this,"sigv4aSigner");z(this,"sigv4Signer");z(this,"signerOptions");this.sigv4Signer=new Qx(e),this.signerOptions=e}async sign(e,r={}){if(r.signingRegion==="*"){if(this.signerOptions.runtime!=="node")throw new Error("This request requires signing with SigV4Asymmetric algorithm. It's only available in Node.js");return this.getSigv4aSigner().sign(e,r)}return this.sigv4Signer.sign(e,r)}async signWithCredentials(e,r,n={}){if(n.signingRegion==="*"){if(this.signerOptions.runtime!=="node")throw new Error("This request requires signing with SigV4Asymmetric algorithm. It's only available in Node.js");return this.getSigv4aSigner().signWithCredentials(e,r,n)}return this.sigv4Signer.signWithCredentials(e,r,n)}async presign(e,r={}){if(r.signingRegion==="*"){if(this.signerOptions.runtime!=="node")throw new Error("This request requires signing with SigV4Asymmetric algorithm. It's only available in Node.js");return this.getSigv4aSigner().presign(e,r)}return this.sigv4Signer.presign(e,r)}async presignWithCredentials(e,r,n={}){if(n.signingRegion==="*")throw new Error("Method presignWithCredentials is not supported for [signingRegion=*].");return this.sigv4Signer.presignWithCredentials(e,r,n)}getSigv4aSigner(){if(!this.sigv4aSigner){let e=null;try{if(e=YE.CrtSignerV4,typeof e!="function")throw new Error}catch(r){throw r.message=`${r.message}
Please check whether you have installed the "@aws-sdk/signature-v4-crt" package explicitly. 
You must also register the package by calling [require("@aws-sdk/signature-v4-crt");] or an ESM equivalent such as [import "@aws-sdk/signature-v4-crt";]. 
For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt`,r}this.sigv4aSigner=new e({...this.signerOptions,signingAlgorithm:1})}return this.sigv4aSigner}}const vu="required",P="type",M="conditions",j="fn",W="argv",ve="ref",et="assign",ae="url",ce="properties",Eg="backend",hr="authSchemes",Jt="disableDoubleEncoding",er="signingName",xr="signingRegion",le="headers",xu="signingRegionSet",JE=6,e1=!1,lr=!0,ir="isSet",Ct="booleanEquals",fe="error",Oo="aws.partition",Je="stringEquals",dt="getAttr",Dt="name",Nt="substring",lf="bucketSuffix",Ag="parseURL",uf="{url#scheme}://{url#authority}/{uri_encoded_bucket}{url#path}",re="endpoint",X="tree",_g="aws.isVirtualHostableS3Bucket",So="{url#scheme}://{Bucket}.{url#authority}{url#path}",wr="not",Eo="{url#scheme}://{url#authority}{url#path}",Cg="hardwareType",kg="regionPrefix",df="bucketAliasSuffix",Pl="outpostId",_n="isValidHostLabel",Su="sigv4a",ri="s3-outposts",ms="s3",Rg="{url#scheme}://{url#authority}{url#normalizedPath}{Bucket}",Tg="https://{Bucket}.s3-accelerate.{partitionResult#dnsSuffix}",ff="https://{Bucket}.s3.{partitionResult#dnsSuffix}",Pg="aws.parseArn",Ig="bucketArn",Bg="arnType",Lo="",Eu="s3-object-lambda",Mg="accesspoint",Au="accessPointName",hf="{url#scheme}://{accessPointName}-{bucketArn#accountId}.{url#authority}{url#path}",pf="mrapPartition",gf="outpostType",mf="arnPrefix",Ng="{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",yf="https://s3.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",bf="https://s3.{partitionResult#dnsSuffix}",Mn={[vu]:!1,[P]:"String"},Nn={[vu]:!0,default:!1,[P]:"Boolean"},Ps={[vu]:!1,[P]:"Boolean"},ur={[j]:Ct,[W]:[{[ve]:"Accelerate"},!0]},st={[j]:Ct,[W]:[{[ve]:"UseFIPS"},!0]},nt={[j]:Ct,[W]:[{[ve]:"UseDualStack"},!0]},pt={[j]:ir,[W]:[{[ve]:"Endpoint"}]},Dg={[j]:Oo,[W]:[{[ve]:"Region"}],[et]:"partitionResult"},wf={[j]:Je,[W]:[{[j]:dt,[W]:[{[ve]:"partitionResult"},Dt]},"aws-cn"]},Uo={[j]:ir,[W]:[{[ve]:"Bucket"}]},ft={[ve]:"Bucket"},Lt={[j]:Ag,[W]:[{[ve]:"Endpoint"}],[et]:"url"},Ao={[j]:Ct,[W]:[{[j]:dt,[W]:[{[ve]:"url"},"isIp"]},!0]},Fg={[ve]:"url"},Og={[j]:"uriEncode",[W]:[ft],[et]:"uri_encoded_bucket"},Sr={[Eg]:"S3Express",[hr]:[{[Jt]:!0,[Dt]:"sigv4",[er]:"s3express",[xr]:"{Region}"}]},Se={},Lg={[j]:_g,[W]:[ft,!1]},mc={[fe]:"S3Express bucket name is not a valid virtual hostable name.",[P]:fe},zo={[Eg]:"S3Express",[hr]:[{[Jt]:!0,[Dt]:"sigv4-s3express",[er]:"s3express",[xr]:"{Region}"}]},vf={[j]:ir,[W]:[{[ve]:"UseS3ExpressControlEndpoint"}]},xf={[j]:Ct,[W]:[{[ve]:"UseS3ExpressControlEndpoint"},!0]},Re={[j]:wr,[W]:[pt]},Sf={[fe]:"Unrecognized S3Express bucket name format.",[P]:fe},Ef={[j]:wr,[W]:[Uo]},Af={[ve]:Cg},_f={[M]:[Re],[fe]:"Expected a endpoint to be specified but no endpoint was found",[P]:fe},co={[hr]:[{[Jt]:!0,[Dt]:Su,[er]:ri,[xu]:["*"]},{[Jt]:!0,[Dt]:"sigv4",[er]:ri,[xr]:"{Region}"}]},yc={[j]:Ct,[W]:[{[ve]:"ForcePathStyle"},!1]},t1={[ve]:"ForcePathStyle"},ht={[j]:Ct,[W]:[{[ve]:"Accelerate"},!1]},vt={[j]:Je,[W]:[{[ve]:"Region"},"aws-global"]},xt={[hr]:[{[Jt]:!0,[Dt]:"sigv4",[er]:ms,[xr]:"us-east-1"}]},ze={[j]:wr,[W]:[vt]},St={[j]:Ct,[W]:[{[ve]:"UseGlobalEndpoint"},!0]},Cf={[ae]:"https://{Bucket}.s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}",[ce]:{[hr]:[{[Jt]:!0,[Dt]:"sigv4",[er]:ms,[xr]:"{Region}"}]},[le]:{}},yt={[hr]:[{[Jt]:!0,[Dt]:"sigv4",[er]:ms,[xr]:"{Region}"}]},Et={[j]:Ct,[W]:[{[ve]:"UseGlobalEndpoint"},!1]},Fe={[j]:Ct,[W]:[{[ve]:"UseDualStack"},!1]},kf={[ae]:"https://{Bucket}.s3-fips.{Region}.{partitionResult#dnsSuffix}",[ce]:yt,[le]:{}},Be={[j]:Ct,[W]:[{[ve]:"UseFIPS"},!1]},Rf={[ae]:"https://{Bucket}.s3-accelerate.dualstack.{partitionResult#dnsSuffix}",[ce]:yt,[le]:{}},Tf={[ae]:"https://{Bucket}.s3.dualstack.{Region}.{partitionResult#dnsSuffix}",[ce]:yt,[le]:{}},bc={[j]:Ct,[W]:[{[j]:dt,[W]:[Fg,"isIp"]},!1]},wc={[ae]:Rg,[ce]:yt,[le]:{}},Il={[ae]:So,[ce]:yt,[le]:{}},Pf={[re]:Il,[P]:re},vc={[ae]:Tg,[ce]:yt,[le]:{}},If={[ae]:"https://{Bucket}.s3.{Region}.{partitionResult#dnsSuffix}",[ce]:yt,[le]:{}},lo={[fe]:"Invalid region: region was not a valid DNS name.",[P]:fe},Vt={[ve]:Ig},Ug={[ve]:Bg},xc={[j]:dt,[W]:[Vt,"service"]},_u={[ve]:Au},Bf={[M]:[nt],[fe]:"S3 Object Lambda does not support Dual-stack",[P]:fe},Mf={[M]:[ur],[fe]:"S3 Object Lambda does not support S3 Accelerate",[P]:fe},Nf={[M]:[{[j]:ir,[W]:[{[ve]:"DisableAccessPoints"}]},{[j]:Ct,[W]:[{[ve]:"DisableAccessPoints"},!0]}],[fe]:"Access points are not supported for this operation",[P]:fe},Sc={[M]:[{[j]:ir,[W]:[{[ve]:"UseArnRegion"}]},{[j]:Ct,[W]:[{[ve]:"UseArnRegion"},!1]},{[j]:wr,[W]:[{[j]:Je,[W]:[{[j]:dt,[W]:[Vt,"region"]},"{Region}"]}]}],[fe]:"Invalid configuration: region from ARN `{bucketArn#region}` does not match client region `{Region}` and UseArnRegion is `false`",[P]:fe},zg={[j]:dt,[W]:[{[ve]:"bucketPartition"},Dt]},$g={[j]:dt,[W]:[Vt,"accountId"]},Ec={[hr]:[{[Jt]:!0,[Dt]:"sigv4",[er]:Eu,[xr]:"{bucketArn#region}"}]},Df={[fe]:"Invalid ARN: The access point name may only contain a-z, A-Z, 0-9 and `-`. Found: `{accessPointName}`",[P]:fe},Ac={[fe]:"Invalid ARN: The account id may only contain a-z, A-Z, 0-9 and `-`. Found: `{bucketArn#accountId}`",[P]:fe},_c={[fe]:"Invalid region in ARN: `{bucketArn#region}` (invalid DNS name)",[P]:fe},Cc={[fe]:"Client was configured for partition `{partitionResult#name}` but ARN (`{Bucket}`) has `{bucketPartition#name}`",[P]:fe},Ff={[fe]:"Invalid ARN: The ARN may only contain a single resource component after `accesspoint`.",[P]:fe},Of={[fe]:"Invalid ARN: Expected a resource of the format `accesspoint:<accesspoint name>` but no name was provided",[P]:fe},Is={[hr]:[{[Jt]:!0,[Dt]:"sigv4",[er]:ms,[xr]:"{bucketArn#region}"}]},Lf={[hr]:[{[Jt]:!0,[Dt]:Su,[er]:ri,[xu]:["*"]},{[Jt]:!0,[Dt]:"sigv4",[er]:ri,[xr]:"{bucketArn#region}"}]},Uf={[j]:Pg,[W]:[ft]},zf={[ae]:"https://s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[ce]:yt,[le]:{}},$f={[ae]:"https://s3-fips.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[ce]:yt,[le]:{}},qf={[ae]:"https://s3.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[ce]:yt,[le]:{}},kc={[ae]:Ng,[ce]:yt,[le]:{}},Hf={[ae]:"https://s3.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[ce]:yt,[le]:{}},jf={[ve]:"UseObjectLambdaEndpoint"},Rc={[hr]:[{[Jt]:!0,[Dt]:"sigv4",[er]:Eu,[xr]:"{Region}"}]},Wf={[ae]:"https://s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}",[ce]:yt,[le]:{}},Kf={[ae]:"https://s3-fips.{Region}.{partitionResult#dnsSuffix}",[ce]:yt,[le]:{}},Vf={[ae]:"https://s3.dualstack.{Region}.{partitionResult#dnsSuffix}",[ce]:yt,[le]:{}},Tc={[ae]:Eo,[ce]:yt,[le]:{}},Gf={[ae]:"https://s3.{Region}.{partitionResult#dnsSuffix}",[ce]:yt,[le]:{}},Pc=[{[ve]:"Region"}],r1=[{[ve]:"Endpoint"}],n1=[ft],Ic=[nt],uo=[ur],nn=[pt,Lt],Xf=[{[j]:ir,[W]:[{[ve]:"DisableS3ExpressSessionAuth"}]},{[j]:Ct,[W]:[{[ve]:"DisableS3ExpressSessionAuth"},!0]}],Zf=[Ao],Bc=[Og],Mc=[Lg],Dn=[st],Yf=[{[j]:Nt,[W]:[ft,6,14,!0],[et]:"s3expressAvailabilityZoneId"},{[j]:Nt,[W]:[ft,14,16,!0],[et]:"s3expressAvailabilityZoneDelim"},{[j]:Je,[W]:[{[ve]:"s3expressAvailabilityZoneDelim"},"--"]}],Bs=[{[M]:[st],[re]:{[ae]:"https://{Bucket}.s3express-fips-{s3expressAvailabilityZoneId}.{Region}.amazonaws.com",[ce]:Sr,[le]:{}},[P]:re},{[re]:{[ae]:"https://{Bucket}.s3express-{s3expressAvailabilityZoneId}.{Region}.amazonaws.com",[ce]:Sr,[le]:{}},[P]:re}],Qf=[{[j]:Nt,[W]:[ft,6,15,!0],[et]:"s3expressAvailabilityZoneId"},{[j]:Nt,[W]:[ft,15,17,!0],[et]:"s3expressAvailabilityZoneDelim"},{[j]:Je,[W]:[{[ve]:"s3expressAvailabilityZoneDelim"},"--"]}],Jf=[{[j]:Nt,[W]:[ft,6,19,!0],[et]:"s3expressAvailabilityZoneId"},{[j]:Nt,[W]:[ft,19,21,!0],[et]:"s3expressAvailabilityZoneDelim"},{[j]:Je,[W]:[{[ve]:"s3expressAvailabilityZoneDelim"},"--"]}],eh=[{[j]:Nt,[W]:[ft,6,20,!0],[et]:"s3expressAvailabilityZoneId"},{[j]:Nt,[W]:[ft,20,22,!0],[et]:"s3expressAvailabilityZoneDelim"},{[j]:Je,[W]:[{[ve]:"s3expressAvailabilityZoneDelim"},"--"]}],th=[{[j]:Nt,[W]:[ft,6,26,!0],[et]:"s3expressAvailabilityZoneId"},{[j]:Nt,[W]:[ft,26,28,!0],[et]:"s3expressAvailabilityZoneDelim"},{[j]:Je,[W]:[{[ve]:"s3expressAvailabilityZoneDelim"},"--"]}],Ms=[{[M]:[st],[re]:{[ae]:"https://{Bucket}.s3express-fips-{s3expressAvailabilityZoneId}.{Region}.amazonaws.com",[ce]:zo,[le]:{}},[P]:re},{[re]:{[ae]:"https://{Bucket}.s3express-{s3expressAvailabilityZoneId}.{Region}.amazonaws.com",[ce]:zo,[le]:{}},[P]:re}],s1=[Uo],rh=[{[j]:_n,[W]:[{[ve]:Pl},!1]}],nh=[{[j]:Je,[W]:[{[ve]:kg},"beta"]}],i1=["*"],Dr=[Dg],sh=[{[j]:_n,[W]:[{[ve]:"Region"},!1]}],Fr=[{[j]:Je,[W]:[{[ve]:"Region"},"us-east-1"]}],Nc=[{[j]:Je,[W]:[Ug,Mg]}],ih=[{[j]:dt,[W]:[Vt,"resourceId[1]"],[et]:Au},{[j]:wr,[W]:[{[j]:Je,[W]:[_u,Lo]}]}],o1=[Vt,"resourceId[1]"],Dc=[{[j]:wr,[W]:[{[j]:Je,[W]:[{[j]:dt,[W]:[Vt,"region"]},Lo]}]}],oh=[{[j]:wr,[W]:[{[j]:ir,[W]:[{[j]:dt,[W]:[Vt,"resourceId[2]"]}]}]}],a1=[Vt,"resourceId[2]"],Fc=[{[j]:Oo,[W]:[{[j]:dt,[W]:[Vt,"region"]}],[et]:"bucketPartition"}],ah=[{[j]:Je,[W]:[zg,{[j]:dt,[W]:[{[ve]:"partitionResult"},Dt]}]}],Oc=[{[j]:_n,[W]:[{[j]:dt,[W]:[Vt,"region"]},!0]}],Lc=[{[j]:_n,[W]:[$g,!1]}],ch=[{[j]:_n,[W]:[_u,!1]}],lh=[{[j]:_n,[W]:[{[ve]:"Region"},!0]}],c1={version:"1.0",parameters:{Bucket:Mn,Region:Mn,UseFIPS:Nn,UseDualStack:Nn,Endpoint:Mn,ForcePathStyle:Nn,Accelerate:Nn,UseGlobalEndpoint:Nn,UseObjectLambdaEndpoint:Ps,Key:Mn,Prefix:Mn,CopySource:Mn,DisableAccessPoints:Ps,DisableMultiRegionAccessPoints:Nn,UseArnRegion:Ps,UseS3ExpressControlEndpoint:Ps,DisableS3ExpressSessionAuth:Ps},rules:[{[M]:[{[j]:ir,[W]:Pc}],rules:[{[M]:[ur,st],error:"Accelerate cannot be used with FIPS",[P]:fe},{[M]:[nt,pt],error:"Cannot set dual-stack in combination with a custom endpoint.",[P]:fe},{[M]:[pt,st],error:"A custom endpoint cannot be combined with FIPS",[P]:fe},{[M]:[pt,ur],error:"A custom endpoint cannot be combined with S3 Accelerate",[P]:fe},{[M]:[st,Dg,wf],error:"Partition does not support FIPS",[P]:fe},{[M]:[Uo,{[j]:Nt,[W]:[ft,0,JE,lr],[et]:lf},{[j]:Je,[W]:[{[ve]:lf},"--x-s3"]}],rules:[{[M]:Ic,error:"S3Express does not support Dual-stack.",[P]:fe},{[M]:uo,error:"S3Express does not support S3 Accelerate.",[P]:fe},{[M]:nn,rules:[{[M]:Xf,rules:[{[M]:Zf,rules:[{[M]:Bc,rules:[{endpoint:{[ae]:uf,[ce]:Sr,[le]:Se},[P]:re}],[P]:X}],[P]:X},{[M]:Mc,rules:[{endpoint:{[ae]:So,[ce]:Sr,[le]:Se},[P]:re}],[P]:X},mc],[P]:X},{[M]:Zf,rules:[{[M]:Bc,rules:[{endpoint:{[ae]:uf,[ce]:zo,[le]:Se},[P]:re}],[P]:X}],[P]:X},{[M]:Mc,rules:[{endpoint:{[ae]:So,[ce]:zo,[le]:Se},[P]:re}],[P]:X},mc],[P]:X},{[M]:[vf,xf],rules:[{[M]:[Og,Re],rules:[{[M]:Dn,endpoint:{[ae]:"https://s3express-control-fips.{Region}.amazonaws.com/{uri_encoded_bucket}",[ce]:Sr,[le]:Se},[P]:re},{endpoint:{[ae]:"https://s3express-control.{Region}.amazonaws.com/{uri_encoded_bucket}",[ce]:Sr,[le]:Se},[P]:re}],[P]:X}],[P]:X},{[M]:Mc,rules:[{[M]:Xf,rules:[{[M]:Yf,rules:Bs,[P]:X},{[M]:Qf,rules:Bs,[P]:X},{[M]:Jf,rules:Bs,[P]:X},{[M]:eh,rules:Bs,[P]:X},{[M]:th,rules:Bs,[P]:X},Sf],[P]:X},{[M]:Yf,rules:Ms,[P]:X},{[M]:Qf,rules:Ms,[P]:X},{[M]:Jf,rules:Ms,[P]:X},{[M]:eh,rules:Ms,[P]:X},{[M]:th,rules:Ms,[P]:X},Sf],[P]:X},mc],[P]:X},{[M]:[Ef,vf,xf],rules:[{[M]:nn,endpoint:{[ae]:Eo,[ce]:Sr,[le]:Se},[P]:re},{[M]:Dn,endpoint:{[ae]:"https://s3express-control-fips.{Region}.amazonaws.com",[ce]:Sr,[le]:Se},[P]:re},{endpoint:{[ae]:"https://s3express-control.{Region}.amazonaws.com",[ce]:Sr,[le]:Se},[P]:re}],[P]:X},{[M]:[Uo,{[j]:Nt,[W]:[ft,49,50,lr],[et]:Cg},{[j]:Nt,[W]:[ft,8,12,lr],[et]:kg},{[j]:Nt,[W]:[ft,0,7,lr],[et]:df},{[j]:Nt,[W]:[ft,32,49,lr],[et]:Pl},{[j]:Oo,[W]:Pc,[et]:"regionPartition"},{[j]:Je,[W]:[{[ve]:df},"--op-s3"]}],rules:[{[M]:rh,rules:[{[M]:[{[j]:Je,[W]:[Af,"e"]}],rules:[{[M]:nh,rules:[_f,{[M]:nn,endpoint:{[ae]:"https://{Bucket}.ec2.{url#authority}",[ce]:co,[le]:Se},[P]:re}],[P]:X},{endpoint:{[ae]:"https://{Bucket}.ec2.s3-outposts.{Region}.{regionPartition#dnsSuffix}",[ce]:co,[le]:Se},[P]:re}],[P]:X},{[M]:[{[j]:Je,[W]:[Af,"o"]}],rules:[{[M]:nh,rules:[_f,{[M]:nn,endpoint:{[ae]:"https://{Bucket}.op-{outpostId}.{url#authority}",[ce]:co,[le]:Se},[P]:re}],[P]:X},{endpoint:{[ae]:"https://{Bucket}.op-{outpostId}.s3-outposts.{Region}.{regionPartition#dnsSuffix}",[ce]:co,[le]:Se},[P]:re}],[P]:X},{error:'Unrecognized hardware type: "Expected hardware type o or e but got {hardwareType}"',[P]:fe}],[P]:X},{error:"Invalid ARN: The outpost Id must only contain a-z, A-Z, 0-9 and `-`.",[P]:fe}],[P]:X},{[M]:s1,rules:[{[M]:[pt,{[j]:wr,[W]:[{[j]:ir,[W]:[{[j]:Ag,[W]:r1}]}]}],error:"Custom endpoint `{Endpoint}` was not a valid URI",[P]:fe},{[M]:[yc,Lg],rules:[{[M]:Dr,rules:[{[M]:sh,rules:[{[M]:[ur,wf],error:"S3 Accelerate cannot be used in this region",[P]:fe},{[M]:[nt,st,ht,Re,vt],endpoint:{[ae]:"https://{Bucket}.s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}",[ce]:xt,[le]:Se},[P]:re},{[M]:[nt,st,ht,Re,ze,St],rules:[{endpoint:Cf,[P]:re}],[P]:X},{[M]:[nt,st,ht,Re,ze,Et],endpoint:Cf,[P]:re},{[M]:[Fe,st,ht,Re,vt],endpoint:{[ae]:"https://{Bucket}.s3-fips.us-east-1.{partitionResult#dnsSuffix}",[ce]:xt,[le]:Se},[P]:re},{[M]:[Fe,st,ht,Re,ze,St],rules:[{endpoint:kf,[P]:re}],[P]:X},{[M]:[Fe,st,ht,Re,ze,Et],endpoint:kf,[P]:re},{[M]:[nt,Be,ur,Re,vt],endpoint:{[ae]:"https://{Bucket}.s3-accelerate.dualstack.us-east-1.{partitionResult#dnsSuffix}",[ce]:xt,[le]:Se},[P]:re},{[M]:[nt,Be,ur,Re,ze,St],rules:[{endpoint:Rf,[P]:re}],[P]:X},{[M]:[nt,Be,ur,Re,ze,Et],endpoint:Rf,[P]:re},{[M]:[nt,Be,ht,Re,vt],endpoint:{[ae]:"https://{Bucket}.s3.dualstack.us-east-1.{partitionResult#dnsSuffix}",[ce]:xt,[le]:Se},[P]:re},{[M]:[nt,Be,ht,Re,ze,St],rules:[{endpoint:Tf,[P]:re}],[P]:X},{[M]:[nt,Be,ht,Re,ze,Et],endpoint:Tf,[P]:re},{[M]:[Fe,Be,ht,pt,Lt,Ao,vt],endpoint:{[ae]:Rg,[ce]:xt,[le]:Se},[P]:re},{[M]:[Fe,Be,ht,pt,Lt,bc,vt],endpoint:{[ae]:So,[ce]:xt,[le]:Se},[P]:re},{[M]:[Fe,Be,ht,pt,Lt,Ao,ze,St],rules:[{[M]:Fr,endpoint:wc,[P]:re},{endpoint:wc,[P]:re}],[P]:X},{[M]:[Fe,Be,ht,pt,Lt,bc,ze,St],rules:[{[M]:Fr,endpoint:Il,[P]:re},Pf],[P]:X},{[M]:[Fe,Be,ht,pt,Lt,Ao,ze,Et],endpoint:wc,[P]:re},{[M]:[Fe,Be,ht,pt,Lt,bc,ze,Et],endpoint:Il,[P]:re},{[M]:[Fe,Be,ur,Re,vt],endpoint:{[ae]:Tg,[ce]:xt,[le]:Se},[P]:re},{[M]:[Fe,Be,ur,Re,ze,St],rules:[{[M]:Fr,endpoint:vc,[P]:re},{endpoint:vc,[P]:re}],[P]:X},{[M]:[Fe,Be,ur,Re,ze,Et],endpoint:vc,[P]:re},{[M]:[Fe,Be,ht,Re,vt],endpoint:{[ae]:ff,[ce]:xt,[le]:Se},[P]:re},{[M]:[Fe,Be,ht,Re,ze,St],rules:[{[M]:Fr,endpoint:{[ae]:ff,[ce]:yt,[le]:Se},[P]:re},{endpoint:If,[P]:re}],[P]:X},{[M]:[Fe,Be,ht,Re,ze,Et],endpoint:If,[P]:re}],[P]:X},lo],[P]:X}],[P]:X},{[M]:[pt,Lt,{[j]:Je,[W]:[{[j]:dt,[W]:[Fg,"scheme"]},"http"]},{[j]:_g,[W]:[ft,lr]},yc,Be,Fe,ht],rules:[{[M]:Dr,rules:[{[M]:sh,rules:[Pf],[P]:X},lo],[P]:X}],[P]:X},{[M]:[yc,{[j]:Pg,[W]:n1,[et]:Ig}],rules:[{[M]:[{[j]:dt,[W]:[Vt,"resourceId[0]"],[et]:Bg},{[j]:wr,[W]:[{[j]:Je,[W]:[Ug,Lo]}]}],rules:[{[M]:[{[j]:Je,[W]:[xc,Eu]}],rules:[{[M]:Nc,rules:[{[M]:ih,rules:[Bf,Mf,{[M]:Dc,rules:[Nf,{[M]:oh,rules:[Sc,{[M]:Fc,rules:[{[M]:Dr,rules:[{[M]:ah,rules:[{[M]:Oc,rules:[{[M]:[{[j]:Je,[W]:[$g,Lo]}],error:"Invalid ARN: Missing account id",[P]:fe},{[M]:Lc,rules:[{[M]:ch,rules:[{[M]:nn,endpoint:{[ae]:hf,[ce]:Ec,[le]:Se},[P]:re},{[M]:Dn,endpoint:{[ae]:"https://{accessPointName}-{bucketArn#accountId}.s3-object-lambda-fips.{bucketArn#region}.{bucketPartition#dnsSuffix}",[ce]:Ec,[le]:Se},[P]:re},{endpoint:{[ae]:"https://{accessPointName}-{bucketArn#accountId}.s3-object-lambda.{bucketArn#region}.{bucketPartition#dnsSuffix}",[ce]:Ec,[le]:Se},[P]:re}],[P]:X},Df],[P]:X},Ac],[P]:X},_c],[P]:X},Cc],[P]:X}],[P]:X}],[P]:X},Ff],[P]:X},{error:"Invalid ARN: bucket ARN is missing a region",[P]:fe}],[P]:X},Of],[P]:X},{error:"Invalid ARN: Object Lambda ARNs only support `accesspoint` arn types, but found: `{arnType}`",[P]:fe}],[P]:X},{[M]:Nc,rules:[{[M]:ih,rules:[{[M]:Dc,rules:[{[M]:Nc,rules:[{[M]:Dc,rules:[Nf,{[M]:oh,rules:[Sc,{[M]:Fc,rules:[{[M]:Dr,rules:[{[M]:[{[j]:Je,[W]:[zg,"{partitionResult#name}"]}],rules:[{[M]:Oc,rules:[{[M]:[{[j]:Je,[W]:[xc,ms]}],rules:[{[M]:Lc,rules:[{[M]:ch,rules:[{[M]:uo,error:"Access Points do not support S3 Accelerate",[P]:fe},{[M]:[st,nt],endpoint:{[ae]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint-fips.dualstack.{bucketArn#region}.{bucketPartition#dnsSuffix}",[ce]:Is,[le]:Se},[P]:re},{[M]:[st,Fe],endpoint:{[ae]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint-fips.{bucketArn#region}.{bucketPartition#dnsSuffix}",[ce]:Is,[le]:Se},[P]:re},{[M]:[Be,nt],endpoint:{[ae]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint.dualstack.{bucketArn#region}.{bucketPartition#dnsSuffix}",[ce]:Is,[le]:Se},[P]:re},{[M]:[Be,Fe,pt,Lt],endpoint:{[ae]:hf,[ce]:Is,[le]:Se},[P]:re},{[M]:[Be,Fe],endpoint:{[ae]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint.{bucketArn#region}.{bucketPartition#dnsSuffix}",[ce]:Is,[le]:Se},[P]:re}],[P]:X},Df],[P]:X},Ac],[P]:X},{error:"Invalid ARN: The ARN was not for the S3 service, found: {bucketArn#service}",[P]:fe}],[P]:X},_c],[P]:X},Cc],[P]:X}],[P]:X}],[P]:X},Ff],[P]:X}],[P]:X}],[P]:X},{[M]:[{[j]:_n,[W]:[_u,lr]}],rules:[{[M]:Ic,error:"S3 MRAP does not support dual-stack",[P]:fe},{[M]:Dn,error:"S3 MRAP does not support FIPS",[P]:fe},{[M]:uo,error:"S3 MRAP does not support S3 Accelerate",[P]:fe},{[M]:[{[j]:Ct,[W]:[{[ve]:"DisableMultiRegionAccessPoints"},lr]}],error:"Invalid configuration: Multi-Region Access Point ARNs are disabled.",[P]:fe},{[M]:[{[j]:Oo,[W]:Pc,[et]:pf}],rules:[{[M]:[{[j]:Je,[W]:[{[j]:dt,[W]:[{[ve]:pf},Dt]},{[j]:dt,[W]:[Vt,"partition"]}]}],rules:[{endpoint:{[ae]:"https://{accessPointName}.accesspoint.s3-global.{mrapPartition#dnsSuffix}",[ce]:{[hr]:[{[Jt]:lr,name:Su,[er]:ms,[xu]:i1}]},[le]:Se},[P]:re}],[P]:X},{error:"Client was configured for partition `{mrapPartition#name}` but bucket referred to partition `{bucketArn#partition}`",[P]:fe}],[P]:X}],[P]:X},{error:"Invalid Access Point Name",[P]:fe}],[P]:X},Of],[P]:X},{[M]:[{[j]:Je,[W]:[xc,ri]}],rules:[{[M]:Ic,error:"S3 Outposts does not support Dual-stack",[P]:fe},{[M]:Dn,error:"S3 Outposts does not support FIPS",[P]:fe},{[M]:uo,error:"S3 Outposts does not support S3 Accelerate",[P]:fe},{[M]:[{[j]:ir,[W]:[{[j]:dt,[W]:[Vt,"resourceId[4]"]}]}],error:"Invalid Arn: Outpost Access Point ARN contains sub resources",[P]:fe},{[M]:[{[j]:dt,[W]:o1,[et]:Pl}],rules:[{[M]:rh,rules:[Sc,{[M]:Fc,rules:[{[M]:Dr,rules:[{[M]:ah,rules:[{[M]:Oc,rules:[{[M]:Lc,rules:[{[M]:[{[j]:dt,[W]:a1,[et]:gf}],rules:[{[M]:[{[j]:dt,[W]:[Vt,"resourceId[3]"],[et]:Au}],rules:[{[M]:[{[j]:Je,[W]:[{[ve]:gf},Mg]}],rules:[{[M]:nn,endpoint:{[ae]:"https://{accessPointName}-{bucketArn#accountId}.{outpostId}.{url#authority}",[ce]:Lf,[le]:Se},[P]:re},{endpoint:{[ae]:"https://{accessPointName}-{bucketArn#accountId}.{outpostId}.s3-outposts.{bucketArn#region}.{bucketPartition#dnsSuffix}",[ce]:Lf,[le]:Se},[P]:re}],[P]:X},{error:"Expected an outpost type `accesspoint`, found {outpostType}",[P]:fe}],[P]:X},{error:"Invalid ARN: expected an access point name",[P]:fe}],[P]:X},{error:"Invalid ARN: Expected a 4-component resource",[P]:fe}],[P]:X},Ac],[P]:X},_c],[P]:X},Cc],[P]:X}],[P]:X}],[P]:X},{error:"Invalid ARN: The outpost Id may only contain a-z, A-Z, 0-9 and `-`. Found: `{outpostId}`",[P]:fe}],[P]:X},{error:"Invalid ARN: The Outpost Id was not set",[P]:fe}],[P]:X},{error:"Invalid ARN: Unrecognized format: {Bucket} (type: {arnType})",[P]:fe}],[P]:X},{error:"Invalid ARN: No ARN type specified",[P]:fe}],[P]:X},{[M]:[{[j]:Nt,[W]:[ft,0,4,e1],[et]:mf},{[j]:Je,[W]:[{[ve]:mf},"arn:"]},{[j]:wr,[W]:[{[j]:ir,[W]:[Uf]}]}],error:"Invalid ARN: `{Bucket}` was not a valid ARN",[P]:fe},{[M]:[{[j]:Ct,[W]:[t1,lr]},Uf],error:"Path-style addressing cannot be used with ARN buckets",[P]:fe},{[M]:Bc,rules:[{[M]:Dr,rules:[{[M]:[ht],rules:[{[M]:[nt,Re,st,vt],endpoint:{[ae]:"https://s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[ce]:xt,[le]:Se},[P]:re},{[M]:[nt,Re,st,ze,St],rules:[{endpoint:zf,[P]:re}],[P]:X},{[M]:[nt,Re,st,ze,Et],endpoint:zf,[P]:re},{[M]:[Fe,Re,st,vt],endpoint:{[ae]:"https://s3-fips.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[ce]:xt,[le]:Se},[P]:re},{[M]:[Fe,Re,st,ze,St],rules:[{endpoint:$f,[P]:re}],[P]:X},{[M]:[Fe,Re,st,ze,Et],endpoint:$f,[P]:re},{[M]:[nt,Re,Be,vt],endpoint:{[ae]:"https://s3.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[ce]:xt,[le]:Se},[P]:re},{[M]:[nt,Re,Be,ze,St],rules:[{endpoint:qf,[P]:re}],[P]:X},{[M]:[nt,Re,Be,ze,Et],endpoint:qf,[P]:re},{[M]:[Fe,pt,Lt,Be,vt],endpoint:{[ae]:Ng,[ce]:xt,[le]:Se},[P]:re},{[M]:[Fe,pt,Lt,Be,ze,St],rules:[{[M]:Fr,endpoint:kc,[P]:re},{endpoint:kc,[P]:re}],[P]:X},{[M]:[Fe,pt,Lt,Be,ze,Et],endpoint:kc,[P]:re},{[M]:[Fe,Re,Be,vt],endpoint:{[ae]:yf,[ce]:xt,[le]:Se},[P]:re},{[M]:[Fe,Re,Be,ze,St],rules:[{[M]:Fr,endpoint:{[ae]:yf,[ce]:yt,[le]:Se},[P]:re},{endpoint:Hf,[P]:re}],[P]:X},{[M]:[Fe,Re,Be,ze,Et],endpoint:Hf,[P]:re}],[P]:X},{error:"Path-style addressing cannot be used with S3 Accelerate",[P]:fe}],[P]:X}],[P]:X}],[P]:X},{[M]:[{[j]:ir,[W]:[jf]},{[j]:Ct,[W]:[jf,lr]}],rules:[{[M]:Dr,rules:[{[M]:lh,rules:[Bf,Mf,{[M]:nn,endpoint:{[ae]:Eo,[ce]:Rc,[le]:Se},[P]:re},{[M]:Dn,endpoint:{[ae]:"https://s3-object-lambda-fips.{Region}.{partitionResult#dnsSuffix}",[ce]:Rc,[le]:Se},[P]:re},{endpoint:{[ae]:"https://s3-object-lambda.{Region}.{partitionResult#dnsSuffix}",[ce]:Rc,[le]:Se},[P]:re}],[P]:X},lo],[P]:X}],[P]:X},{[M]:[Ef],rules:[{[M]:Dr,rules:[{[M]:lh,rules:[{[M]:[st,nt,Re,vt],endpoint:{[ae]:"https://s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}",[ce]:xt,[le]:Se},[P]:re},{[M]:[st,nt,Re,ze,St],rules:[{endpoint:Wf,[P]:re}],[P]:X},{[M]:[st,nt,Re,ze,Et],endpoint:Wf,[P]:re},{[M]:[st,Fe,Re,vt],endpoint:{[ae]:"https://s3-fips.us-east-1.{partitionResult#dnsSuffix}",[ce]:xt,[le]:Se},[P]:re},{[M]:[st,Fe,Re,ze,St],rules:[{endpoint:Kf,[P]:re}],[P]:X},{[M]:[st,Fe,Re,ze,Et],endpoint:Kf,[P]:re},{[M]:[Be,nt,Re,vt],endpoint:{[ae]:"https://s3.dualstack.us-east-1.{partitionResult#dnsSuffix}",[ce]:xt,[le]:Se},[P]:re},{[M]:[Be,nt,Re,ze,St],rules:[{endpoint:Vf,[P]:re}],[P]:X},{[M]:[Be,nt,Re,ze,Et],endpoint:Vf,[P]:re},{[M]:[Be,Fe,pt,Lt,vt],endpoint:{[ae]:Eo,[ce]:xt,[le]:Se},[P]:re},{[M]:[Be,Fe,pt,Lt,ze,St],rules:[{[M]:Fr,endpoint:Tc,[P]:re},{endpoint:Tc,[P]:re}],[P]:X},{[M]:[Be,Fe,pt,Lt,ze,Et],endpoint:Tc,[P]:re},{[M]:[Be,Fe,Re,vt],endpoint:{[ae]:bf,[ce]:xt,[le]:Se},[P]:re},{[M]:[Be,Fe,Re,ze,St],rules:[{[M]:Fr,endpoint:{[ae]:bf,[ce]:yt,[le]:Se},[P]:re},{endpoint:Gf,[P]:re}],[P]:X},{[M]:[Be,Fe,Re,ze,Et],endpoint:Gf,[P]:re}],[P]:X},lo],[P]:X}],[P]:X}],[P]:X},{error:"A region must be set when sending requests to S3.",[P]:fe}]},l1=c1,u1=new SS({size:50,params:["Accelerate","Bucket","DisableAccessPoints","DisableMultiRegionAccessPoints","DisableS3ExpressSessionAuth","Endpoint","ForcePathStyle","Region","UseArnRegion","UseDualStack","UseFIPS","UseGlobalEndpoint","UseObjectLambdaEndpoint","UseS3ExpressControlEndpoint"]}),qg=(t,e={})=>u1.get(t,()=>$S(l1,{endpointParams:t,logger:e.logger}));No.aws=gg;const d1=t=>async(e,r,n)=>{var a,c,l;if(!n)throw new Error("Could not find `input` for `defaultEndpointRuleSetHttpAuthSchemeParametersProvider`");const s=await t(e,r,n),i=(l=(c=(a=bs(r))==null?void 0:a.commandInstance)==null?void 0:c.constructor)==null?void 0:l.getEndpointParameterInstructions;if(!i)throw new Error(`getEndpointParameterInstructions() is not defined on \`${r.commandName}\``);const o=await wg(n,{getEndpointParameterInstructions:i},e);return Object.assign(s,o)},f1=async(t,e,r)=>({operation:bs(e).operation,region:await br(t.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()}),h1=d1(f1);function Hg(t){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"s3",region:t.region},propertiesExtractor:(e,r)=>({signingProperties:{config:e,context:r}})}}function jg(t){return{schemeId:"aws.auth#sigv4a",signingProperties:{name:"s3",region:t.region},propertiesExtractor:(e,r)=>({signingProperties:{config:e,context:r}})}}const p1=(t,e,r)=>s=>{var c;const o=(c=t(s).properties)==null?void 0:c.authSchemes;if(!o)return e(s);const a=[];for(const l of o){const{name:u,properties:f={},...h}=l,g=u.toLowerCase();u!==g&&console.warn(`HttpAuthScheme has been normalized with lowercasing: \`${u}\` to \`${g}\``);let y;if(g==="sigv4a"){if(y="aws.auth#sigv4a",o.find(x=>{const T=x.name.toLowerCase();return T!=="sigv4a"&&T.startsWith("sigv4")}))continue}else if(g.startsWith("sigv4"))y="aws.auth#sigv4";else throw new Error(`Unknown HttpAuthScheme found in \`@smithy.rules#endpointRuleSet\`: \`${g}\``);const A=r[y];if(!A)throw new Error(`Could not find HttpAuthOption create function for \`${y}\``);const E=A(s);E.schemeId=y,E.signingProperties={...E.signingProperties||{},...h,...f},a.push(E)}return a},g1=t=>{const e=[];switch(t.operation){default:e.push(Hg(t)),e.push(jg(t))}return e},m1=p1(qg,g1,{"aws.auth#sigv4":Hg,"aws.auth#sigv4a":jg}),y1=t=>{const e=lv(t);return{...Lw(e)}},b1=t=>({...t,useFipsEndpoint:t.useFipsEndpoint??!1,useDualstackEndpoint:t.useDualstackEndpoint??!1,forcePathStyle:t.forcePathStyle??!1,useAccelerateEndpoint:t.useAccelerateEndpoint??!1,useGlobalEndpoint:t.useGlobalEndpoint??!1,disableMultiregionAccessPoints:t.disableMultiregionAccessPoints??!1,defaultSigningName:"s3"}),Cn={ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},DisableS3ExpressSessionAuth:{type:"clientContextParams",name:"disableS3ExpressSessionAuth"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}};class Ft extends $n{constructor(e){super(e),Object.setPrototypeOf(this,Ft.prototype)}}class Cu extends Ft{constructor(r){super({name:"NoSuchUpload",$fault:"client",...r});z(this,"name","NoSuchUpload");z(this,"$fault","client");Object.setPrototypeOf(this,Cu.prototype)}}const w1={CRC32:"CRC32",CRC32C:"CRC32C",CRC64NVME:"CRC64NVME",SHA1:"SHA1",SHA256:"SHA256"};class ku extends Ft{constructor(r){super({name:"ObjectNotInActiveTierError",$fault:"client",...r});z(this,"name","ObjectNotInActiveTierError");z(this,"$fault","client");Object.setPrototypeOf(this,ku.prototype)}}class Ru extends Ft{constructor(r){super({name:"BucketAlreadyExists",$fault:"client",...r});z(this,"name","BucketAlreadyExists");z(this,"$fault","client");Object.setPrototypeOf(this,Ru.prototype)}}class Tu extends Ft{constructor(r){super({name:"BucketAlreadyOwnedByYou",$fault:"client",...r});z(this,"name","BucketAlreadyOwnedByYou");z(this,"$fault","client");Object.setPrototypeOf(this,Tu.prototype)}}class Pu extends Ft{constructor(r){super({name:"NoSuchBucket",$fault:"client",...r});z(this,"name","NoSuchBucket");z(this,"$fault","client");Object.setPrototypeOf(this,Pu.prototype)}}var uh;(function(t){t.visit=(e,r)=>e.Prefix!==void 0?r.Prefix(e.Prefix):e.Tag!==void 0?r.Tag(e.Tag):e.And!==void 0?r.And(e.And):r._(e.$unknown[0],e.$unknown[1])})(uh||(uh={}));var dh;(function(t){t.visit=(e,r)=>e.Prefix!==void 0?r.Prefix(e.Prefix):e.Tag!==void 0?r.Tag(e.Tag):e.AccessPointArn!==void 0?r.AccessPointArn(e.AccessPointArn):e.And!==void 0?r.And(e.And):r._(e.$unknown[0],e.$unknown[1])})(dh||(dh={}));class Iu extends Ft{constructor(r){super({name:"InvalidObjectState",$fault:"client",...r});z(this,"name","InvalidObjectState");z(this,"$fault","client");z(this,"StorageClass");z(this,"AccessTier");Object.setPrototypeOf(this,Iu.prototype),this.StorageClass=r.StorageClass,this.AccessTier=r.AccessTier}}class Bu extends Ft{constructor(r){super({name:"NoSuchKey",$fault:"client",...r});z(this,"name","NoSuchKey");z(this,"$fault","client");Object.setPrototypeOf(this,Bu.prototype)}}class Mu extends Ft{constructor(r){super({name:"NotFound",$fault:"client",...r});z(this,"name","NotFound");z(this,"$fault","client");Object.setPrototypeOf(this,Mu.prototype)}}const v1=t=>({...t,...t.SSEKMSKeyId&&{SSEKMSKeyId:mt}}),x1=t=>({...t,...t.SSECustomerKey&&{SSECustomerKey:mt}}),S1=t=>({...t,...t.SSEKMSKeyId&&{SSEKMSKeyId:mt},...t.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:mt}}),E1=t=>({...t,...t.SSECustomerKey&&{SSECustomerKey:mt},...t.SSEKMSKeyId&&{SSEKMSKeyId:mt},...t.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:mt}}),A1=t=>({...t,...t.SecretAccessKey&&{SecretAccessKey:mt},...t.SessionToken&&{SessionToken:mt}}),_1=t=>({...t,...t.SSEKMSKeyId&&{SSEKMSKeyId:mt},...t.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:mt},...t.Credentials&&{Credentials:A1(t.Credentials)}}),C1=t=>({...t,...t.SSEKMSKeyId&&{SSEKMSKeyId:mt},...t.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:mt}});function k1(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}function R1(t){return t.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#x0D;").replace(/\n/g,"&#x0A;").replace(/\u0085/g,"&#x85;").replace(/\u2028/,"&#x2028;")}class T1{constructor(e){z(this,"value");this.value=e}toString(){return R1(""+this.value)}}class vr{constructor(e,r=[]){z(this,"name");z(this,"children");z(this,"attributes",{});this.name=e,this.children=r}static of(e,r,n){const s=new vr(e);return r!==void 0&&s.addChildNode(new T1(r)),n!==void 0&&s.withName(n),s}withName(e){return this.name=e,this}addAttribute(e,r){return this.attributes[e]=r,this}addChildNode(e){return this.children.push(e),this}removeAttribute(e){return delete this.attributes[e],this}n(e){return this.name=e,this}c(e){return this.children.push(e),this}a(e,r){return r!=null&&(this.attributes[e]=r),this}cc(e,r,n=r){if(e[r]!=null){const s=vr.of(r,e[r]).withName(n);this.c(s)}}l(e,r,n,s){e[r]!=null&&s().map(o=>{o.withName(n),this.c(o)})}lc(e,r,n,s){if(e[r]!=null){const i=s(),o=new vr(n);i.map(a=>{o.c(a)}),this.c(o)}}toString(){const e=!!this.children.length;let r=`<${this.name}`;const n=this.attributes;for(const s of Object.keys(n)){const i=n[s];i!=null&&(r+=` ${s}="${k1(""+i)}"`)}return r+=e?`>${this.children.map(s=>s.toString()).join("")}</${this.name}>`:"/>"}}class Nu extends Ft{constructor(r){super({name:"EncryptionTypeMismatch",$fault:"client",...r});z(this,"name","EncryptionTypeMismatch");z(this,"$fault","client");Object.setPrototypeOf(this,Nu.prototype)}}class Du extends Ft{constructor(r){super({name:"InvalidRequest",$fault:"client",...r});z(this,"name","InvalidRequest");z(this,"$fault","client");Object.setPrototypeOf(this,Du.prototype)}}class Fu extends Ft{constructor(r){super({name:"InvalidWriteOffset",$fault:"client",...r});z(this,"name","InvalidWriteOffset");z(this,"$fault","client");Object.setPrototypeOf(this,Fu.prototype)}}class Ou extends Ft{constructor(r){super({name:"TooManyParts",$fault:"client",...r});z(this,"name","TooManyParts");z(this,"$fault","client");Object.setPrototypeOf(this,Ou.prototype)}}class Lu extends Ft{constructor(r){super({name:"ObjectAlreadyInActiveTierError",$fault:"client",...r});z(this,"name","ObjectAlreadyInActiveTierError");z(this,"$fault","client");Object.setPrototypeOf(this,Lu.prototype)}}var fh;(function(t){t.visit=(e,r)=>e.Records!==void 0?r.Records(e.Records):e.Stats!==void 0?r.Stats(e.Stats):e.Progress!==void 0?r.Progress(e.Progress):e.Cont!==void 0?r.Cont(e.Cont):e.End!==void 0?r.End(e.End):r._(e.$unknown[0],e.$unknown[1])})(fh||(fh={}));const P1=t=>({...t,...t.SSEKMSKeyId&&{SSEKMSKeyId:mt},...t.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:mt}}),I1=t=>({...t,...t.SSECustomerKey&&{SSECustomerKey:mt},...t.SSEKMSKeyId&&{SSEKMSKeyId:mt},...t.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:mt}}),B1=t=>({...t,...t.SSEKMSKeyId&&{SSEKMSKeyId:mt}}),M1=t=>({...t,...t.SSECustomerKey&&{SSECustomerKey:mt}}),N1=async(t,e)=>{const r=Sn(t,e),n=qe({},_t,{[As]:t[xs],[Es]:t[vs],[NA]:[()=>_t(t[hh]),()=>au(t[hh]).toString()]});r.bp("/{Key+}"),r.p("Bucket",()=>t.Bucket,"{Bucket}",!1),r.p("Key",()=>t.Key,"{Key+}",!0);const s=qe({[Wu]:[,"AbortMultipartUpload"],[qu]:[,Br(t[Gn],"UploadId")]});return r.m("DELETE").h(n).q(s).b(void 0),r.build()},D1=async(t,e)=>{const r=Sn(t,e),n=qe({},_t,{"content-type":"application/xml",[Gi]:t[Cr],[Xi]:t[kr],[Zi]:t[Rr],[Yi]:t[Tr],[Qi]:t[Pr],[Fa]:t[mn],[DA]:t[wA],[As]:t[xs],[Es]:t[vs],[gm]:t[tm],[mm]:t[rm],[Pn]:t[Rn],[Oa]:t[Na],[In]:t[Tn]});r.bp("/{Key+}"),r.p("Bucket",()=>t.Bucket,"{Bucket}",!1),r.p("Key",()=>t.Key,"{Key+}",!0);const s=qe({[qu]:[,Br(t[Gn],"UploadId")]});let i,o;return t.MultipartUpload!==void 0&&(o=cA(t.MultipartUpload),o=o.n("CompleteMultipartUpload"),i=ym,o.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),i+=o.toString()),r.m("POST").h(n).q(s).b(i),r.build()},F1=async(t,e)=>{const r=Sn(t,e),n=qe({},_t,{[bm]:t[Wg],[am]:t[Kg],[cm]:t[Vg],[lm]:t[Gg],[um]:t[Xg],[fm]:t[Zg],[hm]:[()=>_t(t[qo]),()=>au(t[qo]).toString()],[xm]:t[Yg],[Sm]:t[Qg],[Em]:t[Jg],[Am]:t[em],[en]:t[Qr],[Rm]:t[Ks],[Pm]:t[om],[Pn]:t[Rn],[Oa]:t[Na],[In]:t[Tn],[tn]:t[Jr],[_s]:t[Ss],[tr]:[()=>_t(t[dr]),()=>t[dr].toString()],[As]:t[xs],[Tm]:t[zu],[Cm]:t[sm],[km]:[()=>_t(t[Ho]),()=>Jp(t[Ho]).toString()],[_m]:t[nm],[Es]:t[vs],[wm]:t[Ki],[Fa]:t[mn],...t.Metadata!==void 0&&Object.keys(t.Metadata).reduce((o,a)=>(o[`x-amz-meta-${a.toLowerCase()}`]=t.Metadata[a],o),{})});r.bp("/{Key+}"),r.p("Bucket",()=>t.Bucket,"{Bucket}",!1),r.p("Key",()=>t.Key,"{Key+}",!0);const s=qe({[PA]:[,""]});return r.m("POST").h(n).q(s).b(void 0),r.build()},O1=async(t,e)=>{const r=Sn(t,e),n=qe({},_t,{[MA]:t[SA],[en]:t[Qr],[tn]:t[Jr],[_s]:t[Ss],[tr]:[()=>_t(t[dr]),()=>t[dr].toString()]});r.bp("/"),r.p("Bucket",()=>t.Bucket,"{Bucket}",!1);const s=qe({[RA]:[,""]});return r.m("GET").h(n).q(s).b(void 0),r.build()},L1=async(t,e)=>{const r=Sn(t,e),n=qe({},_t,{[fm]:t[Zg]||"application/octet-stream",[bm]:t[Wg],[am]:t[Kg],[cm]:t[Vg],[lm]:t[Gg],[um]:t[Xg],[dm]:[()=>_t(t[$o]),()=>t[$o].toString()],[$u]:t[Uu],[Hu]:t[Ki],[Gi]:t[Cr],[Xi]:t[kr],[Zi]:t[Rr],[Yi]:t[Tr],[Qi]:t[Pr],[hm]:[()=>_t(t[qo]),()=>au(t[qo]).toString()],[gm]:t[tm],[mm]:t[rm],[xm]:t[Yg],[Sm]:t[Qg],[Em]:t[Jg],[Am]:t[em],[FA]:[()=>_t(t[ph]),()=>t[ph].toString()],[en]:t[Qr],[Rm]:t[Ks],[Pm]:t[om],[Pn]:t[Rn],[Oa]:t[Na],[In]:t[Tn],[tn]:t[Jr],[_s]:t[Ss],[tr]:[()=>_t(t[dr]),()=>t[dr].toString()],[As]:t[xs],[Tm]:t[zu],[Cm]:t[sm],[km]:[()=>_t(t[Ho]),()=>Jp(t[Ho]).toString()],[_m]:t[nm],[Es]:t[vs],...t.Metadata!==void 0&&Object.keys(t.Metadata).reduce((a,c)=>(a[`x-amz-meta-${c.toLowerCase()}`]=t.Metadata[c],a),{})});r.bp("/{Key+}"),r.p("Bucket",()=>t.Bucket,"{Bucket}",!1),r.p("Key",()=>t.Key,"{Key+}",!0);const s=qe({[Wu]:[,"PutObject"]});let i,o;return t.Body!==void 0&&(o=t.Body,i=o),r.m("PUT").h(n).q(s).b(i),r.build()},U1=async(t,e)=>{const r=Sn(t,e),n=qe({},_t,{"content-type":"application/xml",[$u]:t[Uu],[Hu]:t[Ki],[Es]:t[vs],[As]:t[xs]});r.bp("/{Key+}"),r.p("Bucket",()=>t.Bucket,"{Bucket}",!1),r.p("Key",()=>t.Key,"{Key+}",!0);const s=qe({[TA]:[,""],[IA]:[,t[Da]]});let i,o;return t.Tagging!==void 0&&(o=fA(t.Tagging),i=ym,o.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),i+=o.toString()),r.m("PUT").h(n).q(s).b(i),r.build()},z1=async(t,e)=>{const r=Sn(t,e),n=qe({},_t,{"content-type":"application/octet-stream",[dm]:[()=>_t(t[$o]),()=>t[$o].toString()],[$u]:t[Uu],[Hu]:t[Ki],[Gi]:t[Cr],[Xi]:t[kr],[Zi]:t[Rr],[Yi]:t[Tr],[Qi]:t[Pr],[Pn]:t[Rn],[Oa]:t[Na],[In]:t[Tn],[As]:t[xs],[Es]:t[vs]});r.bp("/{Key+}"),r.p("Bucket",()=>t.Bucket,"{Bucket}",!1),r.p("Key",()=>t.Key,"{Key+}",!0);const s=qe({[Wu]:[,"UploadPart"],[kA]:[Br(t.PartNumber,"PartNumber")!=null,()=>t[Ls].toString()],[qu]:[,Br(t[Gn],"UploadId")]});let i,o;return t.Body!==void 0&&(o=t.Body,i=o),r.m("PUT").h(n).q(s).b(i),r.build()},$1=async(t,e)=>{if(t.statusCode!==204&&t.statusCode>=300)return kn(t,e);const r=qe({$metadata:wt(t),[Vi]:[,t.headers[Ji]]});return await ji(t.body,e),r},q1=async(t,e)=>{if(t.statusCode!==200&&t.statusCode>=300)return kn(t,e);const r=qe({$metadata:wt(t),[Ws]:[,t.headers[vm]],[Qr]:[,t.headers[en]],[Da]:[,t.headers[ju]],[Jr]:[,t.headers[tn]],[dr]:[()=>t.headers[tr]!==void 0,()=>Wi(t.headers[tr])],[Vi]:[,t.headers[Ji]]}),n=Br(iu(await Ia(t.body,e)),"body");return n[Kn]!=null&&(r[Kn]=At(n[Kn])),n[Cr]!=null&&(r[Cr]=At(n[Cr])),n[kr]!=null&&(r[kr]=At(n[kr])),n[Rr]!=null&&(r[Rr]=At(n[Rr])),n[Tr]!=null&&(r[Tr]=At(n[Tr])),n[Pr]!=null&&(r[Pr]=At(n[Pr])),n[mn]!=null&&(r[mn]=At(n[mn])),n[Vn]!=null&&(r[Vn]=At(n[Vn])),n[Ir]!=null&&(r[Ir]=At(n[Ir])),n[qc]!=null&&(r[qc]=At(n[qc])),r},H1=async(t,e)=>{if(t.statusCode!==200&&t.statusCode>=300)return kn(t,e);const r=qe({$metadata:wt(t),[gA]:[()=>t.headers[gh]!==void 0,()=>Br(_v(t.headers[gh]))],[mA]:[,t.headers[BA]],[Qr]:[,t.headers[en]],[Rn]:[,t.headers[Pn]],[Tn]:[,t.headers[In]],[Jr]:[,t.headers[tn]],[Ss]:[,t.headers[_s]],[dr]:[()=>t.headers[tr]!==void 0,()=>Wi(t.headers[tr])],[Vi]:[,t.headers[Ji]],[Ki]:[,t.headers[wm]],[mn]:[,t.headers[Fa]]}),n=Br(iu(await Ia(t.body,e)),"body");return n[Kn]!=null&&(r[Kn]=At(n[Kn])),n[Ir]!=null&&(r[Ir]=At(n[Ir])),n[Gn]!=null&&(r[Gn]=At(n[Gn])),r},j1=async(t,e)=>{if(t.statusCode!==200&&t.statusCode>=300)return kn(t,e);const r=qe({$metadata:wt(t),[Qr]:[,t.headers[en]],[Jr]:[,t.headers[tn]],[Ss]:[,t.headers[_s]],[dr]:[()=>t.headers[tr]!==void 0,()=>Wi(t.headers[tr])]}),n=Br(iu(await Ia(t.body,e)),"body");return n[$c]!=null&&(r[$c]=pA(n[$c])),r},W1=async(t,e)=>{if(t.statusCode!==200&&t.statusCode>=300)return kn(t,e);const r=qe({$metadata:wt(t),[Ws]:[,t.headers[vm]],[Vn]:[,t.headers[pm]],[Cr]:[,t.headers[Gi]],[kr]:[,t.headers[Xi]],[Rr]:[,t.headers[Zi]],[Tr]:[,t.headers[Yi]],[Pr]:[,t.headers[Qi]],[mn]:[,t.headers[Fa]],[Qr]:[,t.headers[en]],[Da]:[,t.headers[ju]],[Rn]:[,t.headers[Pn]],[Tn]:[,t.headers[In]],[Jr]:[,t.headers[tn]],[Ss]:[,t.headers[_s]],[dr]:[()=>t.headers[tr]!==void 0,()=>Wi(t.headers[tr])],[EA]:[()=>t.headers[mh]!==void 0,()=>yv(t.headers[mh])],[Vi]:[,t.headers[Ji]]});return await ji(t.body,e),r},K1=async(t,e)=>{if(t.statusCode!==200&&t.statusCode>=300)return kn(t,e);const r=qe({$metadata:wt(t),[Da]:[,t.headers[ju]]});return await ji(t.body,e),r},V1=async(t,e)=>{if(t.statusCode!==200&&t.statusCode>=300)return kn(t,e);const r=qe({$metadata:wt(t),[Qr]:[,t.headers[en]],[Vn]:[,t.headers[pm]],[Cr]:[,t.headers[Gi]],[kr]:[,t.headers[Xi]],[Rr]:[,t.headers[Zi]],[Tr]:[,t.headers[Yi]],[Pr]:[,t.headers[Qi]],[Rn]:[,t.headers[Pn]],[Tn]:[,t.headers[In]],[Jr]:[,t.headers[tn]],[dr]:[()=>t.headers[tr]!==void 0,()=>Wi(t.headers[tr])],[Vi]:[,t.headers[Ji]]});return await ji(t.body,e),r},kn=async(t,e)=>{const r={...t,body:await sx(t.body,e)},n=ix(t,r.body);switch(n){case"NoSuchUpload":case"com.amazonaws.s3#NoSuchUpload":throw await nA(r);case"ObjectNotInActiveTierError":case"com.amazonaws.s3#ObjectNotInActiveTierError":throw await oA(r);case"BucketAlreadyExists":case"com.amazonaws.s3#BucketAlreadyExists":throw await X1(r);case"BucketAlreadyOwnedByYou":case"com.amazonaws.s3#BucketAlreadyOwnedByYou":throw await Z1(r);case"NoSuchBucket":case"com.amazonaws.s3#NoSuchBucket":throw await tA(r);case"InvalidObjectState":case"com.amazonaws.s3#InvalidObjectState":throw await Q1(r);case"NoSuchKey":case"com.amazonaws.s3#NoSuchKey":throw await rA(r);case"NotFound":case"com.amazonaws.s3#NotFound":throw await sA(r);case"EncryptionTypeMismatch":case"com.amazonaws.s3#EncryptionTypeMismatch":throw await Y1(r);case"InvalidRequest":case"com.amazonaws.s3#InvalidRequest":throw await J1(r);case"InvalidWriteOffset":case"com.amazonaws.s3#InvalidWriteOffset":throw await eA(r);case"TooManyParts":case"com.amazonaws.s3#TooManyParts":throw await aA(r);case"ObjectAlreadyInActiveTierError":case"com.amazonaws.s3#ObjectAlreadyInActiveTierError":throw await iA(r);default:const s=r.body;return G1({output:t,parsedBody:s,errorCode:n})}},G1=Dv(Ft),X1=async(t,e)=>{const r=qe({});t.body;const n=new Ru({$metadata:wt(t),...r});return Gt(n,t.body)},Z1=async(t,e)=>{const r=qe({});t.body;const n=new Tu({$metadata:wt(t),...r});return Gt(n,t.body)},Y1=async(t,e)=>{const r=qe({});t.body;const n=new Nu({$metadata:wt(t),...r});return Gt(n,t.body)},Q1=async(t,e)=>{const r=qe({}),n=t.body;n[zc]!=null&&(r[zc]=At(n[zc])),n[Ks]!=null&&(r[Ks]=At(n[Ks]));const s=new Iu({$metadata:wt(t),...r});return Gt(s,t.body)},J1=async(t,e)=>{const r=qe({});t.body;const n=new Du({$metadata:wt(t),...r});return Gt(n,t.body)},eA=async(t,e)=>{const r=qe({});t.body;const n=new Fu({$metadata:wt(t),...r});return Gt(n,t.body)},tA=async(t,e)=>{const r=qe({});t.body;const n=new Pu({$metadata:wt(t),...r});return Gt(n,t.body)},rA=async(t,e)=>{const r=qe({});t.body;const n=new Bu({$metadata:wt(t),...r});return Gt(n,t.body)},nA=async(t,e)=>{const r=qe({});t.body;const n=new Cu({$metadata:wt(t),...r});return Gt(n,t.body)},sA=async(t,e)=>{const r=qe({});t.body;const n=new Mu({$metadata:wt(t),...r});return Gt(n,t.body)},iA=async(t,e)=>{const r=qe({});t.body;const n=new Lu({$metadata:wt(t),...r});return Gt(n,t.body)},oA=async(t,e)=>{const r=qe({});t.body;const n=new ku({$metadata:wt(t),...r});return Gt(n,t.body)},aA=async(t,e)=>{const r=qe({});t.body;const n=new Ou({$metadata:wt(t),...r});return Gt(n,t.body)},cA=(t,e)=>{const r=new vr(yA);return r.l(t,"Parts","Part",()=>uA(t[xA])),r},lA=(t,e)=>{const r=new vr(bA);return r.cc(t,Vn),r.cc(t,Cr),r.cc(t,kr),r.cc(t,Rr),r.cc(t,Tr),r.cc(t,Pr),t[Ls]!=null&&r.c(vr.of(Ls,String(t[Ls])).n(Ls)),r},uA=(t,e)=>t.filter(r=>r!=null).map(r=>lA(r).n(CA)),dA=(t,e)=>{const r=new vr(im);return t[Ir]!=null&&r.c(vr.of(vA,t[Ir]).n(Ir)),r.cc(t,_A),r},fA=(t,e)=>{const r=new vr(zu);return r.lc(t,"TagSet","TagSet",()=>hA(t[AA])),r},hA=(t,e)=>t.filter(r=>r!=null).map(r=>dA(r).n(im)),pA=(t,e)=>{const r={};return t[Uc]!=null&&(r[Uc]=At(t[Uc])),t[Hc]!=null&&(r[Hc]=At(t[Hc])),t[jc]!=null&&(r[jc]=At(t[jc])),t[Ws]!=null&&(r[Ws]=Br(xv(t[Ws]))),r},wt=t=>({httpStatusCode:t.statusCode,requestId:t.headers["x-amzn-requestid"]??t.headers["x-amzn-request-id"]??t.headers["x-amz-request-id"],extendedRequestId:t.headers["x-amz-id-2"],cfId:t.headers["x-amz-cf-id"]}),Wg="ACL",gA="AbortDate",Uc="AccessKeyId",mA="AbortRuleId",zc="AccessTier",Kn="Bucket",dr="BucketKeyEnabled",$c="Credentials",Ki="ChecksumAlgorithm",Kg="CacheControl",Cr="ChecksumCRC32",kr="ChecksumCRC32C",Rr="ChecksumCRC64NVME",Vg="ContentDisposition",Gg="ContentEncoding",Xg="ContentLanguage",$o="ContentLength",Uu="ContentMD5",yA="CompletedMultipartUpload",bA="CompletedPart",Tr="ChecksumSHA1",Pr="ChecksumSHA256",mn="ChecksumType",Zg="ContentType",qo="Expires",vs="ExpectedBucketOwner",Vn="ETag",Ws="Expiration",Yg="GrantFullControl",Qg="GrantRead",Jg="GrantReadACP",em="GrantWriteACP",tm="IfMatch",hh="IfMatchInitiatedTime",rm="IfNoneMatch",Ir="Key",qc="Location",wA="MpuObjectSize",vA="ObjectKey",nm="ObjectLockLegalHoldStatus",sm="ObjectLockMode",Ho="ObjectLockRetainUntilDate",Ls="PartNumber",xA="Parts",Vi="RequestCharged",xs="RequestPayer",Hc="SecretAccessKey",Ks="StorageClass",SA="SessionMode",Qr="ServerSideEncryption",Rn="SSECustomerAlgorithm",Na="SSECustomerKey",Tn="SSECustomerKeyMD5",Ss="SSEKMSEncryptionContext",Jr="SSEKMSKeyId",jc="SessionToken",EA="Size",zu="Tagging",AA="TagSet",im="Tag",Gn="UploadId",Da="VersionId",_A="Value",ph="WriteOffsetBytes",om="WebsiteRedirectLocation",am="cache-control",cm="content-disposition",lm="content-encoding",um="content-language",dm="content-length",$u="content-md5",fm="content-type",hm="expires",pm="etag",gm="if-match",mm="if-none-match",CA="member",kA="partNumber",RA="session",TA="tagging",PA="uploads",qu="uploadId",IA="versionId",ym='<?xml version="1.0" encoding="UTF-8"?>',bm="x-amz-acl",gh="x-amz-abort-date",BA="x-amz-abort-rule-id",wm="x-amz-checksum-algorithm",Gi="x-amz-checksum-crc32",Xi="x-amz-checksum-crc32c",Zi="x-amz-checksum-crc64nvme",Yi="x-amz-checksum-sha1",Qi="x-amz-checksum-sha256",MA="x-amz-create-session-mode",Fa="x-amz-checksum-type",vm="x-amz-expiration",Es="x-amz-expected-bucket-owner",xm="x-amz-grant-full-control",Sm="x-amz-grant-read",Em="x-amz-grant-read-acp",Am="x-amz-grant-write-acp",NA="x-amz-if-match-initiated-time",DA="x-amz-mp-object-size",_m="x-amz-object-lock-legal-hold",Cm="x-amz-object-lock-mode",km="x-amz-object-lock-retain-until-date",mh="x-amz-object-size",Ji="x-amz-request-charged",As="x-amz-request-payer",Rm="x-amz-storage-class",Hu="x-amz-sdk-checksum-algorithm",en="x-amz-server-side-encryption",tn="x-amz-server-side-encryption-aws-kms-key-id",tr="x-amz-server-side-encryption-bucket-key-enabled",_s="x-amz-server-side-encryption-context",Pn="x-amz-server-side-encryption-customer-algorithm",Oa="x-amz-server-side-encryption-customer-key",In="x-amz-server-side-encryption-customer-key-md5",Tm="x-amz-tagging",ju="x-amz-version-id",FA="x-amz-write-offset-bytes",Pm="x-amz-website-redirect-location",Wu="x-id";class OA extends Yr.classBuilder().ep({...Cn,DisableS3ExpressSessionAuth:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,r,n,s){return[xn(n,this.serialize,this.deserialize),An(n,e.getEndpointParameterInstructions()),En(n)]}).s("AmazonS3","CreateSession",{}).n("S3Client","CreateSessionCommand").f(C1,_1).ser(O1).de(j1).build(){}const LA="@aws-sdk/client-s3",UA="AWS SDK for JavaScript S3 Client for Node.js, Browser and React Native",zA="3.731.1",$A={build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-s3","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo s3",test:"yarn g:vitest run","test:browser":"node ./test/browser-build/esbuild && yarn g:vitest run -c vitest.config.browser.ts","test:browser:watch":"node ./test/browser-build/esbuild && yarn g:vitest watch -c vitest.config.browser.ts","test:e2e":"yarn g:vitest run -c vitest.config.e2e.ts && yarn test:browser","test:e2e:watch":"yarn g:vitest watch -c vitest.config.e2e.ts","test:watch":"yarn g:vitest watch"},qA="./dist-cjs/index.js",HA="./dist-types/index.d.ts",jA="./dist-es/index.js",WA=!1,KA={"@aws-crypto/sha1-browser":"5.2.0","@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.731.0","@aws-sdk/credential-provider-node":"3.731.1","@aws-sdk/middleware-bucket-endpoint":"3.731.0","@aws-sdk/middleware-expect-continue":"3.731.0","@aws-sdk/middleware-flexible-checksums":"3.731.0","@aws-sdk/middleware-host-header":"3.731.0","@aws-sdk/middleware-location-constraint":"3.731.0","@aws-sdk/middleware-logger":"3.731.0","@aws-sdk/middleware-recursion-detection":"3.731.0","@aws-sdk/middleware-sdk-s3":"3.731.0","@aws-sdk/middleware-ssec":"3.731.0","@aws-sdk/middleware-user-agent":"3.731.0","@aws-sdk/region-config-resolver":"3.731.0","@aws-sdk/signature-v4-multi-region":"3.731.0","@aws-sdk/types":"3.731.0","@aws-sdk/util-endpoints":"3.731.0","@aws-sdk/util-user-agent-browser":"3.731.0","@aws-sdk/util-user-agent-node":"3.731.0","@aws-sdk/xml-builder":"3.723.0","@smithy/config-resolver":"^4.0.0","@smithy/core":"^3.0.0","@smithy/eventstream-serde-browser":"^4.0.0","@smithy/eventstream-serde-config-resolver":"^4.0.0","@smithy/eventstream-serde-node":"^4.0.0","@smithy/fetch-http-handler":"^5.0.0","@smithy/hash-blob-browser":"^4.0.0","@smithy/hash-node":"^4.0.0","@smithy/hash-stream-node":"^4.0.0","@smithy/invalid-dependency":"^4.0.0","@smithy/md5-js":"^4.0.0","@smithy/middleware-content-length":"^4.0.0","@smithy/middleware-endpoint":"^4.0.0","@smithy/middleware-retry":"^4.0.0","@smithy/middleware-serde":"^4.0.0","@smithy/middleware-stack":"^4.0.0","@smithy/node-config-provider":"^4.0.0","@smithy/node-http-handler":"^4.0.0","@smithy/protocol-http":"^5.0.0","@smithy/smithy-client":"^4.0.0","@smithy/types":"^4.0.0","@smithy/url-parser":"^4.0.0","@smithy/util-base64":"^4.0.0","@smithy/util-body-length-browser":"^4.0.0","@smithy/util-body-length-node":"^4.0.0","@smithy/util-defaults-mode-browser":"^4.0.0","@smithy/util-defaults-mode-node":"^4.0.0","@smithy/util-endpoints":"^3.0.0","@smithy/util-middleware":"^4.0.0","@smithy/util-retry":"^4.0.0","@smithy/util-stream":"^4.0.0","@smithy/util-utf8":"^4.0.0","@smithy/util-waiter":"^4.0.0",tslib:"^2.6.2"},VA={"@aws-sdk/signature-v4-crt":"3.731.0","@tsconfig/node18":"18.2.4","@types/node":"^18.19.69",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.2.2"},GA={node:">=18.0.0"},XA={"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},ZA=["dist-*/**"],YA={name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},QA="Apache-2.0",JA={"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},e_="https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-s3",t_={type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-s3"},r_={name:LA,description:UA,version:zA,scripts:$A,main:qA,types:HA,module:jA,sideEffects:WA,dependencies:KA,devDependencies:VA,engines:GA,typesVersions:XA,files:ZA,author:YA,license:QA,browser:JA,"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:e_,repository:t_},n_=t=>new TextEncoder().encode(t);function yh(t){return typeof t=="string"?t.length===0:t.byteLength===0}var Im={name:"SHA-1"},bh={name:"HMAC",hash:Im},s_=new Uint8Array([218,57,163,238,94,107,75,13,50,85,191,239,149,96,24,144,175,216,7,9]);const i_={};function jr(){return typeof window<"u"?window:typeof self<"u"?self:i_}var o_=function(){function t(e){this.toHash=new Uint8Array(0),e!==void 0&&(this.key=new Promise(function(r,n){jr().crypto.subtle.importKey("raw",wh(e),bh,!1,["sign"]).then(r,n)}),this.key.catch(function(){}))}return t.prototype.update=function(e){if(!yh(e)){var r=wh(e),n=new Uint8Array(this.toHash.byteLength+r.byteLength);n.set(this.toHash,0),n.set(r,this.toHash.byteLength),this.toHash=n}},t.prototype.digest=function(){var e=this;return this.key?this.key.then(function(r){return jr().crypto.subtle.sign(bh,r,e.toHash).then(function(n){return new Uint8Array(n)})}):yh(this.toHash)?Promise.resolve(s_):Promise.resolve().then(function(){return jr().crypto.subtle.digest(Im,e.toHash)}).then(function(r){return Promise.resolve(new Uint8Array(r))})},t.prototype.reset=function(){this.toHash=new Uint8Array(0)},t}();function wh(t){return typeof t=="string"?n_(t):ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(t)}var a_=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];function Bm(t){if(c_(t)&&typeof t.crypto.subtle=="object"){var e=t.crypto.subtle;return l_(e)}return!1}function c_(t){if(typeof t=="object"&&typeof t.crypto=="object"){var e=t.crypto.getRandomValues;return typeof e=="function"}return!1}function l_(t){return t&&a_.every(function(e){return typeof t[e]=="function"})}var u_=function(){function t(e){if(Bm(jr()))this.hash=new o_(e);else throw new Error("SHA1 not supported")}return t.prototype.update=function(e,r){this.hash.update(Kr(e))},t.prototype.digest=function(){return this.hash.digest()},t.prototype.reset=function(){this.hash.reset()},t}(),Mm={name:"SHA-256"},vh={name:"HMAC",hash:Mm},d_=new Uint8Array([227,176,196,66,152,252,28,20,154,251,244,200,153,111,185,36,39,174,65,228,100,155,147,76,164,149,153,27,120,82,184,85]),f_=function(){function t(e){this.toHash=new Uint8Array(0),this.secret=e,this.reset()}return t.prototype.update=function(e){if(!ei(e)){var r=Kr(e),n=new Uint8Array(this.toHash.byteLength+r.byteLength);n.set(this.toHash,0),n.set(r,this.toHash.byteLength),this.toHash=n}},t.prototype.digest=function(){var e=this;return this.key?this.key.then(function(r){return jr().crypto.subtle.sign(vh,r,e.toHash).then(function(n){return new Uint8Array(n)})}):ei(this.toHash)?Promise.resolve(d_):Promise.resolve().then(function(){return jr().crypto.subtle.digest(Mm,e.toHash)}).then(function(r){return Promise.resolve(new Uint8Array(r))})},t.prototype.reset=function(){var e=this;this.toHash=new Uint8Array(0),this.secret&&this.secret!==void 0&&(this.key=new Promise(function(r,n){jr().crypto.subtle.importKey("raw",Kr(e.secret),vh,!1,["sign"]).then(r,n)}),this.key.catch(function(){}))},t}(),sr=64,h_=32,p_=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),g_=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],m_=Math.pow(2,53)-1,_o=function(){function t(){this.state=Int32Array.from(g_),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return t.prototype.update=function(e){if(this.finished)throw new Error("Attempted to update an already finished hash.");var r=0,n=e.byteLength;if(this.bytesHashed+=n,this.bytesHashed*8>m_)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;n>0;)this.buffer[this.bufferLength++]=e[r++],n--,this.bufferLength===sr&&(this.hashBuffer(),this.bufferLength=0)},t.prototype.digest=function(){if(!this.finished){var e=this.bytesHashed*8,r=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),n=this.bufferLength;if(r.setUint8(this.bufferLength++,128),n%sr>=sr-8){for(var s=this.bufferLength;s<sr;s++)r.setUint8(s,0);this.hashBuffer(),this.bufferLength=0}for(var s=this.bufferLength;s<sr-8;s++)r.setUint8(s,0);r.setUint32(sr-8,Math.floor(e/4294967296),!0),r.setUint32(sr-4,e),this.hashBuffer(),this.finished=!0}for(var i=new Uint8Array(h_),s=0;s<8;s++)i[s*4]=this.state[s]>>>24&255,i[s*4+1]=this.state[s]>>>16&255,i[s*4+2]=this.state[s]>>>8&255,i[s*4+3]=this.state[s]>>>0&255;return i},t.prototype.hashBuffer=function(){for(var e=this,r=e.buffer,n=e.state,s=n[0],i=n[1],o=n[2],a=n[3],c=n[4],l=n[5],u=n[6],f=n[7],h=0;h<sr;h++){if(h<16)this.temp[h]=(r[h*4]&255)<<24|(r[h*4+1]&255)<<16|(r[h*4+2]&255)<<8|r[h*4+3]&255;else{var g=this.temp[h-2],y=(g>>>17|g<<15)^(g>>>19|g<<13)^g>>>10;g=this.temp[h-15];var A=(g>>>7|g<<25)^(g>>>18|g<<14)^g>>>3;this.temp[h]=(y+this.temp[h-7]|0)+(A+this.temp[h-16]|0)}var E=(((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))+(c&l^~c&u)|0)+(f+(p_[h]+this.temp[h]|0)|0)|0,m=((s>>>2|s<<30)^(s>>>13|s<<19)^(s>>>22|s<<10))+(s&i^s&o^i&o)|0;f=u,u=l,l=c,c=a+E|0,a=o,o=i,i=s,s=E+m|0}n[0]+=s,n[1]+=i,n[2]+=o,n[3]+=a,n[4]+=c,n[5]+=l,n[6]+=u,n[7]+=f},t}(),y_=function(){function t(e){this.secret=e,this.hash=new _o,this.reset()}return t.prototype.update=function(e){if(!(ei(e)||this.error))try{this.hash.update(Kr(e))}catch(r){this.error=r}},t.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},t.prototype.digest=function(){return fu(this,void 0,void 0,function(){return hu(this,function(e){return[2,this.digestSync()]})})},t.prototype.reset=function(){if(this.hash=new _o,this.secret){this.outer=new _o;var e=b_(this.secret),r=new Uint8Array(sr);r.set(e);for(var n=0;n<sr;n++)e[n]^=54,r[n]^=92;this.hash.update(e),this.outer.update(r);for(var n=0;n<e.byteLength;n++)e[n]=0}},t}();function b_(t){var e=Kr(t);if(e.byteLength>sr){var r=new _o;r.update(e),e=r.digest()}var n=new Uint8Array(sr);return n.set(e),n}var w_=function(){function t(e){Bm(jr())?this.hash=new f_(e):this.hash=new y_(e)}return t.prototype.update=function(e,r){this.hash.update(Kr(e))},t.prototype.digest=function(){return this.hash.digest()},t.prototype.reset=function(){this.hash.reset()},t}();const v_={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},Nm={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},lt={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},Ut={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},Lr={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"};class G{static getFirstMatch(e,r){const n=r.match(e);return n&&n.length>0&&n[1]||""}static getSecondMatch(e,r){const n=r.match(e);return n&&n.length>1&&n[2]||""}static matchAndReturnConst(e,r,n){if(e.test(r))return n}static getWindowsVersionName(e){switch(e){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}static getMacOSVersionName(e){const r=e.split(".").splice(0,2).map(n=>parseInt(n,10)||0);if(r.push(0),r[0]===10)switch(r[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}}static getAndroidVersionName(e){const r=e.split(".").splice(0,2).map(n=>parseInt(n,10)||0);if(r.push(0),!(r[0]===1&&r[1]<5)){if(r[0]===1&&r[1]<6)return"Cupcake";if(r[0]===1&&r[1]>=6)return"Donut";if(r[0]===2&&r[1]<2)return"Eclair";if(r[0]===2&&r[1]===2)return"Froyo";if(r[0]===2&&r[1]>2)return"Gingerbread";if(r[0]===3)return"Honeycomb";if(r[0]===4&&r[1]<1)return"Ice Cream Sandwich";if(r[0]===4&&r[1]<4)return"Jelly Bean";if(r[0]===4&&r[1]>=4)return"KitKat";if(r[0]===5)return"Lollipop";if(r[0]===6)return"Marshmallow";if(r[0]===7)return"Nougat";if(r[0]===8)return"Oreo";if(r[0]===9)return"Pie"}}static getVersionPrecision(e){return e.split(".").length}static compareVersions(e,r,n=!1){const s=G.getVersionPrecision(e),i=G.getVersionPrecision(r);let o=Math.max(s,i),a=0;const c=G.map([e,r],l=>{const u=o-G.getVersionPrecision(l),f=l+new Array(u+1).join(".0");return G.map(f.split("."),h=>new Array(20-h.length).join("0")+h).reverse()});for(n&&(a=o-Math.min(s,i)),o-=1;o>=a;){if(c[0][o]>c[1][o])return 1;if(c[0][o]===c[1][o]){if(o===a)return 0;o-=1}else if(c[0][o]<c[1][o])return-1}}static map(e,r){const n=[];let s;if(Array.prototype.map)return Array.prototype.map.call(e,r);for(s=0;s<e.length;s+=1)n.push(r(e[s]));return n}static find(e,r){let n,s;if(Array.prototype.find)return Array.prototype.find.call(e,r);for(n=0,s=e.length;n<s;n+=1){const i=e[n];if(r(i,n))return i}}static assign(e,...r){const n=e;let s,i;if(Object.assign)return Object.assign(e,...r);for(s=0,i=r.length;s<i;s+=1){const o=r[s];typeof o=="object"&&o!==null&&Object.keys(o).forEach(c=>{n[c]=o[c]})}return e}static getBrowserAlias(e){return v_[e]}static getBrowserTypeByAlias(e){return Nm[e]||""}}const rt=/version\/(\d+(\.?_?\d+)+)/i,x_=[{test:[/googlebot/i],describe(t){const e={name:"Googlebot"},r=G.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,t)||G.getFirstMatch(rt,t);return r&&(e.version=r),e}},{test:[/opera/i],describe(t){const e={name:"Opera"},r=G.getFirstMatch(rt,t)||G.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/opr\/|opios/i],describe(t){const e={name:"Opera"},r=G.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,t)||G.getFirstMatch(rt,t);return r&&(e.version=r),e}},{test:[/SamsungBrowser/i],describe(t){const e={name:"Samsung Internet for Android"},r=G.getFirstMatch(rt,t)||G.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/Whale/i],describe(t){const e={name:"NAVER Whale Browser"},r=G.getFirstMatch(rt,t)||G.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/MZBrowser/i],describe(t){const e={name:"MZ Browser"},r=G.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,t)||G.getFirstMatch(rt,t);return r&&(e.version=r),e}},{test:[/focus/i],describe(t){const e={name:"Focus"},r=G.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,t)||G.getFirstMatch(rt,t);return r&&(e.version=r),e}},{test:[/swing/i],describe(t){const e={name:"Swing"},r=G.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,t)||G.getFirstMatch(rt,t);return r&&(e.version=r),e}},{test:[/coast/i],describe(t){const e={name:"Opera Coast"},r=G.getFirstMatch(rt,t)||G.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe(t){const e={name:"Opera Touch"},r=G.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,t)||G.getFirstMatch(rt,t);return r&&(e.version=r),e}},{test:[/yabrowser/i],describe(t){const e={name:"Yandex Browser"},r=G.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,t)||G.getFirstMatch(rt,t);return r&&(e.version=r),e}},{test:[/ucbrowser/i],describe(t){const e={name:"UC Browser"},r=G.getFirstMatch(rt,t)||G.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/Maxthon|mxios/i],describe(t){const e={name:"Maxthon"},r=G.getFirstMatch(rt,t)||G.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/epiphany/i],describe(t){const e={name:"Epiphany"},r=G.getFirstMatch(rt,t)||G.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/puffin/i],describe(t){const e={name:"Puffin"},r=G.getFirstMatch(rt,t)||G.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/sleipnir/i],describe(t){const e={name:"Sleipnir"},r=G.getFirstMatch(rt,t)||G.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/k-meleon/i],describe(t){const e={name:"K-Meleon"},r=G.getFirstMatch(rt,t)||G.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/micromessenger/i],describe(t){const e={name:"WeChat"},r=G.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,t)||G.getFirstMatch(rt,t);return r&&(e.version=r),e}},{test:[/qqbrowser/i],describe(t){const e={name:/qqbrowserlite/i.test(t)?"QQ Browser Lite":"QQ Browser"},r=G.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,t)||G.getFirstMatch(rt,t);return r&&(e.version=r),e}},{test:[/msie|trident/i],describe(t){const e={name:"Internet Explorer"},r=G.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/\sedg\//i],describe(t){const e={name:"Microsoft Edge"},r=G.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/edg([ea]|ios)/i],describe(t){const e={name:"Microsoft Edge"},r=G.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/vivaldi/i],describe(t){const e={name:"Vivaldi"},r=G.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/seamonkey/i],describe(t){const e={name:"SeaMonkey"},r=G.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/sailfish/i],describe(t){const e={name:"Sailfish"},r=G.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,t);return r&&(e.version=r),e}},{test:[/silk/i],describe(t){const e={name:"Amazon Silk"},r=G.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/phantom/i],describe(t){const e={name:"PhantomJS"},r=G.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/slimerjs/i],describe(t){const e={name:"SlimerJS"},r=G.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(t){const e={name:"BlackBerry"},r=G.getFirstMatch(rt,t)||G.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/(web|hpw)[o0]s/i],describe(t){const e={name:"WebOS Browser"},r=G.getFirstMatch(rt,t)||G.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/bada/i],describe(t){const e={name:"Bada"},r=G.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/tizen/i],describe(t){const e={name:"Tizen"},r=G.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,t)||G.getFirstMatch(rt,t);return r&&(e.version=r),e}},{test:[/qupzilla/i],describe(t){const e={name:"QupZilla"},r=G.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,t)||G.getFirstMatch(rt,t);return r&&(e.version=r),e}},{test:[/firefox|iceweasel|fxios/i],describe(t){const e={name:"Firefox"},r=G.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/electron/i],describe(t){const e={name:"Electron"},r=G.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/MiuiBrowser/i],describe(t){const e={name:"Miui"},r=G.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/chromium/i],describe(t){const e={name:"Chromium"},r=G.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,t)||G.getFirstMatch(rt,t);return r&&(e.version=r),e}},{test:[/chrome|crios|crmo/i],describe(t){const e={name:"Chrome"},r=G.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/GSA/i],describe(t){const e={name:"Google Search"},r=G.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test(t){const e=!t.test(/like android/i),r=t.test(/android/i);return e&&r},describe(t){const e={name:"Android Browser"},r=G.getFirstMatch(rt,t);return r&&(e.version=r),e}},{test:[/playstation 4/i],describe(t){const e={name:"PlayStation 4"},r=G.getFirstMatch(rt,t);return r&&(e.version=r),e}},{test:[/safari|applewebkit/i],describe(t){const e={name:"Safari"},r=G.getFirstMatch(rt,t);return r&&(e.version=r),e}},{test:[/.*/i],describe(t){const e=/^(.*)\/(.*) /,r=/^(.*)\/(.*)[ \t]\((.*)/,s=t.search("\\(")!==-1?r:e;return{name:G.getFirstMatch(s,t),version:G.getSecondMatch(s,t)}}}],S_=[{test:[/Roku\/DVP/],describe(t){const e=G.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,t);return{name:Ut.Roku,version:e}}},{test:[/windows phone/i],describe(t){const e=G.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,t);return{name:Ut.WindowsPhone,version:e}}},{test:[/windows /i],describe(t){const e=G.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,t),r=G.getWindowsVersionName(e);return{name:Ut.Windows,version:e,versionName:r}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(t){const e={name:Ut.iOS},r=G.getSecondMatch(/(Version\/)(\d[\d.]+)/,t);return r&&(e.version=r),e}},{test:[/macintosh/i],describe(t){const e=G.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,t).replace(/[_\s]/g,"."),r=G.getMacOSVersionName(e),n={name:Ut.MacOS,version:e};return r&&(n.versionName=r),n}},{test:[/(ipod|iphone|ipad)/i],describe(t){const e=G.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,t).replace(/[_\s]/g,".");return{name:Ut.iOS,version:e}}},{test(t){const e=!t.test(/like android/i),r=t.test(/android/i);return e&&r},describe(t){const e=G.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,t),r=G.getAndroidVersionName(e),n={name:Ut.Android,version:e};return r&&(n.versionName=r),n}},{test:[/(web|hpw)[o0]s/i],describe(t){const e=G.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,t),r={name:Ut.WebOS};return e&&e.length&&(r.version=e),r}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(t){const e=G.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,t)||G.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,t)||G.getFirstMatch(/\bbb(\d+)/i,t);return{name:Ut.BlackBerry,version:e}}},{test:[/bada/i],describe(t){const e=G.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,t);return{name:Ut.Bada,version:e}}},{test:[/tizen/i],describe(t){const e=G.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,t);return{name:Ut.Tizen,version:e}}},{test:[/linux/i],describe(){return{name:Ut.Linux}}},{test:[/CrOS/],describe(){return{name:Ut.ChromeOS}}},{test:[/PlayStation 4/],describe(t){const e=G.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,t);return{name:Ut.PlayStation4,version:e}}}],E_=[{test:[/googlebot/i],describe(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe(t){const e=G.getFirstMatch(/(can-l01)/i,t)&&"Nova",r={type:lt.mobile,vendor:"Huawei"};return e&&(r.model=e),r}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe(){return{type:lt.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe(){return{type:lt.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(){return{type:lt.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe(){return{type:lt.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe(){return{type:lt.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe(){return{type:lt.tablet}}},{test(t){const e=t.test(/ipod|iphone/i),r=t.test(/like (ipod|iphone)/i);return e&&!r},describe(t){const e=G.getFirstMatch(/(ipod|iphone)/i,t);return{type:lt.mobile,vendor:"Apple",model:e}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe(){return{type:lt.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe(){return{type:lt.mobile}}},{test(t){return t.getBrowserName(!0)==="blackberry"},describe(){return{type:lt.mobile,vendor:"BlackBerry"}}},{test(t){return t.getBrowserName(!0)==="bada"},describe(){return{type:lt.mobile}}},{test(t){return t.getBrowserName()==="windows phone"},describe(){return{type:lt.mobile,vendor:"Microsoft"}}},{test(t){const e=Number(String(t.getOSVersion()).split(".")[0]);return t.getOSName(!0)==="android"&&e>=3},describe(){return{type:lt.tablet}}},{test(t){return t.getOSName(!0)==="android"},describe(){return{type:lt.mobile}}},{test(t){return t.getOSName(!0)==="macos"},describe(){return{type:lt.desktop,vendor:"Apple"}}},{test(t){return t.getOSName(!0)==="windows"},describe(){return{type:lt.desktop}}},{test(t){return t.getOSName(!0)==="linux"},describe(){return{type:lt.desktop}}},{test(t){return t.getOSName(!0)==="playstation 4"},describe(){return{type:lt.tv}}},{test(t){return t.getOSName(!0)==="roku"},describe(){return{type:lt.tv}}}],A_=[{test(t){return t.getBrowserName(!0)==="microsoft edge"},describe(t){if(/\sedg\//i.test(t))return{name:Lr.Blink};const r=G.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,t);return{name:Lr.EdgeHTML,version:r}}},{test:[/trident/i],describe(t){const e={name:Lr.Trident},r=G.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test(t){return t.test(/presto/i)},describe(t){const e={name:Lr.Presto},r=G.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test(t){const e=t.test(/gecko/i),r=t.test(/like gecko/i);return e&&!r},describe(t){const e={name:Lr.Gecko},r=G.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/(apple)?webkit\/537\.36/i],describe(){return{name:Lr.Blink}}},{test:[/(apple)?webkit/i],describe(t){const e={name:Lr.WebKit},r=G.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}}];class xh{constructor(e,r=!1){if(e==null||e==="")throw new Error("UserAgent parameter can't be empty");this._ua=e,this.parsedResult={},r!==!0&&this.parse()}getUA(){return this._ua}test(e){return e.test(this._ua)}parseBrowser(){this.parsedResult.browser={};const e=G.find(x_,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.browser=e.describe(this.getUA())),this.parsedResult.browser}getBrowser(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()}getBrowserName(e){return e?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""}getBrowserVersion(){return this.getBrowser().version}getOS(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()}parseOS(){this.parsedResult.os={};const e=G.find(S_,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.os=e.describe(this.getUA())),this.parsedResult.os}getOSName(e){const{name:r}=this.getOS();return e?String(r).toLowerCase()||"":r||""}getOSVersion(){return this.getOS().version}getPlatform(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()}getPlatformType(e=!1){const{type:r}=this.getPlatform();return e?String(r).toLowerCase()||"":r||""}parsePlatform(){this.parsedResult.platform={};const e=G.find(E_,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.platform=e.describe(this.getUA())),this.parsedResult.platform}getEngine(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()}getEngineName(e){return e?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""}parseEngine(){this.parsedResult.engine={};const e=G.find(A_,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.engine=e.describe(this.getUA())),this.parsedResult.engine}parse(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this}getResult(){return G.assign({},this.parsedResult)}satisfies(e){const r={};let n=0;const s={};let i=0;if(Object.keys(e).forEach(a=>{const c=e[a];typeof c=="string"?(s[a]=c,i+=1):typeof c=="object"&&(r[a]=c,n+=1)}),n>0){const a=Object.keys(r),c=G.find(a,u=>this.isOS(u));if(c){const u=this.satisfies(r[c]);if(u!==void 0)return u}const l=G.find(a,u=>this.isPlatform(u));if(l){const u=this.satisfies(r[l]);if(u!==void 0)return u}}if(i>0){const a=Object.keys(s),c=G.find(a,l=>this.isBrowser(l,!0));if(c!==void 0)return this.compareVersion(s[c])}}isBrowser(e,r=!1){const n=this.getBrowserName().toLowerCase();let s=e.toLowerCase();const i=G.getBrowserTypeByAlias(s);return r&&i&&(s=i.toLowerCase()),s===n}compareVersion(e){let r=[0],n=e,s=!1;const i=this.getBrowserVersion();if(typeof i=="string")return e[0]===">"||e[0]==="<"?(n=e.substr(1),e[1]==="="?(s=!0,n=e.substr(2)):r=[],e[0]===">"?r.push(1):r.push(-1)):e[0]==="="?n=e.substr(1):e[0]==="~"&&(s=!0,n=e.substr(1)),r.indexOf(G.compareVersions(i,n,s))>-1}isOS(e){return this.getOSName(!0)===String(e).toLowerCase()}isPlatform(e){return this.getPlatformType(!0)===String(e).toLowerCase()}isEngine(e){return this.getEngineName(!0)===String(e).toLowerCase()}is(e,r=!1){return this.isBrowser(e,r)||this.isOS(e)||this.isPlatform(e)}some(e=[]){return e.some(r=>this.is(r))}}/*!
 * Bowser - a browser detector
 * https://github.com/lancedikson/bowser
 * MIT License | (c) Dustin Diaz 2012-2015
 * MIT License | (c) Denis Demchenko 2015-2019
 */class Dm{static getParser(e,r=!1){if(typeof e!="string")throw new Error("UserAgent should be a string");return new xh(e,r)}static parse(e){return new xh(e).getResult()}static get BROWSER_MAP(){return Nm}static get ENGINE_MAP(){return Lr}static get OS_MAP(){return Ut}static get PLATFORMS_MAP(){return lt}}const __=({serviceId:t,clientVersion:e})=>async r=>{var o,a,c,l,u,f;const n=typeof window<"u"&&((o=window==null?void 0:window.navigator)!=null&&o.userAgent)?Dm.parse(window.navigator.userAgent):void 0,s=[["aws-sdk-js",e],["ua","2.1"],[`os/${((a=n==null?void 0:n.os)==null?void 0:a.name)||"other"}`,(c=n==null?void 0:n.os)==null?void 0:c.version],["lang/js"],["md/browser",`${((l=n==null?void 0:n.browser)==null?void 0:l.name)??"unknown"}_${((u=n==null?void 0:n.browser)==null?void 0:u.version)??"unknown"}`]];t&&s.push([`api/${t}`,e]);const i=await((f=r==null?void 0:r.userAgentAppId)==null?void 0:f.call(r));return i&&s.push([`app/${i}`]),s};class Vs{constructor(e){if(this.bytes=e,e.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(e){if(e>9223372036854776e3||e<-9223372036854776e3)throw new Error(`${e} is too large (or, if negative, too small) to represent as an Int64`);const r=new Uint8Array(8);for(let n=7,s=Math.abs(Math.round(e));n>-1&&s>0;n--,s/=256)r[n]=s;return e<0&&Sh(r),new Vs(r)}valueOf(){const e=this.bytes.slice(0),r=e[0]&128;return r&&Sh(e),parseInt(Kt(e),16)*(r?-1:1)}toString(){return String(this.valueOf())}}function Sh(t){for(let e=0;e<8;e++)t[e]^=255;for(let e=7;e>-1&&(t[e]++,t[e]===0);e--);}class C_{constructor(e,r){this.toUtf8=e,this.fromUtf8=r}format(e){const r=[];for(const i of Object.keys(e)){const o=this.fromUtf8(i);r.push(Uint8Array.from([o.byteLength]),o,this.formatHeaderValue(e[i]))}const n=new Uint8Array(r.reduce((i,o)=>i+o.byteLength,0));let s=0;for(const i of r)n.set(i,s),s+=i.byteLength;return n}formatHeaderValue(e){switch(e.type){case"boolean":return Uint8Array.from([e.value?0:1]);case"byte":return Uint8Array.from([2,e.value]);case"short":const r=new DataView(new ArrayBuffer(3));return r.setUint8(0,3),r.setInt16(1,e.value,!1),new Uint8Array(r.buffer);case"integer":const n=new DataView(new ArrayBuffer(5));return n.setUint8(0,4),n.setInt32(1,e.value,!1),new Uint8Array(n.buffer);case"long":const s=new Uint8Array(9);return s[0]=5,s.set(e.value.bytes,1),s;case"binary":const i=new DataView(new ArrayBuffer(3+e.value.byteLength));i.setUint8(0,6),i.setUint16(1,e.value.byteLength,!1);const o=new Uint8Array(i.buffer);return o.set(e.value,3),o;case"string":const a=this.fromUtf8(e.value),c=new DataView(new ArrayBuffer(3+a.byteLength));c.setUint8(0,7),c.setUint16(1,a.byteLength,!1);const l=new Uint8Array(c.buffer);return l.set(a,3),l;case"timestamp":const u=new Uint8Array(9);return u[0]=8,u.set(Vs.fromNumber(e.value.valueOf()).bytes,1),u;case"uuid":if(!D_.test(e.value))throw new Error(`Invalid UUID received: ${e.value}`);const f=new Uint8Array(17);return f[0]=9,f.set(Up(e.value.replace(/\-/g,"")),1),f}}parse(e){const r={};let n=0;for(;n<e.byteLength;){const s=e.getUint8(n++),i=this.toUtf8(new Uint8Array(e.buffer,e.byteOffset+n,s));switch(n+=s,e.getUint8(n++)){case 0:r[i]={type:Ah,value:!0};break;case 1:r[i]={type:Ah,value:!1};break;case 2:r[i]={type:k_,value:e.getInt8(n++)};break;case 3:r[i]={type:R_,value:e.getInt16(n,!1)},n+=2;break;case 4:r[i]={type:T_,value:e.getInt32(n,!1)},n+=4;break;case 5:r[i]={type:P_,value:new Vs(new Uint8Array(e.buffer,e.byteOffset+n,8))},n+=8;break;case 6:const o=e.getUint16(n,!1);n+=2,r[i]={type:I_,value:new Uint8Array(e.buffer,e.byteOffset+n,o)},n+=o;break;case 7:const a=e.getUint16(n,!1);n+=2,r[i]={type:B_,value:this.toUtf8(new Uint8Array(e.buffer,e.byteOffset+n,a))},n+=a;break;case 8:r[i]={type:M_,value:new Date(new Vs(new Uint8Array(e.buffer,e.byteOffset+n,8)).valueOf())},n+=8;break;case 9:const c=new Uint8Array(e.buffer,e.byteOffset+n,16);n+=16,r[i]={type:N_,value:`${Kt(c.subarray(0,4))}-${Kt(c.subarray(4,6))}-${Kt(c.subarray(6,8))}-${Kt(c.subarray(8,10))}-${Kt(c.subarray(10))}`};break;default:throw new Error("Unrecognized header type tag")}}return r}}var Eh;(function(t){t[t.boolTrue=0]="boolTrue",t[t.boolFalse=1]="boolFalse",t[t.byte=2]="byte",t[t.short=3]="short",t[t.integer=4]="integer",t[t.long=5]="long",t[t.byteArray=6]="byteArray",t[t.string=7]="string",t[t.timestamp=8]="timestamp",t[t.uuid=9]="uuid"})(Eh||(Eh={}));const Ah="boolean",k_="byte",R_="short",T_="integer",P_="long",I_="binary",B_="string",M_="timestamp",N_="uuid",D_=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,Fm=4,Ur=Fm*2,sn=4,F_=Ur+sn*2;function O_({byteLength:t,byteOffset:e,buffer:r}){if(t<F_)throw new Error("Provided message too short to accommodate event stream message overhead");const n=new DataView(r,e,t),s=n.getUint32(0,!1);if(t!==s)throw new Error("Reported message length does not match received message length");const i=n.getUint32(Fm,!1),o=n.getUint32(Ur,!1),a=n.getUint32(t-sn,!1),c=new Mo().update(new Uint8Array(r,e,Ur));if(o!==c.digest())throw new Error(`The prelude checksum specified in the message (${o}) does not match the calculated CRC32 checksum (${c.digest()})`);if(c.update(new Uint8Array(r,e+Ur,t-(Ur+sn))),a!==c.digest())throw new Error(`The message checksum (${c.digest()}) did not match the expected value of ${a}`);return{headers:new DataView(r,e+Ur+sn,i),body:new Uint8Array(r,e+Ur+sn+i,s-i-(Ur+sn+sn))}}class L_{constructor(e,r){this.headerMarshaller=new C_(e,r),this.messageBuffer=[],this.isEndOfStream=!1}feed(e){this.messageBuffer.push(this.decode(e))}endOfStream(){this.isEndOfStream=!0}getMessage(){const e=this.messageBuffer.pop(),r=this.isEndOfStream;return{getMessage(){return e},isEndOfStream(){return r}}}getAvailableMessages(){const e=this.messageBuffer;this.messageBuffer=[];const r=this.isEndOfStream;return{getMessages(){return e},isEndOfStream(){return r}}}encode({headers:e,body:r}){const n=this.headerMarshaller.format(e),s=n.byteLength+r.byteLength+16,i=new Uint8Array(s),o=new DataView(i.buffer,i.byteOffset,i.byteLength),a=new Mo;return o.setUint32(0,s,!1),o.setUint32(4,n.byteLength,!1),o.setUint32(8,a.update(i.subarray(0,8)).digest(),!1),i.set(n,12),i.set(r,n.byteLength+12),o.setUint32(s-4,a.update(i.subarray(8,s-4)).digest(),!1),i}decode(e){const{headers:r,body:n}=O_(e);return{headers:this.headerMarshaller.parse(r),body:n}}formatHeaders(e){return this.headerMarshaller.format(e)}}class U_{constructor(e){this.options=e}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(const e of this.options.inputStream)yield this.options.decoder.decode(e)}}class z_{constructor(e){this.options=e}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(const e of this.options.messageStream)yield this.options.encoder.encode(e);this.options.includeEndFrame&&(yield new Uint8Array(0))}}class $_{constructor(e){this.options=e}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(const e of this.options.messageStream){const r=await this.options.deserializer(e);r!==void 0&&(yield r)}}}class q_{constructor(e){this.options=e}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(const e of this.options.inputStream)yield this.options.serializer(e)}}function H_(t){let e=0,r=0,n=null,s=null;const i=a=>{if(typeof a!="number")throw new Error("Attempted to allocate an event message where size was not a number: "+a);e=a,r=4,n=new Uint8Array(a),new DataView(n.buffer).setUint32(0,a,!1)},o=async function*(){const a=t[Symbol.asyncIterator]();for(;;){const{value:c,done:l}=await a.next();if(l){if(e)if(e===r)yield n;else throw new Error("Truncated event message received.");else return;return}const u=c.length;let f=0;for(;f<u;){if(!n){const g=u-f;s||(s=new Uint8Array(4));const y=Math.min(4-r,g);if(s.set(c.slice(f,f+y),r),r+=y,f+=y,r<4)break;i(new DataView(s.buffer).getUint32(0,!1)),s=null}const h=Math.min(e-r,u-f);n.set(c.slice(f,f+h),r),r+=h,f+=h,e&&e===r&&(yield n,n=null,e=0,r=0)}}};return{[Symbol.asyncIterator]:o}}function j_(t,e){return async function(r){const{value:n}=r.headers[":message-type"];if(n==="error"){const s=new Error(r.headers[":error-message"].value||"UnknownError");throw s.name=r.headers[":error-code"].value,s}else if(n==="exception"){const s=r.headers[":exception-type"].value,i={[s]:r},o=await t(i);if(o.$unknown){const a=new Error(e(r.body));throw a.name=s,a}throw o[s]}else if(n==="event"){const s={[r.headers[":event-type"].value]:r},i=await t(s);return i.$unknown?void 0:i}else throw Error(`Unrecognizable event type: ${r.headers[":event-type"].value}`)}}let W_=class{constructor({utf8Encoder:e,utf8Decoder:r}){this.eventStreamCodec=new L_(e,r),this.utfEncoder=e}deserialize(e,r){const n=H_(e);return new $_({messageStream:new U_({inputStream:n,decoder:this.eventStreamCodec}),deserializer:j_(r,this.utfEncoder)})}serialize(e,r){return new z_({messageStream:new q_({inputStream:e,serializer:r}),encoder:this.eventStreamCodec,includeEndFrame:!0})}};const K_=t=>({[Symbol.asyncIterator]:async function*(){const e=t.getReader();try{for(;;){const{done:r,value:n}=await e.read();if(r)return;yield n}}finally{e.releaseLock()}}}),V_=t=>{const e=t[Symbol.asyncIterator]();return new ReadableStream({async pull(r){const{done:n,value:s}=await e.next();if(n)return r.close();r.enqueue(s)}})};class G_{constructor({utf8Encoder:e,utf8Decoder:r}){this.universalMarshaller=new W_({utf8Decoder:r,utf8Encoder:e})}deserialize(e,r){const n=X_(e)?K_(e):e;return this.universalMarshaller.deserialize(n,r)}serialize(e,r){const n=this.universalMarshaller.serialize(e,r);return typeof ReadableStream=="function"?V_(n):n}}const X_=t=>typeof ReadableStream=="function"&&t instanceof ReadableStream,Z_=t=>new G_(t);async function Y_(t,e,r=1024*1024){const n=t.size;let s=0;for(;s<n;){const i=t.slice(s,Math.min(n,s+r));e(new Uint8Array(await i.arrayBuffer())),s+=i.size}}const Q_=async function(e,r){const n=new e;return await Y_(r,s=>{n.update(s)}),n.digest()},J_=t=>()=>Promise.reject(t),Or=64,eC=16,tC=[1732584193,4023233417,2562383102,271733878];class rC{constructor(){this.reset()}update(e){if(nC(e))return;if(this.finished)throw new Error("Attempted to update an already finished hash.");const r=sC(e);let n=0,{byteLength:s}=r;for(this.bytesHashed+=s;s>0;)this.buffer.setUint8(this.bufferLength++,r[n++]),s--,this.bufferLength===Or&&(this.hashBuffer(),this.bufferLength=0)}async digest(){if(!this.finished){const{buffer:r,bufferLength:n,bytesHashed:s}=this,i=s*8;if(r.setUint8(this.bufferLength++,128),n%Or>=Or-8){for(let o=this.bufferLength;o<Or;o++)r.setUint8(o,0);this.hashBuffer(),this.bufferLength=0}for(let o=this.bufferLength;o<Or-8;o++)r.setUint8(o,0);r.setUint32(Or-8,i>>>0,!0),r.setUint32(Or-4,Math.floor(i/4294967296),!0),this.hashBuffer(),this.finished=!0}const e=new DataView(new ArrayBuffer(eC));for(let r=0;r<4;r++)e.setUint32(r*4,this.state[r],!0);return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}hashBuffer(){const{buffer:e,state:r}=this;let n=r[0],s=r[1],i=r[2],o=r[3];n=Pt(n,s,i,o,e.getUint32(0,!0),7,3614090360),o=Pt(o,n,s,i,e.getUint32(4,!0),12,3905402710),i=Pt(i,o,n,s,e.getUint32(8,!0),17,606105819),s=Pt(s,i,o,n,e.getUint32(12,!0),22,3250441966),n=Pt(n,s,i,o,e.getUint32(16,!0),7,4118548399),o=Pt(o,n,s,i,e.getUint32(20,!0),12,1200080426),i=Pt(i,o,n,s,e.getUint32(24,!0),17,2821735955),s=Pt(s,i,o,n,e.getUint32(28,!0),22,4249261313),n=Pt(n,s,i,o,e.getUint32(32,!0),7,1770035416),o=Pt(o,n,s,i,e.getUint32(36,!0),12,2336552879),i=Pt(i,o,n,s,e.getUint32(40,!0),17,4294925233),s=Pt(s,i,o,n,e.getUint32(44,!0),22,2304563134),n=Pt(n,s,i,o,e.getUint32(48,!0),7,1804603682),o=Pt(o,n,s,i,e.getUint32(52,!0),12,4254626195),i=Pt(i,o,n,s,e.getUint32(56,!0),17,2792965006),s=Pt(s,i,o,n,e.getUint32(60,!0),22,1236535329),n=It(n,s,i,o,e.getUint32(4,!0),5,4129170786),o=It(o,n,s,i,e.getUint32(24,!0),9,3225465664),i=It(i,o,n,s,e.getUint32(44,!0),14,643717713),s=It(s,i,o,n,e.getUint32(0,!0),20,3921069994),n=It(n,s,i,o,e.getUint32(20,!0),5,3593408605),o=It(o,n,s,i,e.getUint32(40,!0),9,38016083),i=It(i,o,n,s,e.getUint32(60,!0),14,3634488961),s=It(s,i,o,n,e.getUint32(16,!0),20,3889429448),n=It(n,s,i,o,e.getUint32(36,!0),5,568446438),o=It(o,n,s,i,e.getUint32(56,!0),9,3275163606),i=It(i,o,n,s,e.getUint32(12,!0),14,4107603335),s=It(s,i,o,n,e.getUint32(32,!0),20,1163531501),n=It(n,s,i,o,e.getUint32(52,!0),5,2850285829),o=It(o,n,s,i,e.getUint32(8,!0),9,4243563512),i=It(i,o,n,s,e.getUint32(28,!0),14,1735328473),s=It(s,i,o,n,e.getUint32(48,!0),20,2368359562),n=Bt(n,s,i,o,e.getUint32(20,!0),4,4294588738),o=Bt(o,n,s,i,e.getUint32(32,!0),11,2272392833),i=Bt(i,o,n,s,e.getUint32(44,!0),16,1839030562),s=Bt(s,i,o,n,e.getUint32(56,!0),23,4259657740),n=Bt(n,s,i,o,e.getUint32(4,!0),4,2763975236),o=Bt(o,n,s,i,e.getUint32(16,!0),11,1272893353),i=Bt(i,o,n,s,e.getUint32(28,!0),16,4139469664),s=Bt(s,i,o,n,e.getUint32(40,!0),23,3200236656),n=Bt(n,s,i,o,e.getUint32(52,!0),4,681279174),o=Bt(o,n,s,i,e.getUint32(0,!0),11,3936430074),i=Bt(i,o,n,s,e.getUint32(12,!0),16,3572445317),s=Bt(s,i,o,n,e.getUint32(24,!0),23,76029189),n=Bt(n,s,i,o,e.getUint32(36,!0),4,3654602809),o=Bt(o,n,s,i,e.getUint32(48,!0),11,3873151461),i=Bt(i,o,n,s,e.getUint32(60,!0),16,530742520),s=Bt(s,i,o,n,e.getUint32(8,!0),23,3299628645),n=Mt(n,s,i,o,e.getUint32(0,!0),6,4096336452),o=Mt(o,n,s,i,e.getUint32(28,!0),10,1126891415),i=Mt(i,o,n,s,e.getUint32(56,!0),15,2878612391),s=Mt(s,i,o,n,e.getUint32(20,!0),21,4237533241),n=Mt(n,s,i,o,e.getUint32(48,!0),6,1700485571),o=Mt(o,n,s,i,e.getUint32(12,!0),10,2399980690),i=Mt(i,o,n,s,e.getUint32(40,!0),15,4293915773),s=Mt(s,i,o,n,e.getUint32(4,!0),21,2240044497),n=Mt(n,s,i,o,e.getUint32(32,!0),6,1873313359),o=Mt(o,n,s,i,e.getUint32(60,!0),10,4264355552),i=Mt(i,o,n,s,e.getUint32(24,!0),15,2734768916),s=Mt(s,i,o,n,e.getUint32(52,!0),21,1309151649),n=Mt(n,s,i,o,e.getUint32(16,!0),6,4149444226),o=Mt(o,n,s,i,e.getUint32(44,!0),10,3174756917),i=Mt(i,o,n,s,e.getUint32(8,!0),15,718787259),s=Mt(s,i,o,n,e.getUint32(36,!0),21,3951481745),r[0]=n+r[0]&4294967295,r[1]=s+r[1]&4294967295,r[2]=i+r[2]&4294967295,r[3]=o+r[3]&4294967295}reset(){this.state=Uint32Array.from(tC),this.buffer=new DataView(new ArrayBuffer(Or)),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}}function La(t,e,r,n,s,i){return e=(e+t&4294967295)+(n+i&4294967295)&4294967295,(e<<s|e>>>32-s)+r&4294967295}function Pt(t,e,r,n,s,i,o){return La(e&r|~e&n,t,e,s,i,o)}function It(t,e,r,n,s,i,o){return La(e&n|r&~n,t,e,s,i,o)}function Bt(t,e,r,n,s,i,o){return La(e^r^n,t,e,s,i,o)}function Mt(t,e,r,n,s,i,o){return La(r^(e|~n),t,e,s,i,o)}function nC(t){return typeof t=="string"?t.length===0:t.byteLength===0}function sC(t){return typeof t=="string"?wn(t):ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(t)}const _h=typeof TextEncoder=="function"?new TextEncoder:null,iC=t=>{if(typeof t=="string"){if(_h)return _h.encode(t).byteLength;let e=t.length;for(let r=e-1;r>=0;r--){const n=t.charCodeAt(r);n>127&&n<=2047?e++:n>2047&&n<=65535&&(e+=2),n>=56320&&n<=57343&&r--}return e}else{if(typeof t.byteLength=="number")return t.byteLength;if(typeof t.size=="number")return t.size}throw new Error(`Body Length computation failed for ${t}`)},oC=t=>({apiVersion:"2006-03-01",base64Decoder:(t==null?void 0:t.base64Decoder)??ru,base64Encoder:(t==null?void 0:t.base64Encoder)??Ta,disableHostPrefix:(t==null?void 0:t.disableHostPrefix)??!1,endpointProvider:(t==null?void 0:t.endpointProvider)??qg,extensions:(t==null?void 0:t.extensions)??[],getAwsChunkedEncodingStream:(t==null?void 0:t.getAwsChunkedEncodingStream)??mw,httpAuthSchemeProvider:(t==null?void 0:t.httpAuthSchemeProvider)??m1,httpAuthSchemes:(t==null?void 0:t.httpAuthSchemes)??[{schemeId:"aws.auth#sigv4",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4"),signer:new Dp},{schemeId:"aws.auth#sigv4a",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4a"),signer:new tw}],logger:(t==null?void 0:t.logger)??new cu,sdkStreamMixin:(t==null?void 0:t.sdkStreamMixin)??Ew,serviceId:(t==null?void 0:t.serviceId)??"S3",signerConstructor:(t==null?void 0:t.signerConstructor)??QE,signingEscapePath:(t==null?void 0:t.signingEscapePath)??!1,urlParser:(t==null?void 0:t.urlParser)??Do,useArnRegion:(t==null?void 0:t.useArnRegion)??!1,utf8Decoder:(t==null?void 0:t.utf8Decoder)??wn,utf8Encoder:(t==null?void 0:t.utf8Encoder)??nu}),aC=["in-region","cross-region","mobile","standard","legacy"],cC=({defaultsMode:t}={})=>Ow(async()=>{const e=typeof t=="function"?await t():t;switch(e==null?void 0:e.toLowerCase()){case"auto":return Promise.resolve(lC()?"mobile":"standard");case"mobile":case"in-region":case"cross-region":case"standard":case"legacy":return Promise.resolve(e==null?void 0:e.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${aC.join(", ")}, got ${e}`)}}),lC=()=>{var r,n;const t=typeof window<"u"&&((r=window==null?void 0:window.navigator)!=null&&r.userAgent)?Dm.parse(window.navigator.userAgent):void 0,e=(n=t==null?void 0:t.platform)==null?void 0:n.type;return e==="tablet"||e==="mobile"},uC=t=>{const e=cC(t),r=()=>e().then(Ov),n=oC(t);return{...n,...t,runtime:"browser",defaultsMode:e,bodyLengthChecker:(t==null?void 0:t.bodyLengthChecker)??iC,credentialDefaultProvider:(t==null?void 0:t.credentialDefaultProvider)??(s=>()=>Promise.reject(new Error("Credential is missing"))),defaultUserAgentProvider:(t==null?void 0:t.defaultUserAgentProvider)??__({serviceId:n.serviceId,clientVersion:r_.version}),eventStreamSerdeProvider:(t==null?void 0:t.eventStreamSerdeProvider)??Z_,maxAttempts:(t==null?void 0:t.maxAttempts)??Fo,md5:(t==null?void 0:t.md5)??rC,region:(t==null?void 0:t.region)??J_("Region is missing"),requestHandler:su.create((t==null?void 0:t.requestHandler)??r),retryMode:(t==null?void 0:t.retryMode)??(async()=>(await r()).retryMode||SE),sha1:(t==null?void 0:t.sha1)??u_,sha256:(t==null?void 0:t.sha256)??w_,streamCollector:(t==null?void 0:t.streamCollector)??Op,streamHasher:(t==null?void 0:t.streamHasher)??Q_,useDualstackEndpoint:(t==null?void 0:t.useDualstackEndpoint)??(()=>Promise.resolve(sE)),useFipsEndpoint:(t==null?void 0:t.useFipsEndpoint)??(()=>Promise.resolve(iE))}},dC=t=>{let e=async()=>{if(t.region===void 0)throw new Error("Region is missing from runtimeConfig");const r=t.region;return typeof r=="string"?r:r()};return{setRegion(r){e=r},region(){return e}}},fC=t=>({region:t.region()}),hC=t=>{const e=t.httpAuthSchemes;let r=t.httpAuthSchemeProvider,n=t.credentials;return{setHttpAuthScheme(s){const i=e.findIndex(o=>o.schemeId===s.schemeId);i===-1?e.push(s):e.splice(i,1,s)},httpAuthSchemes(){return e},setHttpAuthSchemeProvider(s){r=s},httpAuthSchemeProvider(){return r},setCredentials(s){n=s},credentials(){return n}}},pC=t=>({httpAuthSchemes:t.httpAuthSchemes(),httpAuthSchemeProvider:t.httpAuthSchemeProvider(),credentials:t.credentials()}),fo=t=>t,gC=(t,e)=>{const r={...fo(dC(t)),...fo(qv(t)),...fo(Wb(t)),...fo(hC(t))};return e.forEach(n=>n.configure(r)),{...t,...fC(r),...Hv(r),...Kb(r),...pC(r)}};class mC extends uv{constructor(...[r]){const n=uC(r||{}),s=b1(n),i=xS(s),o=Rx(i),a=qE(o),c=oE(a),l=c,u=xE(l),f=aE(u),h=y1(f),g=aS(h,{session:[()=>this,OA]}),y=gC(g,(r==null?void 0:r.extensions)||[]);super(y);z(this,"config");this.config=y,this.middlewareStack.use(nE(this.config)),this.middlewareStack.use(XE(this.config)),this.middlewareStack.use(uE(this.config)),this.middlewareStack.use(Ix(this.config)),this.middlewareStack.use(Nx(this.config)),this.middlewareStack.use(Ux(this.config)),this.middlewareStack.use(iw(this.config,{httpAuthSchemeParametersProvider:h1,identityProviderConfigProvider:async A=>new Bw({"aws.auth#sigv4":A.credentials,"aws.auth#sigv4a":A.credentials})})),this.middlewareStack.use(fw(this.config)),this.middlewareStack.use(bS(this.config)),this.middlewareStack.use(Zb(this.config)),this.middlewareStack.use(Gx(this.config)),this.middlewareStack.use(tS(this.config)),this.middlewareStack.use(oS(this.config))}destroy(){super.destroy()}}class yC extends Yr.classBuilder().ep({...Cn,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(e,r,n,s){return[xn(n,this.serialize,this.deserialize),An(n,e.getEndpointParameterInstructions()),En(n)]}).s("AmazonS3","AbortMultipartUpload",{}).n("S3Client","AbortMultipartUploadCommand").f(void 0,void 0).ser(N1).de($1).build(){}function bC(t){return e=>async r=>{const n={...r.input},s=[{target:"SSECustomerKey",hash:"SSECustomerKeyMD5"},{target:"CopySourceSSECustomerKey",hash:"CopySourceSSECustomerKeyMD5"}];for(const i of s){const o=n[i.target];if(o){let a;typeof o=="string"?vC(o,t)?a=t.base64Decoder(o):(a=t.utf8Decoder(o),n[i.target]=t.base64Encoder(a)):(a=ArrayBuffer.isView(o)?new Uint8Array(o.buffer,o.byteOffset,o.byteLength):new Uint8Array(o),n[i.target]=t.base64Encoder(a));const c=new t.md5;c.update(a),n[i.hash]=t.base64Encoder(await c.digest())}}return e({...r,input:n})}}const wC={name:"ssecMiddleware",step:"initialize",tags:["SSE"],override:!0},Ua=t=>({applyToStack:e=>{e.add(bC(t),wC)}});function vC(t,e){if(!/^(?:[A-Za-z0-9+/]{4})*([A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(t))return!1;try{return e.base64Decoder(t).length===32}catch{return!1}}class xC extends Yr.classBuilder().ep({...Cn,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(e,r,n,s){return[xn(n,this.serialize,this.deserialize),An(n,e.getEndpointParameterInstructions()),En(n),Ua(n)]}).s("AmazonS3","CompleteMultipartUpload",{}).n("S3Client","CompleteMultipartUploadCommand").f(x1,v1).ser(D1).de(q1).build(){}class SC extends Yr.classBuilder().ep({...Cn,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(e,r,n,s){return[xn(n,this.serialize,this.deserialize),An(n,e.getEndpointParameterInstructions()),En(n),Ua(n)]}).s("AmazonS3","CreateMultipartUpload",{}).n("S3Client","CreateMultipartUploadCommand").f(E1,S1).ser(F1).de(H1).build(){}class Ch extends Yr.classBuilder().ep({...Cn,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(e,r,n,s){return[xn(n,this.serialize,this.deserialize),An(n,e.getEndpointParameterInstructions()),pu(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!1}),Hx(),En(n),Ua(n)]}).s("AmazonS3","PutObject",{}).n("S3Client","PutObjectCommand").f(I1,P1).ser(L1).de(W1).build(){}class EC extends Yr.classBuilder().ep({...Cn,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,r,n,s){return[xn(n,this.serialize,this.deserialize),An(n,e.getEndpointParameterInstructions()),pu(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0}),En(n)]}).s("AmazonS3","PutObjectTagging",{}).n("S3Client","PutObjectTaggingCommand").f(void 0,void 0).ser(U1).de(K1).build(){}class AC extends Yr.classBuilder().ep({...Cn,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(e,r,n,s){return[xn(n,this.serialize,this.deserialize),An(n,e.getEndpointParameterInstructions()),pu(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!1}),En(n),Ua(n)]}).s("AmazonS3","UploadPart",{}).n("S3Client","UploadPartCommand").f(M1,B1).ser(z1).de(V1).build(){}class _C{constructor(){this.onabort=null,this._aborted=!1,Object.defineProperty(this,"_aborted",{value:!1,writable:!0})}get aborted(){return this._aborted}abort(){this._aborted=!0,this.onabort&&(this.onabort(this),this.onabort=null)}}let CC=class{constructor(){this.signal=new _C}abort(){this.signal.abort()}};var ho={exports:{}},kh;function za(){if(kh)return ho.exports;kh=1;var t=typeof Reflect=="object"?Reflect:null,e=t&&typeof t.apply=="function"?t.apply:function(S,v,N){return Function.prototype.apply.call(S,v,N)},r;t&&typeof t.ownKeys=="function"?r=t.ownKeys:Object.getOwnPropertySymbols?r=function(S){return Object.getOwnPropertyNames(S).concat(Object.getOwnPropertySymbols(S))}:r=function(S){return Object.getOwnPropertyNames(S)};function n(b){console&&console.warn&&console.warn(b)}var s=Number.isNaN||function(S){return S!==S};function i(){i.init.call(this)}ho.exports=i,ho.exports.once=m,i.EventEmitter=i,i.prototype._events=void 0,i.prototype._eventsCount=0,i.prototype._maxListeners=void 0;var o=10;function a(b){if(typeof b!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof b)}Object.defineProperty(i,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(b){if(typeof b!="number"||b<0||s(b))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+b+".");o=b}}),i.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},i.prototype.setMaxListeners=function(S){if(typeof S!="number"||S<0||s(S))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+S+".");return this._maxListeners=S,this};function c(b){return b._maxListeners===void 0?i.defaultMaxListeners:b._maxListeners}i.prototype.getMaxListeners=function(){return c(this)},i.prototype.emit=function(S){for(var v=[],N=1;N<arguments.length;N++)v.push(arguments[N]);var F=S==="error",D=this._events;if(D!==void 0)F=F&&D.error===void 0;else if(!F)return!1;if(F){var ee;if(v.length>0&&(ee=v[0]),ee instanceof Error)throw ee;var Y=new Error("Unhandled error."+(ee?" ("+ee.message+")":""));throw Y.context=ee,Y}var q=D[S];if(q===void 0)return!1;if(typeof q=="function")e(q,this,v);else for(var ue=q.length,Z=y(q,ue),N=0;N<ue;++N)e(Z[N],this,v);return!0};function l(b,S,v,N){var F,D,ee;if(a(v),D=b._events,D===void 0?(D=b._events=Object.create(null),b._eventsCount=0):(D.newListener!==void 0&&(b.emit("newListener",S,v.listener?v.listener:v),D=b._events),ee=D[S]),ee===void 0)ee=D[S]=v,++b._eventsCount;else if(typeof ee=="function"?ee=D[S]=N?[v,ee]:[ee,v]:N?ee.unshift(v):ee.push(v),F=c(b),F>0&&ee.length>F&&!ee.warned){ee.warned=!0;var Y=new Error("Possible EventEmitter memory leak detected. "+ee.length+" "+String(S)+" listeners added. Use emitter.setMaxListeners() to increase limit");Y.name="MaxListenersExceededWarning",Y.emitter=b,Y.type=S,Y.count=ee.length,n(Y)}return b}i.prototype.addListener=function(S,v){return l(this,S,v,!1)},i.prototype.on=i.prototype.addListener,i.prototype.prependListener=function(S,v){return l(this,S,v,!0)};function u(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(b,S,v){var N={fired:!1,wrapFn:void 0,target:b,type:S,listener:v},F=u.bind(N);return F.listener=v,N.wrapFn=F,F}i.prototype.once=function(S,v){return a(v),this.on(S,f(this,S,v)),this},i.prototype.prependOnceListener=function(S,v){return a(v),this.prependListener(S,f(this,S,v)),this},i.prototype.removeListener=function(S,v){var N,F,D,ee,Y;if(a(v),F=this._events,F===void 0)return this;if(N=F[S],N===void 0)return this;if(N===v||N.listener===v)--this._eventsCount===0?this._events=Object.create(null):(delete F[S],F.removeListener&&this.emit("removeListener",S,N.listener||v));else if(typeof N!="function"){for(D=-1,ee=N.length-1;ee>=0;ee--)if(N[ee]===v||N[ee].listener===v){Y=N[ee].listener,D=ee;break}if(D<0)return this;D===0?N.shift():A(N,D),N.length===1&&(F[S]=N[0]),F.removeListener!==void 0&&this.emit("removeListener",S,Y||v)}return this},i.prototype.off=i.prototype.removeListener,i.prototype.removeAllListeners=function(S){var v,N,F;if(N=this._events,N===void 0)return this;if(N.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):N[S]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete N[S]),this;if(arguments.length===0){var D=Object.keys(N),ee;for(F=0;F<D.length;++F)ee=D[F],ee!=="removeListener"&&this.removeAllListeners(ee);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(v=N[S],typeof v=="function")this.removeListener(S,v);else if(v!==void 0)for(F=v.length-1;F>=0;F--)this.removeListener(S,v[F]);return this};function h(b,S,v){var N=b._events;if(N===void 0)return[];var F=N[S];return F===void 0?[]:typeof F=="function"?v?[F.listener||F]:[F]:v?E(F):y(F,F.length)}i.prototype.listeners=function(S){return h(this,S,!0)},i.prototype.rawListeners=function(S){return h(this,S,!1)},i.listenerCount=function(b,S){return typeof b.listenerCount=="function"?b.listenerCount(S):g.call(b,S)},i.prototype.listenerCount=g;function g(b){var S=this._events;if(S!==void 0){var v=S[b];if(typeof v=="function")return 1;if(v!==void 0)return v.length}return 0}i.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]};function y(b,S){for(var v=new Array(S),N=0;N<S;++N)v[N]=b[N];return v}function A(b,S){for(;S+1<b.length;S++)b[S]=b[S+1];b.pop()}function E(b){for(var S=new Array(b.length),v=0;v<S.length;++v)S[v]=b[v].listener||b[v];return S}function m(b,S){return new Promise(function(v,N){function F(ee){b.removeListener(S,D),N(ee)}function D(){typeof b.removeListener=="function"&&b.removeListener("error",F),v([].slice.call(arguments))}T(b,S,D,{once:!0}),S!=="error"&&x(b,F,{once:!0})})}function x(b,S,v){typeof b.on=="function"&&T(b,"error",S,v)}function T(b,S,v,N){if(typeof b.on=="function")N.once?b.once(S,v):b.on(S,v);else if(typeof b.addEventListener=="function")b.addEventListener(S,function F(D){N.once&&b.removeEventListener(S,F),v(D)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof b)}return ho.exports}var Wc=za(),Kc={},Ns={},Rh;function kC(){if(Rh)return Ns;Rh=1,Ns.byteLength=a,Ns.toByteArray=l,Ns.fromByteArray=h;for(var t=[],e=[],r=typeof Uint8Array<"u"?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,i=n.length;s<i;++s)t[s]=n[s],e[n.charCodeAt(s)]=s;e[45]=62,e[95]=63;function o(g){var y=g.length;if(y%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var A=g.indexOf("=");A===-1&&(A=y);var E=A===y?0:4-A%4;return[A,E]}function a(g){var y=o(g),A=y[0],E=y[1];return(A+E)*3/4-E}function c(g,y,A){return(y+A)*3/4-A}function l(g){var y,A=o(g),E=A[0],m=A[1],x=new r(c(g,E,m)),T=0,b=m>0?E-4:E,S;for(S=0;S<b;S+=4)y=e[g.charCodeAt(S)]<<18|e[g.charCodeAt(S+1)]<<12|e[g.charCodeAt(S+2)]<<6|e[g.charCodeAt(S+3)],x[T++]=y>>16&255,x[T++]=y>>8&255,x[T++]=y&255;return m===2&&(y=e[g.charCodeAt(S)]<<2|e[g.charCodeAt(S+1)]>>4,x[T++]=y&255),m===1&&(y=e[g.charCodeAt(S)]<<10|e[g.charCodeAt(S+1)]<<4|e[g.charCodeAt(S+2)]>>2,x[T++]=y>>8&255,x[T++]=y&255),x}function u(g){return t[g>>18&63]+t[g>>12&63]+t[g>>6&63]+t[g&63]}function f(g,y,A){for(var E,m=[],x=y;x<A;x+=3)E=(g[x]<<16&16711680)+(g[x+1]<<8&65280)+(g[x+2]&255),m.push(u(E));return m.join("")}function h(g){for(var y,A=g.length,E=A%3,m=[],x=16383,T=0,b=A-E;T<b;T+=x)m.push(f(g,T,T+x>b?b:T+x));return E===1?(y=g[A-1],m.push(t[y>>2]+t[y<<4&63]+"==")):E===2&&(y=(g[A-2]<<8)+g[A-1],m.push(t[y>>10]+t[y>>4&63]+t[y<<2&63]+"=")),m.join("")}return Ns}var po={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var Th;function RC(){return Th||(Th=1,po.read=function(t,e,r,n,s){var i,o,a=s*8-n-1,c=(1<<a)-1,l=c>>1,u=-7,f=r?s-1:0,h=r?-1:1,g=t[e+f];for(f+=h,i=g&(1<<-u)-1,g>>=-u,u+=a;u>0;i=i*256+t[e+f],f+=h,u-=8);for(o=i&(1<<-u)-1,i>>=-u,u+=n;u>0;o=o*256+t[e+f],f+=h,u-=8);if(i===0)i=1-l;else{if(i===c)return o?NaN:(g?-1:1)*(1/0);o=o+Math.pow(2,n),i=i-l}return(g?-1:1)*o*Math.pow(2,i-n)},po.write=function(t,e,r,n,s,i){var o,a,c,l=i*8-s-1,u=(1<<l)-1,f=u>>1,h=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,g=n?0:i-1,y=n?1:-1,A=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=u):(o=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-o))<1&&(o--,c*=2),o+f>=1?e+=h/c:e+=h*Math.pow(2,1-f),e*c>=2&&(o++,c/=2),o+f>=u?(a=0,o=u):o+f>=1?(a=(e*c-1)*Math.pow(2,s),o=o+f):(a=e*Math.pow(2,f-1)*Math.pow(2,s),o=0));s>=8;t[r+g]=a&255,g+=y,a/=256,s-=8);for(o=o<<s|a,l+=s;l>0;t[r+g]=o&255,g+=y,o/=256,l-=8);t[r+g-y]|=A*128}),po}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var Ph;function eo(){return Ph||(Ph=1,function(t){var e=kC(),r=RC(),n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=a,t.SlowBuffer=m,t.INSPECT_MAX_BYTES=50;var s=2147483647;t.kMaxLength=s,a.TYPED_ARRAY_SUPPORT=i(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function i(){try{var w=new Uint8Array(1),d={foo:function(){return 42}};return Object.setPrototypeOf(d,Uint8Array.prototype),Object.setPrototypeOf(w,d),w.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function o(w){if(w>s)throw new RangeError('The value "'+w+'" is invalid for option "size"');var d=new Uint8Array(w);return Object.setPrototypeOf(d,a.prototype),d}function a(w,d,p){if(typeof w=="number"){if(typeof d=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return f(w)}return c(w,d,p)}a.poolSize=8192;function c(w,d,p){if(typeof w=="string")return h(w,d);if(ArrayBuffer.isView(w))return g(w);if(w==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof w);if(O(w,ArrayBuffer)||w&&O(w.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(O(w,SharedArrayBuffer)||w&&O(w.buffer,SharedArrayBuffer)))return y(w,d,p);if(typeof w=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var _=w.valueOf&&w.valueOf();if(_!=null&&_!==w)return a.from(_,d,p);var B=A(w);if(B)return B;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof w[Symbol.toPrimitive]=="function")return a.from(w[Symbol.toPrimitive]("string"),d,p);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof w)}a.from=function(w,d,p){return c(w,d,p)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function l(w){if(typeof w!="number")throw new TypeError('"size" argument must be of type number');if(w<0)throw new RangeError('The value "'+w+'" is invalid for option "size"')}function u(w,d,p){return l(w),w<=0?o(w):d!==void 0?typeof p=="string"?o(w).fill(d,p):o(w).fill(d):o(w)}a.alloc=function(w,d,p){return u(w,d,p)};function f(w){return l(w),o(w<0?0:E(w)|0)}a.allocUnsafe=function(w){return f(w)},a.allocUnsafeSlow=function(w){return f(w)};function h(w,d){if((typeof d!="string"||d==="")&&(d="utf8"),!a.isEncoding(d))throw new TypeError("Unknown encoding: "+d);var p=x(w,d)|0,_=o(p),B=_.write(w,d);return B!==p&&(_=_.slice(0,B)),_}function g(w){for(var d=w.length<0?0:E(w.length)|0,p=o(d),_=0;_<d;_+=1)p[_]=w[_]&255;return p}function y(w,d,p){if(d<0||w.byteLength<d)throw new RangeError('"offset" is outside of buffer bounds');if(w.byteLength<d+(p||0))throw new RangeError('"length" is outside of buffer bounds');var _;return d===void 0&&p===void 0?_=new Uint8Array(w):p===void 0?_=new Uint8Array(w,d):_=new Uint8Array(w,d,p),Object.setPrototypeOf(_,a.prototype),_}function A(w){if(a.isBuffer(w)){var d=E(w.length)|0,p=o(d);return p.length===0||w.copy(p,0,0,d),p}if(w.length!==void 0)return typeof w.length!="number"||V(w.length)?o(0):g(w);if(w.type==="Buffer"&&Array.isArray(w.data))return g(w.data)}function E(w){if(w>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return w|0}function m(w){return+w!=w&&(w=0),a.alloc(+w)}a.isBuffer=function(d){return d!=null&&d._isBuffer===!0&&d!==a.prototype},a.compare=function(d,p){if(O(d,Uint8Array)&&(d=a.from(d,d.offset,d.byteLength)),O(p,Uint8Array)&&(p=a.from(p,p.offset,p.byteLength)),!a.isBuffer(d)||!a.isBuffer(p))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(d===p)return 0;for(var _=d.length,B=p.length,H=0,K=Math.min(_,B);H<K;++H)if(d[H]!==p[H]){_=d[H],B=p[H];break}return _<B?-1:B<_?1:0},a.isEncoding=function(d){switch(String(d).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(d,p){if(!Array.isArray(d))throw new TypeError('"list" argument must be an Array of Buffers');if(d.length===0)return a.alloc(0);var _;if(p===void 0)for(p=0,_=0;_<d.length;++_)p+=d[_].length;var B=a.allocUnsafe(p),H=0;for(_=0;_<d.length;++_){var K=d[_];if(O(K,Uint8Array)&&(K=a.from(K)),!a.isBuffer(K))throw new TypeError('"list" argument must be an Array of Buffers');K.copy(B,H),H+=K.length}return B};function x(w,d){if(a.isBuffer(w))return w.length;if(ArrayBuffer.isView(w)||O(w,ArrayBuffer))return w.byteLength;if(typeof w!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof w);var p=w.length,_=arguments.length>2&&arguments[2]===!0;if(!_&&p===0)return 0;for(var B=!1;;)switch(d){case"ascii":case"latin1":case"binary":return p;case"utf8":case"utf-8":return te(w).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return p*2;case"hex":return p>>>1;case"base64":return C(w).length;default:if(B)return _?-1:te(w).length;d=(""+d).toLowerCase(),B=!0}}a.byteLength=x;function T(w,d,p){var _=!1;if((d===void 0||d<0)&&(d=0),d>this.length||((p===void 0||p>this.length)&&(p=this.length),p<=0)||(p>>>=0,d>>>=0,p<=d))return"";for(w||(w="utf8");;)switch(w){case"hex":return Ve(this,d,p);case"utf8":case"utf-8":return Z(this,d,p);case"ascii":return Te(this,d,p);case"latin1":case"binary":return Ie(this,d,p);case"base64":return ue(this,d,p);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Pe(this,d,p);default:if(_)throw new TypeError("Unknown encoding: "+w);w=(w+"").toLowerCase(),_=!0}}a.prototype._isBuffer=!0;function b(w,d,p){var _=w[d];w[d]=w[p],w[p]=_}a.prototype.swap16=function(){var d=this.length;if(d%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var p=0;p<d;p+=2)b(this,p,p+1);return this},a.prototype.swap32=function(){var d=this.length;if(d%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var p=0;p<d;p+=4)b(this,p,p+3),b(this,p+1,p+2);return this},a.prototype.swap64=function(){var d=this.length;if(d%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var p=0;p<d;p+=8)b(this,p,p+7),b(this,p+1,p+6),b(this,p+2,p+5),b(this,p+3,p+4);return this},a.prototype.toString=function(){var d=this.length;return d===0?"":arguments.length===0?Z(this,0,d):T.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(d){if(!a.isBuffer(d))throw new TypeError("Argument must be a Buffer");return this===d?!0:a.compare(this,d)===0},a.prototype.inspect=function(){var d="",p=t.INSPECT_MAX_BYTES;return d=this.toString("hex",0,p).replace(/(.{2})/g,"$1 ").trim(),this.length>p&&(d+=" ... "),"<Buffer "+d+">"},n&&(a.prototype[n]=a.prototype.inspect),a.prototype.compare=function(d,p,_,B,H){if(O(d,Uint8Array)&&(d=a.from(d,d.offset,d.byteLength)),!a.isBuffer(d))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof d);if(p===void 0&&(p=0),_===void 0&&(_=d?d.length:0),B===void 0&&(B=0),H===void 0&&(H=this.length),p<0||_>d.length||B<0||H>this.length)throw new RangeError("out of range index");if(B>=H&&p>=_)return 0;if(B>=H)return-1;if(p>=_)return 1;if(p>>>=0,_>>>=0,B>>>=0,H>>>=0,this===d)return 0;for(var K=H-B,Ae=_-p,De=Math.min(K,Ae),Ue=this.slice(B,H),Ge=d.slice(p,_),He=0;He<De;++He)if(Ue[He]!==Ge[He]){K=Ue[He],Ae=Ge[He];break}return K<Ae?-1:Ae<K?1:0};function S(w,d,p,_,B){if(w.length===0)return-1;if(typeof p=="string"?(_=p,p=0):p>2147483647?p=2147483647:p<-2147483648&&(p=-2147483648),p=+p,V(p)&&(p=B?0:w.length-1),p<0&&(p=w.length+p),p>=w.length){if(B)return-1;p=w.length-1}else if(p<0)if(B)p=0;else return-1;if(typeof d=="string"&&(d=a.from(d,_)),a.isBuffer(d))return d.length===0?-1:v(w,d,p,_,B);if(typeof d=="number")return d=d&255,typeof Uint8Array.prototype.indexOf=="function"?B?Uint8Array.prototype.indexOf.call(w,d,p):Uint8Array.prototype.lastIndexOf.call(w,d,p):v(w,[d],p,_,B);throw new TypeError("val must be string, number or Buffer")}function v(w,d,p,_,B){var H=1,K=w.length,Ae=d.length;if(_!==void 0&&(_=String(_).toLowerCase(),_==="ucs2"||_==="ucs-2"||_==="utf16le"||_==="utf-16le")){if(w.length<2||d.length<2)return-1;H=2,K/=2,Ae/=2,p/=2}function De(rr,Bn){return H===1?rr[Bn]:rr.readUInt16BE(Bn*H)}var Ue;if(B){var Ge=-1;for(Ue=p;Ue<K;Ue++)if(De(w,Ue)===De(d,Ge===-1?0:Ue-Ge)){if(Ge===-1&&(Ge=Ue),Ue-Ge+1===Ae)return Ge*H}else Ge!==-1&&(Ue-=Ue-Ge),Ge=-1}else for(p+Ae>K&&(p=K-Ae),Ue=p;Ue>=0;Ue--){for(var He=!0,Ot=0;Ot<Ae;Ot++)if(De(w,Ue+Ot)!==De(d,Ot)){He=!1;break}if(He)return Ue}return-1}a.prototype.includes=function(d,p,_){return this.indexOf(d,p,_)!==-1},a.prototype.indexOf=function(d,p,_){return S(this,d,p,_,!0)},a.prototype.lastIndexOf=function(d,p,_){return S(this,d,p,_,!1)};function N(w,d,p,_){p=Number(p)||0;var B=w.length-p;_?(_=Number(_),_>B&&(_=B)):_=B;var H=d.length;_>H/2&&(_=H/2);for(var K=0;K<_;++K){var Ae=parseInt(d.substr(K*2,2),16);if(V(Ae))return K;w[p+K]=Ae}return K}function F(w,d,p,_){return R(te(d,w.length-p),w,p,_)}function D(w,d,p,_){return R(ge(d),w,p,_)}function ee(w,d,p,_){return D(w,d,p,_)}function Y(w,d,p,_){return R(C(d),w,p,_)}function q(w,d,p,_){return R(we(d,w.length-p),w,p,_)}a.prototype.write=function(d,p,_,B){if(p===void 0)B="utf8",_=this.length,p=0;else if(_===void 0&&typeof p=="string")B=p,_=this.length,p=0;else if(isFinite(p))p=p>>>0,isFinite(_)?(_=_>>>0,B===void 0&&(B="utf8")):(B=_,_=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var H=this.length-p;if((_===void 0||_>H)&&(_=H),d.length>0&&(_<0||p<0)||p>this.length)throw new RangeError("Attempt to write outside buffer bounds");B||(B="utf8");for(var K=!1;;)switch(B){case"hex":return N(this,d,p,_);case"utf8":case"utf-8":return F(this,d,p,_);case"ascii":return D(this,d,p,_);case"latin1":case"binary":return ee(this,d,p,_);case"base64":return Y(this,d,p,_);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return q(this,d,p,_);default:if(K)throw new TypeError("Unknown encoding: "+B);B=(""+B).toLowerCase(),K=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function ue(w,d,p){return d===0&&p===w.length?e.fromByteArray(w):e.fromByteArray(w.slice(d,p))}function Z(w,d,p){p=Math.min(w.length,p);for(var _=[],B=d;B<p;){var H=w[B],K=null,Ae=H>239?4:H>223?3:H>191?2:1;if(B+Ae<=p){var De,Ue,Ge,He;switch(Ae){case 1:H<128&&(K=H);break;case 2:De=w[B+1],(De&192)===128&&(He=(H&31)<<6|De&63,He>127&&(K=He));break;case 3:De=w[B+1],Ue=w[B+2],(De&192)===128&&(Ue&192)===128&&(He=(H&15)<<12|(De&63)<<6|Ue&63,He>2047&&(He<55296||He>57343)&&(K=He));break;case 4:De=w[B+1],Ue=w[B+2],Ge=w[B+3],(De&192)===128&&(Ue&192)===128&&(Ge&192)===128&&(He=(H&15)<<18|(De&63)<<12|(Ue&63)<<6|Ge&63,He>65535&&He<1114112&&(K=He))}}K===null?(K=65533,Ae=1):K>65535&&(K-=65536,_.push(K>>>10&1023|55296),K=56320|K&1023),_.push(K),B+=Ae}return ye(_)}var ke=4096;function ye(w){var d=w.length;if(d<=ke)return String.fromCharCode.apply(String,w);for(var p="",_=0;_<d;)p+=String.fromCharCode.apply(String,w.slice(_,_+=ke));return p}function Te(w,d,p){var _="";p=Math.min(w.length,p);for(var B=d;B<p;++B)_+=String.fromCharCode(w[B]&127);return _}function Ie(w,d,p){var _="";p=Math.min(w.length,p);for(var B=d;B<p;++B)_+=String.fromCharCode(w[B]);return _}function Ve(w,d,p){var _=w.length;(!d||d<0)&&(d=0),(!p||p<0||p>_)&&(p=_);for(var B="",H=d;H<p;++H)B+=oe[w[H]];return B}function Pe(w,d,p){for(var _=w.slice(d,p),B="",H=0;H<_.length;H+=2)B+=String.fromCharCode(_[H]+_[H+1]*256);return B}a.prototype.slice=function(d,p){var _=this.length;d=~~d,p=p===void 0?_:~~p,d<0?(d+=_,d<0&&(d=0)):d>_&&(d=_),p<0?(p+=_,p<0&&(p=0)):p>_&&(p=_),p<d&&(p=d);var B=this.subarray(d,p);return Object.setPrototypeOf(B,a.prototype),B};function Ne(w,d,p){if(w%1!==0||w<0)throw new RangeError("offset is not uint");if(w+d>p)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUIntLE=function(d,p,_){d=d>>>0,p=p>>>0,_||Ne(d,p,this.length);for(var B=this[d],H=1,K=0;++K<p&&(H*=256);)B+=this[d+K]*H;return B},a.prototype.readUIntBE=function(d,p,_){d=d>>>0,p=p>>>0,_||Ne(d,p,this.length);for(var B=this[d+--p],H=1;p>0&&(H*=256);)B+=this[d+--p]*H;return B},a.prototype.readUInt8=function(d,p){return d=d>>>0,p||Ne(d,1,this.length),this[d]},a.prototype.readUInt16LE=function(d,p){return d=d>>>0,p||Ne(d,2,this.length),this[d]|this[d+1]<<8},a.prototype.readUInt16BE=function(d,p){return d=d>>>0,p||Ne(d,2,this.length),this[d]<<8|this[d+1]},a.prototype.readUInt32LE=function(d,p){return d=d>>>0,p||Ne(d,4,this.length),(this[d]|this[d+1]<<8|this[d+2]<<16)+this[d+3]*16777216},a.prototype.readUInt32BE=function(d,p){return d=d>>>0,p||Ne(d,4,this.length),this[d]*16777216+(this[d+1]<<16|this[d+2]<<8|this[d+3])},a.prototype.readIntLE=function(d,p,_){d=d>>>0,p=p>>>0,_||Ne(d,p,this.length);for(var B=this[d],H=1,K=0;++K<p&&(H*=256);)B+=this[d+K]*H;return H*=128,B>=H&&(B-=Math.pow(2,8*p)),B},a.prototype.readIntBE=function(d,p,_){d=d>>>0,p=p>>>0,_||Ne(d,p,this.length);for(var B=p,H=1,K=this[d+--B];B>0&&(H*=256);)K+=this[d+--B]*H;return H*=128,K>=H&&(K-=Math.pow(2,8*p)),K},a.prototype.readInt8=function(d,p){return d=d>>>0,p||Ne(d,1,this.length),this[d]&128?(255-this[d]+1)*-1:this[d]},a.prototype.readInt16LE=function(d,p){d=d>>>0,p||Ne(d,2,this.length);var _=this[d]|this[d+1]<<8;return _&32768?_|4294901760:_},a.prototype.readInt16BE=function(d,p){d=d>>>0,p||Ne(d,2,this.length);var _=this[d+1]|this[d]<<8;return _&32768?_|4294901760:_},a.prototype.readInt32LE=function(d,p){return d=d>>>0,p||Ne(d,4,this.length),this[d]|this[d+1]<<8|this[d+2]<<16|this[d+3]<<24},a.prototype.readInt32BE=function(d,p){return d=d>>>0,p||Ne(d,4,this.length),this[d]<<24|this[d+1]<<16|this[d+2]<<8|this[d+3]},a.prototype.readFloatLE=function(d,p){return d=d>>>0,p||Ne(d,4,this.length),r.read(this,d,!0,23,4)},a.prototype.readFloatBE=function(d,p){return d=d>>>0,p||Ne(d,4,this.length),r.read(this,d,!1,23,4)},a.prototype.readDoubleLE=function(d,p){return d=d>>>0,p||Ne(d,8,this.length),r.read(this,d,!0,52,8)},a.prototype.readDoubleBE=function(d,p){return d=d>>>0,p||Ne(d,8,this.length),r.read(this,d,!1,52,8)};function xe(w,d,p,_,B,H){if(!a.isBuffer(w))throw new TypeError('"buffer" argument must be a Buffer instance');if(d>B||d<H)throw new RangeError('"value" argument is out of bounds');if(p+_>w.length)throw new RangeError("Index out of range")}a.prototype.writeUIntLE=function(d,p,_,B){if(d=+d,p=p>>>0,_=_>>>0,!B){var H=Math.pow(2,8*_)-1;xe(this,d,p,_,H,0)}var K=1,Ae=0;for(this[p]=d&255;++Ae<_&&(K*=256);)this[p+Ae]=d/K&255;return p+_},a.prototype.writeUIntBE=function(d,p,_,B){if(d=+d,p=p>>>0,_=_>>>0,!B){var H=Math.pow(2,8*_)-1;xe(this,d,p,_,H,0)}var K=_-1,Ae=1;for(this[p+K]=d&255;--K>=0&&(Ae*=256);)this[p+K]=d/Ae&255;return p+_},a.prototype.writeUInt8=function(d,p,_){return d=+d,p=p>>>0,_||xe(this,d,p,1,255,0),this[p]=d&255,p+1},a.prototype.writeUInt16LE=function(d,p,_){return d=+d,p=p>>>0,_||xe(this,d,p,2,65535,0),this[p]=d&255,this[p+1]=d>>>8,p+2},a.prototype.writeUInt16BE=function(d,p,_){return d=+d,p=p>>>0,_||xe(this,d,p,2,65535,0),this[p]=d>>>8,this[p+1]=d&255,p+2},a.prototype.writeUInt32LE=function(d,p,_){return d=+d,p=p>>>0,_||xe(this,d,p,4,4294967295,0),this[p+3]=d>>>24,this[p+2]=d>>>16,this[p+1]=d>>>8,this[p]=d&255,p+4},a.prototype.writeUInt32BE=function(d,p,_){return d=+d,p=p>>>0,_||xe(this,d,p,4,4294967295,0),this[p]=d>>>24,this[p+1]=d>>>16,this[p+2]=d>>>8,this[p+3]=d&255,p+4},a.prototype.writeIntLE=function(d,p,_,B){if(d=+d,p=p>>>0,!B){var H=Math.pow(2,8*_-1);xe(this,d,p,_,H-1,-H)}var K=0,Ae=1,De=0;for(this[p]=d&255;++K<_&&(Ae*=256);)d<0&&De===0&&this[p+K-1]!==0&&(De=1),this[p+K]=(d/Ae>>0)-De&255;return p+_},a.prototype.writeIntBE=function(d,p,_,B){if(d=+d,p=p>>>0,!B){var H=Math.pow(2,8*_-1);xe(this,d,p,_,H-1,-H)}var K=_-1,Ae=1,De=0;for(this[p+K]=d&255;--K>=0&&(Ae*=256);)d<0&&De===0&&this[p+K+1]!==0&&(De=1),this[p+K]=(d/Ae>>0)-De&255;return p+_},a.prototype.writeInt8=function(d,p,_){return d=+d,p=p>>>0,_||xe(this,d,p,1,127,-128),d<0&&(d=255+d+1),this[p]=d&255,p+1},a.prototype.writeInt16LE=function(d,p,_){return d=+d,p=p>>>0,_||xe(this,d,p,2,32767,-32768),this[p]=d&255,this[p+1]=d>>>8,p+2},a.prototype.writeInt16BE=function(d,p,_){return d=+d,p=p>>>0,_||xe(this,d,p,2,32767,-32768),this[p]=d>>>8,this[p+1]=d&255,p+2},a.prototype.writeInt32LE=function(d,p,_){return d=+d,p=p>>>0,_||xe(this,d,p,4,2147483647,-2147483648),this[p]=d&255,this[p+1]=d>>>8,this[p+2]=d>>>16,this[p+3]=d>>>24,p+4},a.prototype.writeInt32BE=function(d,p,_){return d=+d,p=p>>>0,_||xe(this,d,p,4,2147483647,-2147483648),d<0&&(d=4294967295+d+1),this[p]=d>>>24,this[p+1]=d>>>16,this[p+2]=d>>>8,this[p+3]=d&255,p+4};function Xe(w,d,p,_,B,H){if(p+_>w.length)throw new RangeError("Index out of range");if(p<0)throw new RangeError("Index out of range")}function Ze(w,d,p,_,B){return d=+d,p=p>>>0,B||Xe(w,d,p,4),r.write(w,d,p,_,23,4),p+4}a.prototype.writeFloatLE=function(d,p,_){return Ze(this,d,p,!0,_)},a.prototype.writeFloatBE=function(d,p,_){return Ze(this,d,p,!1,_)};function Le(w,d,p,_,B){return d=+d,p=p>>>0,B||Xe(w,d,p,8),r.write(w,d,p,_,52,8),p+8}a.prototype.writeDoubleLE=function(d,p,_){return Le(this,d,p,!0,_)},a.prototype.writeDoubleBE=function(d,p,_){return Le(this,d,p,!1,_)},a.prototype.copy=function(d,p,_,B){if(!a.isBuffer(d))throw new TypeError("argument should be a Buffer");if(_||(_=0),!B&&B!==0&&(B=this.length),p>=d.length&&(p=d.length),p||(p=0),B>0&&B<_&&(B=_),B===_||d.length===0||this.length===0)return 0;if(p<0)throw new RangeError("targetStart out of bounds");if(_<0||_>=this.length)throw new RangeError("Index out of range");if(B<0)throw new RangeError("sourceEnd out of bounds");B>this.length&&(B=this.length),d.length-p<B-_&&(B=d.length-p+_);var H=B-_;if(this===d&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(p,_,B);else if(this===d&&_<p&&p<B)for(var K=H-1;K>=0;--K)d[K+p]=this[K+_];else Uint8Array.prototype.set.call(d,this.subarray(_,B),p);return H},a.prototype.fill=function(d,p,_,B){if(typeof d=="string"){if(typeof p=="string"?(B=p,p=0,_=this.length):typeof _=="string"&&(B=_,_=this.length),B!==void 0&&typeof B!="string")throw new TypeError("encoding must be a string");if(typeof B=="string"&&!a.isEncoding(B))throw new TypeError("Unknown encoding: "+B);if(d.length===1){var H=d.charCodeAt(0);(B==="utf8"&&H<128||B==="latin1")&&(d=H)}}else typeof d=="number"?d=d&255:typeof d=="boolean"&&(d=Number(d));if(p<0||this.length<p||this.length<_)throw new RangeError("Out of range index");if(_<=p)return this;p=p>>>0,_=_===void 0?this.length:_>>>0,d||(d=0);var K;if(typeof d=="number")for(K=p;K<_;++K)this[K]=d;else{var Ae=a.isBuffer(d)?d:a.from(d,B),De=Ae.length;if(De===0)throw new TypeError('The value "'+d+'" is invalid for argument "value"');for(K=0;K<_-p;++K)this[K+p]=Ae[K%De]}return this};var L=/[^+/0-9A-Za-z-_]/g;function U(w){if(w=w.split("=")[0],w=w.trim().replace(L,""),w.length<2)return"";for(;w.length%4!==0;)w=w+"=";return w}function te(w,d){d=d||1/0;for(var p,_=w.length,B=null,H=[],K=0;K<_;++K){if(p=w.charCodeAt(K),p>55295&&p<57344){if(!B){if(p>56319){(d-=3)>-1&&H.push(239,191,189);continue}else if(K+1===_){(d-=3)>-1&&H.push(239,191,189);continue}B=p;continue}if(p<56320){(d-=3)>-1&&H.push(239,191,189),B=p;continue}p=(B-55296<<10|p-56320)+65536}else B&&(d-=3)>-1&&H.push(239,191,189);if(B=null,p<128){if((d-=1)<0)break;H.push(p)}else if(p<2048){if((d-=2)<0)break;H.push(p>>6|192,p&63|128)}else if(p<65536){if((d-=3)<0)break;H.push(p>>12|224,p>>6&63|128,p&63|128)}else if(p<1114112){if((d-=4)<0)break;H.push(p>>18|240,p>>12&63|128,p>>6&63|128,p&63|128)}else throw new Error("Invalid code point")}return H}function ge(w){for(var d=[],p=0;p<w.length;++p)d.push(w.charCodeAt(p)&255);return d}function we(w,d){for(var p,_,B,H=[],K=0;K<w.length&&!((d-=2)<0);++K)p=w.charCodeAt(K),_=p>>8,B=p%256,H.push(B),H.push(_);return H}function C(w){return e.toByteArray(U(w))}function R(w,d,p,_){for(var B=0;B<_&&!(B+p>=d.length||B>=w.length);++B)d[B+p]=w[B];return B}function O(w,d){return w instanceof d||w!=null&&w.constructor!=null&&w.constructor.name!=null&&w.constructor.name===d.name}function V(w){return w!==w}var oe=function(){for(var w="0123456789abcdef",d=new Array(256),p=0;p<16;++p)for(var _=p*16,B=0;B<16;++B)d[_+B]=w[p]+w[B];return d}()}(Kc)),Kc}var Gr=eo();const TC={lstatSync:()=>{}},PC={...TC,runtime:"browser"},Vc=t=>{if(t==null)return 0;if(typeof t=="string")return Gr.Buffer.byteLength(t);if(typeof t.byteLength=="number")return t.byteLength;if(typeof t.length=="number")return t.length;if(typeof t.size=="number")return t.size;if(typeof t.path=="string")try{return PC.lstatSync(t.path).size}catch{return}};var go={exports:{}},Ih;function Cs(){return Ih||(Ih=1,typeof Object.create=="function"?go.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:go.exports=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}}),go.exports}var Gc,Bh;function Om(){return Bh||(Bh=1,Gc=za().EventEmitter),Gc}const IC={},BC=Object.freeze(Object.defineProperty({__proto__:null,default:IC},Symbol.toStringTag,{value:"Module"})),Lm=by(BC);var Xc,Mh;function MC(){if(Mh)return Xc;Mh=1;function t(y,A){var E=Object.keys(y);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(y);A&&(m=m.filter(function(x){return Object.getOwnPropertyDescriptor(y,x).enumerable})),E.push.apply(E,m)}return E}function e(y){for(var A=1;A<arguments.length;A++){var E=arguments[A]!=null?arguments[A]:{};A%2?t(Object(E),!0).forEach(function(m){r(y,m,E[m])}):Object.getOwnPropertyDescriptors?Object.defineProperties(y,Object.getOwnPropertyDescriptors(E)):t(Object(E)).forEach(function(m){Object.defineProperty(y,m,Object.getOwnPropertyDescriptor(E,m))})}return y}function r(y,A,E){return A=o(A),A in y?Object.defineProperty(y,A,{value:E,enumerable:!0,configurable:!0,writable:!0}):y[A]=E,y}function n(y,A){if(!(y instanceof A))throw new TypeError("Cannot call a class as a function")}function s(y,A){for(var E=0;E<A.length;E++){var m=A[E];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(y,o(m.key),m)}}function i(y,A,E){return s(y.prototype,A),Object.defineProperty(y,"prototype",{writable:!1}),y}function o(y){var A=a(y,"string");return typeof A=="symbol"?A:String(A)}function a(y,A){if(typeof y!="object"||y===null)return y;var E=y[Symbol.toPrimitive];if(E!==void 0){var m=E.call(y,A);if(typeof m!="object")return m;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(y)}var c=eo(),l=c.Buffer,u=Lm,f=u.inspect,h=f&&f.custom||"inspect";function g(y,A,E){l.prototype.copy.call(y,A,E)}return Xc=function(){function y(){n(this,y),this.head=null,this.tail=null,this.length=0}return i(y,[{key:"push",value:function(E){var m={data:E,next:null};this.length>0?this.tail.next=m:this.head=m,this.tail=m,++this.length}},{key:"unshift",value:function(E){var m={data:E,next:this.head};this.length===0&&(this.tail=m),this.head=m,++this.length}},{key:"shift",value:function(){if(this.length!==0){var E=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,E}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(E){if(this.length===0)return"";for(var m=this.head,x=""+m.data;m=m.next;)x+=E+m.data;return x}},{key:"concat",value:function(E){if(this.length===0)return l.alloc(0);for(var m=l.allocUnsafe(E>>>0),x=this.head,T=0;x;)g(x.data,m,T),T+=x.data.length,x=x.next;return m}},{key:"consume",value:function(E,m){var x;return E<this.head.data.length?(x=this.head.data.slice(0,E),this.head.data=this.head.data.slice(E)):E===this.head.data.length?x=this.shift():x=m?this._getString(E):this._getBuffer(E),x}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(E){var m=this.head,x=1,T=m.data;for(E-=T.length;m=m.next;){var b=m.data,S=E>b.length?b.length:E;if(S===b.length?T+=b:T+=b.slice(0,E),E-=S,E===0){S===b.length?(++x,m.next?this.head=m.next:this.head=this.tail=null):(this.head=m,m.data=b.slice(S));break}++x}return this.length-=x,T}},{key:"_getBuffer",value:function(E){var m=l.allocUnsafe(E),x=this.head,T=1;for(x.data.copy(m),E-=x.data.length;x=x.next;){var b=x.data,S=E>b.length?b.length:E;if(b.copy(m,m.length-E,0,S),E-=S,E===0){S===b.length?(++T,x.next?this.head=x.next:this.head=this.tail=null):(this.head=x,x.data=b.slice(S));break}++T}return this.length-=T,m}},{key:h,value:function(E,m){return f(this,e(e({},m),{},{depth:0,customInspect:!1}))}}]),y}(),Xc}var Zc,Nh;function Um(){if(Nh)return Zc;Nh=1;function t(o,a){var c=this,l=this._readableState&&this._readableState.destroyed,u=this._writableState&&this._writableState.destroyed;return l||u?(a?a(o):o&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(s,this,o)):process.nextTick(s,this,o)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(o||null,function(f){!a&&f?c._writableState?c._writableState.errorEmitted?process.nextTick(r,c):(c._writableState.errorEmitted=!0,process.nextTick(e,c,f)):process.nextTick(e,c,f):a?(process.nextTick(r,c),a(f)):process.nextTick(r,c)}),this)}function e(o,a){s(o,a),r(o)}function r(o){o._writableState&&!o._writableState.emitClose||o._readableState&&!o._readableState.emitClose||o.emit("close")}function n(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function s(o,a){o.emit("error",a)}function i(o,a){var c=o._readableState,l=o._writableState;c&&c.autoDestroy||l&&l.autoDestroy?o.destroy(a):o.emit("error",a)}return Zc={destroy:t,undestroy:n,errorOrDestroy:i},Zc}var Yc={},Dh;function ks(){if(Dh)return Yc;Dh=1;function t(a,c){a.prototype=Object.create(c.prototype),a.prototype.constructor=a,a.__proto__=c}var e={};function r(a,c,l){l||(l=Error);function u(h,g,y){return typeof c=="string"?c:c(h,g,y)}var f=function(h){t(g,h);function g(y,A,E){return h.call(this,u(y,A,E))||this}return g}(l);f.prototype.name=l.name,f.prototype.code=a,e[a]=f}function n(a,c){if(Array.isArray(a)){var l=a.length;return a=a.map(function(u){return String(u)}),l>2?"one of ".concat(c," ").concat(a.slice(0,l-1).join(", "),", or ")+a[l-1]:l===2?"one of ".concat(c," ").concat(a[0]," or ").concat(a[1]):"of ".concat(c," ").concat(a[0])}else return"of ".concat(c," ").concat(String(a))}function s(a,c,l){return a.substr(0,c.length)===c}function i(a,c,l){return(l===void 0||l>a.length)&&(l=a.length),a.substring(l-c.length,l)===c}function o(a,c,l){return typeof l!="number"&&(l=0),l+c.length>a.length?!1:a.indexOf(c,l)!==-1}return r("ERR_INVALID_OPT_VALUE",function(a,c){return'The value "'+c+'" is invalid for option "'+a+'"'},TypeError),r("ERR_INVALID_ARG_TYPE",function(a,c,l){var u;typeof c=="string"&&s(c,"not ")?(u="must not be",c=c.replace(/^not /,"")):u="must be";var f;if(i(a," argument"))f="The ".concat(a," ").concat(u," ").concat(n(c,"type"));else{var h=o(a,".")?"property":"argument";f='The "'.concat(a,'" ').concat(h," ").concat(u," ").concat(n(c,"type"))}return f+=". Received type ".concat(typeof l),f},TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",function(a){return"The "+a+" method is not implemented"}),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",function(a){return"Cannot call "+a+" after a stream was destroyed"}),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",function(a){return"Unknown encoding: "+a},TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),Yc.codes=e,Yc}var Qc,Fh;function zm(){if(Fh)return Qc;Fh=1;var t=ks().codes.ERR_INVALID_OPT_VALUE;function e(n,s,i){return n.highWaterMark!=null?n.highWaterMark:s?n[i]:null}function r(n,s,i,o){var a=e(s,o,i);if(a!=null){if(!(isFinite(a)&&Math.floor(a)===a)||a<0){var c=o?i:"highWaterMark";throw new t(c,a)}return Math.floor(a)}return n.objectMode?16:16*1024}return Qc={getHighWaterMark:r},Qc}var Jc,Oh;function NC(){if(Oh)return Jc;Oh=1,Jc=t;function t(r,n){if(e("noDeprecation"))return r;var s=!1;function i(){if(!s){if(e("throwDeprecation"))throw new Error(n);e("traceDeprecation")?console.trace(n):console.warn(n),s=!0}return r.apply(this,arguments)}return i}function e(r){try{if(!hs.localStorage)return!1}catch{return!1}var n=hs.localStorage[r];return n==null?!1:String(n).toLowerCase()==="true"}return Jc}var el,Lh;function $m(){if(Lh)return el;Lh=1,el=F;function t(L){var U=this;this.next=null,this.entry=null,this.finish=function(){Le(U,L)}}var e;F.WritableState=v;var r={deprecate:NC()},n=Om(),s=eo().Buffer,i=(typeof hs<"u"?hs:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function o(L){return s.from(L)}function a(L){return s.isBuffer(L)||L instanceof i}var c=Um(),l=zm(),u=l.getHighWaterMark,f=ks().codes,h=f.ERR_INVALID_ARG_TYPE,g=f.ERR_METHOD_NOT_IMPLEMENTED,y=f.ERR_MULTIPLE_CALLBACK,A=f.ERR_STREAM_CANNOT_PIPE,E=f.ERR_STREAM_DESTROYED,m=f.ERR_STREAM_NULL_VALUES,x=f.ERR_STREAM_WRITE_AFTER_END,T=f.ERR_UNKNOWN_ENCODING,b=c.errorOrDestroy;Cs()(F,n);function S(){}function v(L,U,te){e=e||ys(),L=L||{},typeof te!="boolean"&&(te=U instanceof e),this.objectMode=!!L.objectMode,te&&(this.objectMode=this.objectMode||!!L.writableObjectMode),this.highWaterMark=u(this,L,"writableHighWaterMark",te),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var ge=L.decodeStrings===!1;this.decodeStrings=!ge,this.defaultEncoding=L.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(we){ye(U,we)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=L.emitClose!==!1,this.autoDestroy=!!L.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new t(this)}v.prototype.getBuffer=function(){for(var U=this.bufferedRequest,te=[];U;)te.push(U),U=U.next;return te},function(){try{Object.defineProperty(v.prototype,"buffer",{get:r.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var N;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(N=Function.prototype[Symbol.hasInstance],Object.defineProperty(F,Symbol.hasInstance,{value:function(U){return N.call(this,U)?!0:this!==F?!1:U&&U._writableState instanceof v}})):N=function(U){return U instanceof this};function F(L){e=e||ys();var U=this instanceof e;if(!U&&!N.call(F,this))return new F(L);this._writableState=new v(L,this,U),this.writable=!0,L&&(typeof L.write=="function"&&(this._write=L.write),typeof L.writev=="function"&&(this._writev=L.writev),typeof L.destroy=="function"&&(this._destroy=L.destroy),typeof L.final=="function"&&(this._final=L.final)),n.call(this)}F.prototype.pipe=function(){b(this,new A)};function D(L,U){var te=new x;b(L,te),process.nextTick(U,te)}function ee(L,U,te,ge){var we;return te===null?we=new m:typeof te!="string"&&!U.objectMode&&(we=new h("chunk",["string","Buffer"],te)),we?(b(L,we),process.nextTick(ge,we),!1):!0}F.prototype.write=function(L,U,te){var ge=this._writableState,we=!1,C=!ge.objectMode&&a(L);return C&&!s.isBuffer(L)&&(L=o(L)),typeof U=="function"&&(te=U,U=null),C?U="buffer":U||(U=ge.defaultEncoding),typeof te!="function"&&(te=S),ge.ending?D(this,te):(C||ee(this,ge,L,te))&&(ge.pendingcb++,we=q(this,ge,C,L,U,te)),we},F.prototype.cork=function(){this._writableState.corked++},F.prototype.uncork=function(){var L=this._writableState;L.corked&&(L.corked--,!L.writing&&!L.corked&&!L.bufferProcessing&&L.bufferedRequest&&Ve(this,L))},F.prototype.setDefaultEncoding=function(U){if(typeof U=="string"&&(U=U.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((U+"").toLowerCase())>-1))throw new T(U);return this._writableState.defaultEncoding=U,this},Object.defineProperty(F.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function Y(L,U,te){return!L.objectMode&&L.decodeStrings!==!1&&typeof U=="string"&&(U=s.from(U,te)),U}Object.defineProperty(F.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function q(L,U,te,ge,we,C){if(!te){var R=Y(U,ge,we);ge!==R&&(te=!0,we="buffer",ge=R)}var O=U.objectMode?1:ge.length;U.length+=O;var V=U.length<U.highWaterMark;if(V||(U.needDrain=!0),U.writing||U.corked){var oe=U.lastBufferedRequest;U.lastBufferedRequest={chunk:ge,encoding:we,isBuf:te,callback:C,next:null},oe?oe.next=U.lastBufferedRequest:U.bufferedRequest=U.lastBufferedRequest,U.bufferedRequestCount+=1}else ue(L,U,!1,O,ge,we,C);return V}function ue(L,U,te,ge,we,C,R){U.writelen=ge,U.writecb=R,U.writing=!0,U.sync=!0,U.destroyed?U.onwrite(new E("write")):te?L._writev(we,U.onwrite):L._write(we,C,U.onwrite),U.sync=!1}function Z(L,U,te,ge,we){--U.pendingcb,te?(process.nextTick(we,ge),process.nextTick(Xe,L,U),L._writableState.errorEmitted=!0,b(L,ge)):(we(ge),L._writableState.errorEmitted=!0,b(L,ge),Xe(L,U))}function ke(L){L.writing=!1,L.writecb=null,L.length-=L.writelen,L.writelen=0}function ye(L,U){var te=L._writableState,ge=te.sync,we=te.writecb;if(typeof we!="function")throw new y;if(ke(te),U)Z(L,te,ge,U,we);else{var C=Pe(te)||L.destroyed;!C&&!te.corked&&!te.bufferProcessing&&te.bufferedRequest&&Ve(L,te),ge?process.nextTick(Te,L,te,C,we):Te(L,te,C,we)}}function Te(L,U,te,ge){te||Ie(L,U),U.pendingcb--,ge(),Xe(L,U)}function Ie(L,U){U.length===0&&U.needDrain&&(U.needDrain=!1,L.emit("drain"))}function Ve(L,U){U.bufferProcessing=!0;var te=U.bufferedRequest;if(L._writev&&te&&te.next){var ge=U.bufferedRequestCount,we=new Array(ge),C=U.corkedRequestsFree;C.entry=te;for(var R=0,O=!0;te;)we[R]=te,te.isBuf||(O=!1),te=te.next,R+=1;we.allBuffers=O,ue(L,U,!0,U.length,we,"",C.finish),U.pendingcb++,U.lastBufferedRequest=null,C.next?(U.corkedRequestsFree=C.next,C.next=null):U.corkedRequestsFree=new t(U),U.bufferedRequestCount=0}else{for(;te;){var V=te.chunk,oe=te.encoding,w=te.callback,d=U.objectMode?1:V.length;if(ue(L,U,!1,d,V,oe,w),te=te.next,U.bufferedRequestCount--,U.writing)break}te===null&&(U.lastBufferedRequest=null)}U.bufferedRequest=te,U.bufferProcessing=!1}F.prototype._write=function(L,U,te){te(new g("_write()"))},F.prototype._writev=null,F.prototype.end=function(L,U,te){var ge=this._writableState;return typeof L=="function"?(te=L,L=null,U=null):typeof U=="function"&&(te=U,U=null),L!=null&&this.write(L,U),ge.corked&&(ge.corked=1,this.uncork()),ge.ending||Ze(this,ge,te),this},Object.defineProperty(F.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function Pe(L){return L.ending&&L.length===0&&L.bufferedRequest===null&&!L.finished&&!L.writing}function Ne(L,U){L._final(function(te){U.pendingcb--,te&&b(L,te),U.prefinished=!0,L.emit("prefinish"),Xe(L,U)})}function xe(L,U){!U.prefinished&&!U.finalCalled&&(typeof L._final=="function"&&!U.destroyed?(U.pendingcb++,U.finalCalled=!0,process.nextTick(Ne,L,U)):(U.prefinished=!0,L.emit("prefinish")))}function Xe(L,U){var te=Pe(U);if(te&&(xe(L,U),U.pendingcb===0&&(U.finished=!0,L.emit("finish"),U.autoDestroy))){var ge=L._readableState;(!ge||ge.autoDestroy&&ge.endEmitted)&&L.destroy()}return te}function Ze(L,U,te){U.ending=!0,Xe(L,U),te&&(U.finished?process.nextTick(te):L.once("finish",te)),U.ended=!0,L.writable=!1}function Le(L,U,te){var ge=L.entry;for(L.entry=null;ge;){var we=ge.callback;U.pendingcb--,we(te),ge=ge.next}U.corkedRequestsFree.next=L}return Object.defineProperty(F.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(U){this._writableState&&(this._writableState.destroyed=U)}}),F.prototype.destroy=c.destroy,F.prototype._undestroy=c.undestroy,F.prototype._destroy=function(L,U){U(L)},el}var tl,Uh;function ys(){if(Uh)return tl;Uh=1;var t=Object.keys||function(l){var u=[];for(var f in l)u.push(f);return u};tl=o;var e=qm(),r=$m();Cs()(o,e);for(var n=t(r.prototype),s=0;s<n.length;s++){var i=n[s];o.prototype[i]||(o.prototype[i]=r.prototype[i])}function o(l){if(!(this instanceof o))return new o(l);e.call(this,l),r.call(this,l),this.allowHalfOpen=!0,l&&(l.readable===!1&&(this.readable=!1),l.writable===!1&&(this.writable=!1),l.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",a)))}Object.defineProperty(o.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(o.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(o.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function a(){this._writableState.ended||process.nextTick(c,this)}function c(l){l.end()}return Object.defineProperty(o.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(u){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=u,this._writableState.destroyed=u)}}),tl}var rl={},mo={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var zh;function DC(){return zh||(zh=1,function(t,e){var r=eo(),n=r.Buffer;function s(o,a){for(var c in o)a[c]=o[c]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?t.exports=r:(s(r,e),e.Buffer=i);function i(o,a,c){return n(o,a,c)}i.prototype=Object.create(n.prototype),s(n,i),i.from=function(o,a,c){if(typeof o=="number")throw new TypeError("Argument must not be a number");return n(o,a,c)},i.alloc=function(o,a,c){if(typeof o!="number")throw new TypeError("Argument must be a number");var l=n(o);return a!==void 0?typeof c=="string"?l.fill(a,c):l.fill(a):l.fill(0),l},i.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return n(o)},i.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(o)}}(mo,mo.exports)),mo.exports}var $h;function qh(){if($h)return rl;$h=1;var t=DC().Buffer,e=t.isEncoding||function(m){switch(m=""+m,m&&m.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r(m){if(!m)return"utf8";for(var x;;)switch(m){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return m;default:if(x)return;m=(""+m).toLowerCase(),x=!0}}function n(m){var x=r(m);if(typeof x!="string"&&(t.isEncoding===e||!e(m)))throw new Error("Unknown encoding: "+m);return x||m}rl.StringDecoder=s;function s(m){this.encoding=n(m);var x;switch(this.encoding){case"utf16le":this.text=f,this.end=h,x=4;break;case"utf8":this.fillLast=c,x=4;break;case"base64":this.text=g,this.end=y,x=3;break;default:this.write=A,this.end=E;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=t.allocUnsafe(x)}s.prototype.write=function(m){if(m.length===0)return"";var x,T;if(this.lastNeed){if(x=this.fillLast(m),x===void 0)return"";T=this.lastNeed,this.lastNeed=0}else T=0;return T<m.length?x?x+this.text(m,T):this.text(m,T):x||""},s.prototype.end=u,s.prototype.text=l,s.prototype.fillLast=function(m){if(this.lastNeed<=m.length)return m.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);m.copy(this.lastChar,this.lastTotal-this.lastNeed,0,m.length),this.lastNeed-=m.length};function i(m){return m<=127?0:m>>5===6?2:m>>4===14?3:m>>3===30?4:m>>6===2?-1:-2}function o(m,x,T){var b=x.length-1;if(b<T)return 0;var S=i(x[b]);return S>=0?(S>0&&(m.lastNeed=S-1),S):--b<T||S===-2?0:(S=i(x[b]),S>=0?(S>0&&(m.lastNeed=S-2),S):--b<T||S===-2?0:(S=i(x[b]),S>=0?(S>0&&(S===2?S=0:m.lastNeed=S-3),S):0))}function a(m,x,T){if((x[0]&192)!==128)return m.lastNeed=0,"�";if(m.lastNeed>1&&x.length>1){if((x[1]&192)!==128)return m.lastNeed=1,"�";if(m.lastNeed>2&&x.length>2&&(x[2]&192)!==128)return m.lastNeed=2,"�"}}function c(m){var x=this.lastTotal-this.lastNeed,T=a(this,m);if(T!==void 0)return T;if(this.lastNeed<=m.length)return m.copy(this.lastChar,x,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);m.copy(this.lastChar,x,0,m.length),this.lastNeed-=m.length}function l(m,x){var T=o(this,m,x);if(!this.lastNeed)return m.toString("utf8",x);this.lastTotal=T;var b=m.length-(T-this.lastNeed);return m.copy(this.lastChar,0,b),m.toString("utf8",x,b)}function u(m){var x=m&&m.length?this.write(m):"";return this.lastNeed?x+"�":x}function f(m,x){if((m.length-x)%2===0){var T=m.toString("utf16le",x);if(T){var b=T.charCodeAt(T.length-1);if(b>=55296&&b<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=m[m.length-2],this.lastChar[1]=m[m.length-1],T.slice(0,-1)}return T}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=m[m.length-1],m.toString("utf16le",x,m.length-1)}function h(m){var x=m&&m.length?this.write(m):"";if(this.lastNeed){var T=this.lastTotal-this.lastNeed;return x+this.lastChar.toString("utf16le",0,T)}return x}function g(m,x){var T=(m.length-x)%3;return T===0?m.toString("base64",x):(this.lastNeed=3-T,this.lastTotal=3,T===1?this.lastChar[0]=m[m.length-1]:(this.lastChar[0]=m[m.length-2],this.lastChar[1]=m[m.length-1]),m.toString("base64",x,m.length-T))}function y(m){var x=m&&m.length?this.write(m):"";return this.lastNeed?x+this.lastChar.toString("base64",0,3-this.lastNeed):x}function A(m){return m.toString(this.encoding)}function E(m){return m&&m.length?this.write(m):""}return rl}var nl,Hh;function Ku(){if(Hh)return nl;Hh=1;var t=ks().codes.ERR_STREAM_PREMATURE_CLOSE;function e(i){var o=!1;return function(){if(!o){o=!0;for(var a=arguments.length,c=new Array(a),l=0;l<a;l++)c[l]=arguments[l];i.apply(this,c)}}}function r(){}function n(i){return i.setHeader&&typeof i.abort=="function"}function s(i,o,a){if(typeof o=="function")return s(i,null,o);o||(o={}),a=e(a||r);var c=o.readable||o.readable!==!1&&i.readable,l=o.writable||o.writable!==!1&&i.writable,u=function(){i.writable||h()},f=i._writableState&&i._writableState.finished,h=function(){l=!1,f=!0,c||a.call(i)},g=i._readableState&&i._readableState.endEmitted,y=function(){c=!1,g=!0,l||a.call(i)},A=function(T){a.call(i,T)},E=function(){var T;if(c&&!g)return(!i._readableState||!i._readableState.ended)&&(T=new t),a.call(i,T);if(l&&!f)return(!i._writableState||!i._writableState.ended)&&(T=new t),a.call(i,T)},m=function(){i.req.on("finish",h)};return n(i)?(i.on("complete",h),i.on("abort",E),i.req?m():i.on("request",m)):l&&!i._writableState&&(i.on("end",u),i.on("close",u)),i.on("end",y),i.on("finish",h),o.error!==!1&&i.on("error",A),i.on("close",E),function(){i.removeListener("complete",h),i.removeListener("abort",E),i.removeListener("request",m),i.req&&i.req.removeListener("finish",h),i.removeListener("end",u),i.removeListener("close",u),i.removeListener("finish",h),i.removeListener("end",y),i.removeListener("error",A),i.removeListener("close",E)}}return nl=s,nl}var sl,jh;function FC(){if(jh)return sl;jh=1;var t;function e(T,b,S){return b=r(b),b in T?Object.defineProperty(T,b,{value:S,enumerable:!0,configurable:!0,writable:!0}):T[b]=S,T}function r(T){var b=n(T,"string");return typeof b=="symbol"?b:String(b)}function n(T,b){if(typeof T!="object"||T===null)return T;var S=T[Symbol.toPrimitive];if(S!==void 0){var v=S.call(T,b||"default");if(typeof v!="object")return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return(b==="string"?String:Number)(T)}var s=Ku(),i=Symbol("lastResolve"),o=Symbol("lastReject"),a=Symbol("error"),c=Symbol("ended"),l=Symbol("lastPromise"),u=Symbol("handlePromise"),f=Symbol("stream");function h(T,b){return{value:T,done:b}}function g(T){var b=T[i];if(b!==null){var S=T[f].read();S!==null&&(T[l]=null,T[i]=null,T[o]=null,b(h(S,!1)))}}function y(T){process.nextTick(g,T)}function A(T,b){return function(S,v){T.then(function(){if(b[c]){S(h(void 0,!0));return}b[u](S,v)},v)}}var E=Object.getPrototypeOf(function(){}),m=Object.setPrototypeOf((t={get stream(){return this[f]},next:function(){var b=this,S=this[a];if(S!==null)return Promise.reject(S);if(this[c])return Promise.resolve(h(void 0,!0));if(this[f].destroyed)return new Promise(function(D,ee){process.nextTick(function(){b[a]?ee(b[a]):D(h(void 0,!0))})});var v=this[l],N;if(v)N=new Promise(A(v,this));else{var F=this[f].read();if(F!==null)return Promise.resolve(h(F,!1));N=new Promise(this[u])}return this[l]=N,N}},e(t,Symbol.asyncIterator,function(){return this}),e(t,"return",function(){var b=this;return new Promise(function(S,v){b[f].destroy(null,function(N){if(N){v(N);return}S(h(void 0,!0))})})}),t),E),x=function(b){var S,v=Object.create(m,(S={},e(S,f,{value:b,writable:!0}),e(S,i,{value:null,writable:!0}),e(S,o,{value:null,writable:!0}),e(S,a,{value:null,writable:!0}),e(S,c,{value:b._readableState.endEmitted,writable:!0}),e(S,u,{value:function(F,D){var ee=v[f].read();ee?(v[l]=null,v[i]=null,v[o]=null,F(h(ee,!1))):(v[i]=F,v[o]=D)},writable:!0}),S));return v[l]=null,s(b,function(N){if(N&&N.code!=="ERR_STREAM_PREMATURE_CLOSE"){var F=v[o];F!==null&&(v[l]=null,v[i]=null,v[o]=null,F(N)),v[a]=N;return}var D=v[i];D!==null&&(v[l]=null,v[i]=null,v[o]=null,D(h(void 0,!0))),v[c]=!0}),b.on("readable",y.bind(null,v)),v};return sl=x,sl}var il,Wh;function OC(){return Wh||(Wh=1,il=function(){throw new Error("Readable.from is not available in the browser")}),il}var ol,Kh;function qm(){if(Kh)return ol;Kh=1,ol=D;var t;D.ReadableState=F,za().EventEmitter;var e=function(R,O){return R.listeners(O).length},r=Om(),n=eo().Buffer,s=(typeof hs<"u"?hs:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function i(C){return n.from(C)}function o(C){return n.isBuffer(C)||C instanceof s}var a=Lm,c;a&&a.debuglog?c=a.debuglog("stream"):c=function(){};var l=MC(),u=Um(),f=zm(),h=f.getHighWaterMark,g=ks().codes,y=g.ERR_INVALID_ARG_TYPE,A=g.ERR_STREAM_PUSH_AFTER_EOF,E=g.ERR_METHOD_NOT_IMPLEMENTED,m=g.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,x,T,b;Cs()(D,r);var S=u.errorOrDestroy,v=["error","close","destroy","pause","resume"];function N(C,R,O){if(typeof C.prependListener=="function")return C.prependListener(R,O);!C._events||!C._events[R]?C.on(R,O):Array.isArray(C._events[R])?C._events[R].unshift(O):C._events[R]=[O,C._events[R]]}function F(C,R,O){t=t||ys(),C=C||{},typeof O!="boolean"&&(O=R instanceof t),this.objectMode=!!C.objectMode,O&&(this.objectMode=this.objectMode||!!C.readableObjectMode),this.highWaterMark=h(this,C,"readableHighWaterMark",O),this.buffer=new l,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=C.emitClose!==!1,this.autoDestroy=!!C.autoDestroy,this.destroyed=!1,this.defaultEncoding=C.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,C.encoding&&(x||(x=qh().StringDecoder),this.decoder=new x(C.encoding),this.encoding=C.encoding)}function D(C){if(t=t||ys(),!(this instanceof D))return new D(C);var R=this instanceof t;this._readableState=new F(C,this,R),this.readable=!0,C&&(typeof C.read=="function"&&(this._read=C.read),typeof C.destroy=="function"&&(this._destroy=C.destroy)),r.call(this)}Object.defineProperty(D.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(R){this._readableState&&(this._readableState.destroyed=R)}}),D.prototype.destroy=u.destroy,D.prototype._undestroy=u.undestroy,D.prototype._destroy=function(C,R){R(C)},D.prototype.push=function(C,R){var O=this._readableState,V;return O.objectMode?V=!0:typeof C=="string"&&(R=R||O.defaultEncoding,R!==O.encoding&&(C=n.from(C,R),R=""),V=!0),ee(this,C,R,!1,V)},D.prototype.unshift=function(C){return ee(this,C,null,!0,!1)};function ee(C,R,O,V,oe){c("readableAddChunk",R);var w=C._readableState;if(R===null)w.reading=!1,ye(C,w);else{var d;if(oe||(d=q(w,R)),d)S(C,d);else if(w.objectMode||R&&R.length>0)if(typeof R!="string"&&!w.objectMode&&Object.getPrototypeOf(R)!==n.prototype&&(R=i(R)),V)w.endEmitted?S(C,new m):Y(C,w,R,!0);else if(w.ended)S(C,new A);else{if(w.destroyed)return!1;w.reading=!1,w.decoder&&!O?(R=w.decoder.write(R),w.objectMode||R.length!==0?Y(C,w,R,!1):Ve(C,w)):Y(C,w,R,!1)}else V||(w.reading=!1,Ve(C,w))}return!w.ended&&(w.length<w.highWaterMark||w.length===0)}function Y(C,R,O,V){R.flowing&&R.length===0&&!R.sync?(R.awaitDrain=0,C.emit("data",O)):(R.length+=R.objectMode?1:O.length,V?R.buffer.unshift(O):R.buffer.push(O),R.needReadable&&Te(C)),Ve(C,R)}function q(C,R){var O;return!o(R)&&typeof R!="string"&&R!==void 0&&!C.objectMode&&(O=new y("chunk",["string","Buffer","Uint8Array"],R)),O}D.prototype.isPaused=function(){return this._readableState.flowing===!1},D.prototype.setEncoding=function(C){x||(x=qh().StringDecoder);var R=new x(C);this._readableState.decoder=R,this._readableState.encoding=this._readableState.decoder.encoding;for(var O=this._readableState.buffer.head,V="";O!==null;)V+=R.write(O.data),O=O.next;return this._readableState.buffer.clear(),V!==""&&this._readableState.buffer.push(V),this._readableState.length=V.length,this};var ue=1073741824;function Z(C){return C>=ue?C=ue:(C--,C|=C>>>1,C|=C>>>2,C|=C>>>4,C|=C>>>8,C|=C>>>16,C++),C}function ke(C,R){return C<=0||R.length===0&&R.ended?0:R.objectMode?1:C!==C?R.flowing&&R.length?R.buffer.head.data.length:R.length:(C>R.highWaterMark&&(R.highWaterMark=Z(C)),C<=R.length?C:R.ended?R.length:(R.needReadable=!0,0))}D.prototype.read=function(C){c("read",C),C=parseInt(C,10);var R=this._readableState,O=C;if(C!==0&&(R.emittedReadable=!1),C===0&&R.needReadable&&((R.highWaterMark!==0?R.length>=R.highWaterMark:R.length>0)||R.ended))return c("read: emitReadable",R.length,R.ended),R.length===0&&R.ended?te(this):Te(this),null;if(C=ke(C,R),C===0&&R.ended)return R.length===0&&te(this),null;var V=R.needReadable;c("need readable",V),(R.length===0||R.length-C<R.highWaterMark)&&(V=!0,c("length less than watermark",V)),R.ended||R.reading?(V=!1,c("reading or ended",V)):V&&(c("do read"),R.reading=!0,R.sync=!0,R.length===0&&(R.needReadable=!0),this._read(R.highWaterMark),R.sync=!1,R.reading||(C=ke(O,R)));var oe;return C>0?oe=U(C,R):oe=null,oe===null?(R.needReadable=R.length<=R.highWaterMark,C=0):(R.length-=C,R.awaitDrain=0),R.length===0&&(R.ended||(R.needReadable=!0),O!==C&&R.ended&&te(this)),oe!==null&&this.emit("data",oe),oe};function ye(C,R){if(c("onEofChunk"),!R.ended){if(R.decoder){var O=R.decoder.end();O&&O.length&&(R.buffer.push(O),R.length+=R.objectMode?1:O.length)}R.ended=!0,R.sync?Te(C):(R.needReadable=!1,R.emittedReadable||(R.emittedReadable=!0,Ie(C)))}}function Te(C){var R=C._readableState;c("emitReadable",R.needReadable,R.emittedReadable),R.needReadable=!1,R.emittedReadable||(c("emitReadable",R.flowing),R.emittedReadable=!0,process.nextTick(Ie,C))}function Ie(C){var R=C._readableState;c("emitReadable_",R.destroyed,R.length,R.ended),!R.destroyed&&(R.length||R.ended)&&(C.emit("readable"),R.emittedReadable=!1),R.needReadable=!R.flowing&&!R.ended&&R.length<=R.highWaterMark,L(C)}function Ve(C,R){R.readingMore||(R.readingMore=!0,process.nextTick(Pe,C,R))}function Pe(C,R){for(;!R.reading&&!R.ended&&(R.length<R.highWaterMark||R.flowing&&R.length===0);){var O=R.length;if(c("maybeReadMore read 0"),C.read(0),O===R.length)break}R.readingMore=!1}D.prototype._read=function(C){S(this,new E("_read()"))},D.prototype.pipe=function(C,R){var O=this,V=this._readableState;switch(V.pipesCount){case 0:V.pipes=C;break;case 1:V.pipes=[V.pipes,C];break;default:V.pipes.push(C);break}V.pipesCount+=1,c("pipe count=%d opts=%j",V.pipesCount,R);var oe=(!R||R.end!==!1)&&C!==process.stdout&&C!==process.stderr,w=oe?p:Ge;V.endEmitted?process.nextTick(w):O.once("end",w),C.on("unpipe",d);function d(He,Ot){c("onunpipe"),He===O&&Ot&&Ot.hasUnpiped===!1&&(Ot.hasUnpiped=!0,H())}function p(){c("onend"),C.end()}var _=Ne(O);C.on("drain",_);var B=!1;function H(){c("cleanup"),C.removeListener("close",De),C.removeListener("finish",Ue),C.removeListener("drain",_),C.removeListener("error",Ae),C.removeListener("unpipe",d),O.removeListener("end",p),O.removeListener("end",Ge),O.removeListener("data",K),B=!0,V.awaitDrain&&(!C._writableState||C._writableState.needDrain)&&_()}O.on("data",K);function K(He){c("ondata");var Ot=C.write(He);c("dest.write",Ot),Ot===!1&&((V.pipesCount===1&&V.pipes===C||V.pipesCount>1&&we(V.pipes,C)!==-1)&&!B&&(c("false write response, pause",V.awaitDrain),V.awaitDrain++),O.pause())}function Ae(He){c("onerror",He),Ge(),C.removeListener("error",Ae),e(C,"error")===0&&S(C,He)}N(C,"error",Ae);function De(){C.removeListener("finish",Ue),Ge()}C.once("close",De);function Ue(){c("onfinish"),C.removeListener("close",De),Ge()}C.once("finish",Ue);function Ge(){c("unpipe"),O.unpipe(C)}return C.emit("pipe",O),V.flowing||(c("pipe resume"),O.resume()),C};function Ne(C){return function(){var O=C._readableState;c("pipeOnDrain",O.awaitDrain),O.awaitDrain&&O.awaitDrain--,O.awaitDrain===0&&e(C,"data")&&(O.flowing=!0,L(C))}}D.prototype.unpipe=function(C){var R=this._readableState,O={hasUnpiped:!1};if(R.pipesCount===0)return this;if(R.pipesCount===1)return C&&C!==R.pipes?this:(C||(C=R.pipes),R.pipes=null,R.pipesCount=0,R.flowing=!1,C&&C.emit("unpipe",this,O),this);if(!C){var V=R.pipes,oe=R.pipesCount;R.pipes=null,R.pipesCount=0,R.flowing=!1;for(var w=0;w<oe;w++)V[w].emit("unpipe",this,{hasUnpiped:!1});return this}var d=we(R.pipes,C);return d===-1?this:(R.pipes.splice(d,1),R.pipesCount-=1,R.pipesCount===1&&(R.pipes=R.pipes[0]),C.emit("unpipe",this,O),this)},D.prototype.on=function(C,R){var O=r.prototype.on.call(this,C,R),V=this._readableState;return C==="data"?(V.readableListening=this.listenerCount("readable")>0,V.flowing!==!1&&this.resume()):C==="readable"&&!V.endEmitted&&!V.readableListening&&(V.readableListening=V.needReadable=!0,V.flowing=!1,V.emittedReadable=!1,c("on readable",V.length,V.reading),V.length?Te(this):V.reading||process.nextTick(Xe,this)),O},D.prototype.addListener=D.prototype.on,D.prototype.removeListener=function(C,R){var O=r.prototype.removeListener.call(this,C,R);return C==="readable"&&process.nextTick(xe,this),O},D.prototype.removeAllListeners=function(C){var R=r.prototype.removeAllListeners.apply(this,arguments);return(C==="readable"||C===void 0)&&process.nextTick(xe,this),R};function xe(C){var R=C._readableState;R.readableListening=C.listenerCount("readable")>0,R.resumeScheduled&&!R.paused?R.flowing=!0:C.listenerCount("data")>0&&C.resume()}function Xe(C){c("readable nexttick read 0"),C.read(0)}D.prototype.resume=function(){var C=this._readableState;return C.flowing||(c("resume"),C.flowing=!C.readableListening,Ze(this,C)),C.paused=!1,this};function Ze(C,R){R.resumeScheduled||(R.resumeScheduled=!0,process.nextTick(Le,C,R))}function Le(C,R){c("resume",R.reading),R.reading||C.read(0),R.resumeScheduled=!1,C.emit("resume"),L(C),R.flowing&&!R.reading&&C.read(0)}D.prototype.pause=function(){return c("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(c("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function L(C){var R=C._readableState;for(c("flow",R.flowing);R.flowing&&C.read()!==null;);}D.prototype.wrap=function(C){var R=this,O=this._readableState,V=!1;C.on("end",function(){if(c("wrapped end"),O.decoder&&!O.ended){var d=O.decoder.end();d&&d.length&&R.push(d)}R.push(null)}),C.on("data",function(d){if(c("wrapped data"),O.decoder&&(d=O.decoder.write(d)),!(O.objectMode&&d==null)&&!(!O.objectMode&&(!d||!d.length))){var p=R.push(d);p||(V=!0,C.pause())}});for(var oe in C)this[oe]===void 0&&typeof C[oe]=="function"&&(this[oe]=function(p){return function(){return C[p].apply(C,arguments)}}(oe));for(var w=0;w<v.length;w++)C.on(v[w],this.emit.bind(this,v[w]));return this._read=function(d){c("wrapped _read",d),V&&(V=!1,C.resume())},this},typeof Symbol=="function"&&(D.prototype[Symbol.asyncIterator]=function(){return T===void 0&&(T=FC()),T(this)}),Object.defineProperty(D.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(D.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(D.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(R){this._readableState&&(this._readableState.flowing=R)}}),D._fromList=U,Object.defineProperty(D.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function U(C,R){if(R.length===0)return null;var O;return R.objectMode?O=R.buffer.shift():!C||C>=R.length?(R.decoder?O=R.buffer.join(""):R.buffer.length===1?O=R.buffer.first():O=R.buffer.concat(R.length),R.buffer.clear()):O=R.buffer.consume(C,R.decoder),O}function te(C){var R=C._readableState;c("endReadable",R.endEmitted),R.endEmitted||(R.ended=!0,process.nextTick(ge,R,C))}function ge(C,R){if(c("endReadableNT",C.endEmitted,C.length),!C.endEmitted&&C.length===0&&(C.endEmitted=!0,R.readable=!1,R.emit("end"),C.autoDestroy)){var O=R._writableState;(!O||O.autoDestroy&&O.finished)&&R.destroy()}}typeof Symbol=="function"&&(D.from=function(C,R){return b===void 0&&(b=OC()),b(D,C,R)});function we(C,R){for(var O=0,V=C.length;O<V;O++)if(C[O]===R)return O;return-1}return ol}var al,Vh;function Hm(){if(Vh)return al;Vh=1,al=a;var t=ks().codes,e=t.ERR_METHOD_NOT_IMPLEMENTED,r=t.ERR_MULTIPLE_CALLBACK,n=t.ERR_TRANSFORM_ALREADY_TRANSFORMING,s=t.ERR_TRANSFORM_WITH_LENGTH_0,i=ys();Cs()(a,i);function o(u,f){var h=this._transformState;h.transforming=!1;var g=h.writecb;if(g===null)return this.emit("error",new r);h.writechunk=null,h.writecb=null,f!=null&&this.push(f),g(u);var y=this._readableState;y.reading=!1,(y.needReadable||y.length<y.highWaterMark)&&this._read(y.highWaterMark)}function a(u){if(!(this instanceof a))return new a(u);i.call(this,u),this._transformState={afterTransform:o.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,u&&(typeof u.transform=="function"&&(this._transform=u.transform),typeof u.flush=="function"&&(this._flush=u.flush)),this.on("prefinish",c)}function c(){var u=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(f,h){l(u,f,h)}):l(this,null,null)}a.prototype.push=function(u,f){return this._transformState.needTransform=!1,i.prototype.push.call(this,u,f)},a.prototype._transform=function(u,f,h){h(new e("_transform()"))},a.prototype._write=function(u,f,h){var g=this._transformState;if(g.writecb=h,g.writechunk=u,g.writeencoding=f,!g.transforming){var y=this._readableState;(g.needTransform||y.needReadable||y.length<y.highWaterMark)&&this._read(y.highWaterMark)}},a.prototype._read=function(u){var f=this._transformState;f.writechunk!==null&&!f.transforming?(f.transforming=!0,this._transform(f.writechunk,f.writeencoding,f.afterTransform)):f.needTransform=!0},a.prototype._destroy=function(u,f){i.prototype._destroy.call(this,u,function(h){f(h)})};function l(u,f,h){if(f)return u.emit("error",f);if(h!=null&&u.push(h),u._writableState.length)throw new s;if(u._transformState.transforming)throw new n;return u.push(null)}return al}var cl,Gh;function LC(){if(Gh)return cl;Gh=1,cl=e;var t=Hm();Cs()(e,t);function e(r){if(!(this instanceof e))return new e(r);t.call(this,r)}return e.prototype._transform=function(r,n,s){s(null,r)},cl}var ll,Xh;function UC(){if(Xh)return ll;Xh=1;var t;function e(h){var g=!1;return function(){g||(g=!0,h.apply(void 0,arguments))}}var r=ks().codes,n=r.ERR_MISSING_ARGS,s=r.ERR_STREAM_DESTROYED;function i(h){if(h)throw h}function o(h){return h.setHeader&&typeof h.abort=="function"}function a(h,g,y,A){A=e(A);var E=!1;h.on("close",function(){E=!0}),t===void 0&&(t=Ku()),t(h,{readable:g,writable:y},function(x){if(x)return A(x);E=!0,A()});var m=!1;return function(x){if(!E&&!m){if(m=!0,o(h))return h.abort();if(typeof h.destroy=="function")return h.destroy();A(x||new s("pipe"))}}}function c(h){h()}function l(h,g){return h.pipe(g)}function u(h){return!h.length||typeof h[h.length-1]!="function"?i:h.pop()}function f(){for(var h=arguments.length,g=new Array(h),y=0;y<h;y++)g[y]=arguments[y];var A=u(g);if(Array.isArray(g[0])&&(g=g[0]),g.length<2)throw new n("streams");var E,m=g.map(function(x,T){var b=T<g.length-1,S=T>0;return a(x,b,S,function(v){E||(E=v),v&&m.forEach(c),!b&&(m.forEach(c),A(E))})});return g.reduce(l)}return ll=f,ll}var ul,Zh;function zC(){if(Zh)return ul;Zh=1,ul=r;var t=za().EventEmitter,e=Cs();e(r,t),r.Readable=qm(),r.Writable=$m(),r.Duplex=ys(),r.Transform=Hm(),r.PassThrough=LC(),r.finished=Ku(),r.pipeline=UC(),r.Stream=r;function r(){t.call(this)}return r.prototype.pipe=function(n,s){var i=this;function o(g){n.writable&&n.write(g)===!1&&i.pause&&i.pause()}i.on("data",o);function a(){i.readable&&i.resume&&i.resume()}n.on("drain",a),!n._isStdio&&(!s||s.end!==!1)&&(i.on("end",l),i.on("close",u));var c=!1;function l(){c||(c=!0,n.end())}function u(){c||(c=!0,typeof n.destroy=="function"&&n.destroy())}function f(g){if(h(),t.listenerCount(this,"error")===0)throw g}i.on("error",f),n.on("error",f);function h(){i.removeListener("data",o),n.removeListener("drain",a),i.removeListener("end",l),i.removeListener("close",u),i.removeListener("error",f),n.removeListener("error",f),i.removeListener("end",h),i.removeListener("close",h),n.removeListener("close",h)}return i.on("end",h),i.on("close",h),n.on("close",h),n.emit("pipe",i),n},ul}var $C=zC();async function*dl(t,e,r){let n=1;const s={chunks:[],length:0};for await(const i of r(t))for(s.chunks.push(i),s.length+=i.byteLength;s.length>e;){const o=s.chunks.length>1?Gr.Buffer.concat(s.chunks):s.chunks[0];yield{partNumber:n,data:o.subarray(0,e)},s.chunks=[o.subarray(e)],s.length=s.chunks[0].byteLength,n+=1}yield{partNumber:n,data:s.chunks.length!==1?Gr.Buffer.concat(s.chunks):s.chunks[0],lastPart:!0}}async function*Yh(t,e){let r=1,n=0,s=e;for(;s<t.byteLength;)yield{partNumber:r,data:t.subarray(n,s)},r+=1,n=s,s=n+e;yield{partNumber:r,data:t.subarray(n),lastPart:!0}}async function*qC(t){for await(const e of t)Gr.Buffer.isBuffer(e)||e instanceof Uint8Array?yield e:yield Gr.Buffer.from(e)}async function*Qh(t){const e=t.getReader();try{for(;;){const{done:r,value:n}=await e.read();if(r)return;Gr.Buffer.isBuffer(n)||n instanceof Uint8Array?yield n:yield Gr.Buffer.from(n)}}catch(r){throw r}finally{e.releaseLock()}}const HC=(t,e)=>{if(t instanceof Uint8Array)return Yh(t,e);if(t instanceof $C.Readable)return dl(t,e,qC);if(t instanceof String||typeof t=="string")return Yh(Gr.Buffer.from(t),e);if(typeof t.stream=="function")return dl(t.stream(),e,Qh);if(t instanceof ReadableStream)return dl(t,e,Qh);throw new Error("Body Data is unsupported format, expected data to be one of: string | Uint8Array | Buffer | Readable | ReadableStream | Blob;.")},Hn=class Hn extends Wc.EventEmitter{constructor(r){super();z(this,"MAX_PARTS",1e4);z(this,"queueSize",4);z(this,"partSize",Hn.MIN_PART_SIZE);z(this,"leavePartsOnError",!1);z(this,"tags",[]);z(this,"client");z(this,"params");z(this,"totalBytes");z(this,"bytesUploadedSoFar");z(this,"abortController");z(this,"concurrentUploaders",[]);z(this,"createMultiPartPromise");z(this,"abortMultipartUploadCommand",null);z(this,"uploadedParts",[]);z(this,"uploadEnqueuedPartsCount",0);z(this,"uploadId");z(this,"uploadEvent");z(this,"isMultiPart",!0);z(this,"singleUploadResult");z(this,"sent",!1);this.queueSize=r.queueSize||this.queueSize,this.partSize=r.partSize||this.partSize,this.leavePartsOnError=r.leavePartsOnError||this.leavePartsOnError,this.tags=r.tags||this.tags,this.client=r.client,this.params=r.params,this.__validateInput(),this.totalBytes=Vc(this.params.Body),this.bytesUploadedSoFar=0,this.abortController=r.abortController??new CC}async abort(){this.abortController.abort()}async done(){if(this.sent)throw new Error("@aws-sdk/lib-storage: this instance of Upload has already executed .done(). Create a new instance.");return this.sent=!0,await Promise.race([this.__doMultipartUpload(),this.__abortTimeout(this.abortController.signal)])}on(r,n){return this.uploadEvent=r,super.on(r,n)}async __uploadUsingPut(r){var A;this.isMultiPart=!1;const n={...this.params,Body:r.data},s=this.client.config,i=s.requestHandler,o=i instanceof Wc.EventEmitter?i:null,a=E=>{this.bytesUploadedSoFar=E.loaded,this.totalBytes=E.total,this.__notifyProgress({loaded:this.bytesUploadedSoFar,total:this.totalBytes,part:r.partNumber,Key:this.params.Key,Bucket:this.params.Bucket})};o!==null&&o.on("xhr.upload.progress",a);const c=await Promise.all([this.client.send(new Ch(n)),(A=s==null?void 0:s.endpoint)==null?void 0:A.call(s)]),l=c[0];let u=c[1];if(u||(u=yu(await bg(n,Ch,{...s}))),!u)throw new Error('Could not resolve endpoint from S3 "client.config.endpoint()" nor EndpointsV2.');o!==null&&o.off("xhr.upload.progress",a);const f=this.params.Key.split("/").map(E=>Po(E)).join("/"),h=Po(this.params.Bucket),g=(()=>{const E=u.hostname.startsWith(`${h}.`),m=this.client.config.forcePathStyle,x=u.port?`:${u.port}`:"";return m?`${u.protocol}//${u.hostname}${x}/${h}/${f}`:E?`${u.protocol}//${u.hostname}${x}/${f}`:`${u.protocol}//${h}.${u.hostname}${x}/${f}`})();this.singleUploadResult={...l,Bucket:this.params.Bucket,Key:this.params.Key,Location:g};const y=Vc(r.data);this.__notifyProgress({loaded:y,total:y,part:1,Key:this.params.Key,Bucket:this.params.Bucket})}async __createMultipartUpload(){const r=await this.client.config.requestChecksumCalculation();if(!this.createMultiPartPromise){const n={...this.params,Body:void 0};r==="WHEN_SUPPORTED"&&(n.ChecksumAlgorithm=this.params.ChecksumAlgorithm||w1.CRC32),this.createMultiPartPromise=this.client.send(new SC(n)).then(s=>(this.abortMultipartUploadCommand=new yC({Bucket:this.params.Bucket,Key:this.params.Key,UploadId:s.UploadId}),s))}return this.createMultiPartPromise}async __doConcurrentUpload(r){for await(const n of r){if(this.uploadEnqueuedPartsCount>this.MAX_PARTS)throw new Error(`Exceeded ${this.MAX_PARTS} parts in multipart upload to Bucket: ${this.params.Bucket} Key: ${this.params.Key}.`);if(this.abortController.signal.aborted)return;if(n.partNumber===1&&n.lastPart)return await this.__uploadUsingPut(n);if(!this.uploadId){const{UploadId:u}=await this.__createMultipartUpload();if(this.uploadId=u,this.abortController.signal.aborted)return}const s=Vc(n.data)||0,i=this.client.config.requestHandler,o=i instanceof Wc.EventEmitter?i:null;let a=0;const c=(u,f)=>{(Number(f.query.partNumber)||-1)===n.partNumber&&(u.total&&s&&(this.bytesUploadedSoFar+=u.loaded-a,a=u.loaded),this.__notifyProgress({loaded:this.bytesUploadedSoFar,total:this.totalBytes,part:n.partNumber,Key:this.params.Key,Bucket:this.params.Bucket}))};o!==null&&o.on("xhr.upload.progress",c),this.uploadEnqueuedPartsCount+=1;const l=await this.client.send(new AC({...this.params,ContentLength:void 0,UploadId:this.uploadId,Body:n.data,PartNumber:n.partNumber}));if(o!==null&&o.off("xhr.upload.progress",c),this.abortController.signal.aborted)return;if(!l.ETag)throw new Error(`Part ${n.partNumber} is missing ETag in UploadPart response. Missing Bucket CORS configuration for ETag header?`);this.uploadedParts.push({PartNumber:n.partNumber,ETag:l.ETag,...l.ChecksumCRC32&&{ChecksumCRC32:l.ChecksumCRC32},...l.ChecksumCRC32C&&{ChecksumCRC32C:l.ChecksumCRC32C},...l.ChecksumSHA1&&{ChecksumSHA1:l.ChecksumSHA1},...l.ChecksumSHA256&&{ChecksumSHA256:l.ChecksumSHA256}}),o===null&&(this.bytesUploadedSoFar+=s),this.__notifyProgress({loaded:this.bytesUploadedSoFar,total:this.totalBytes,part:n.partNumber,Key:this.params.Key,Bucket:this.params.Bucket})}}async __doMultipartUpload(){const r=HC(this.params.Body,this.partSize),n=[];for(let i=0;i<this.queueSize;i++){const o=this.__doConcurrentUpload(r).catch(a=>{n.push(a)});this.concurrentUploaders.push(o)}if(await Promise.all(this.concurrentUploaders),n.length>=1)throw await this.markUploadAsAborted(),n[0];if(this.abortController.signal.aborted)throw await this.markUploadAsAborted(),Object.assign(new Error("Upload aborted."),{name:"AbortError"});let s;if(this.isMultiPart){this.uploadedParts.sort((o,a)=>o.PartNumber-a.PartNumber);const i={...this.params,Body:void 0,UploadId:this.uploadId,MultipartUpload:{Parts:this.uploadedParts}};s=await this.client.send(new xC(i)),typeof(s==null?void 0:s.Location)=="string"&&s.Location.includes("%2F")&&(s.Location=s.Location.replace(/%2F/g,"/"))}else s=this.singleUploadResult;return this.abortMultipartUploadCommand=null,this.tags.length&&await this.client.send(new EC({...this.params,Tagging:{TagSet:this.tags}})),s}async markUploadAsAborted(){this.uploadId&&!this.leavePartsOnError&&this.abortMultipartUploadCommand!==null&&(await this.client.send(this.abortMultipartUploadCommand),this.abortMultipartUploadCommand=null)}__notifyProgress(r){this.uploadEvent&&this.emit(this.uploadEvent,r)}async __abortTimeout(r){return new Promise((n,s)=>{r.onabort=()=>{const i=new Error("Upload aborted.");i.name="AbortError",s(i)}})}__validateInput(){if(!this.params)throw new Error("InputError: Upload requires params to be passed to upload.");if(!this.client)throw new Error("InputError: Upload requires a AWS client to do uploads with.");if(this.partSize<Hn.MIN_PART_SIZE)throw new Error(`EntityTooSmall: Your proposed upload partsize [${this.partSize}] is smaller than the minimum allowed size [${Hn.MIN_PART_SIZE}] (5MB)`);if(this.queueSize<1)throw new Error("Queue size: Must have at least one uploading queue.")}};z(Hn,"MIN_PART_SIZE",1024*1024*5);let Bl=Hn;class jC{constructor(e,r,n){z(this,"s3Client");z(this,"bucket");z(this,"callbacks");this.s3Client=new mC({...e,forcePathStyle:!0,region:e.region||"us-east-1"}),this.bucket=r,this.callbacks=n}async uploadAll(e){const r=[];for(let n=0;n<e.length;n++){const s=e.item(n);if(s){const i=await this.uploadContent(s);r.push(i)}}return r}async uploadContent(e){var c,l,u;const r=new Date().toISOString().replace(/[-:]/g,"").replace(/T/,"-").replace(/\..+/,"").slice(2),n=e.name,s=`upload/${r}/${n}`;let i=5,o="error",a=!0;do try{let f=e.type;f.indexOf(";")>-1&&(f=f.substring(0,f.indexOf(";")));const h=new Bl({client:this.s3Client,params:{Bucket:this.bucket,Key:s,Body:e,ContentType:f}});h.on("httpUploadProgress",g=>{var y;if(g.total&&((y=this.callbacks)!=null&&y.onProgress)){const A=Math.round((g.loaded||50)/g.total*100);this.callbacks.onProgress(n,A)}}),await h.done(),(c=this.callbacks)!=null&&c.onSuccess&&this.callbacks.onSuccess(n),o="completed",a=!1}catch(f){if(o="error",f instanceof Error&&(f.name==="NetworkingError"||f.message.includes("Network")))(l=this.callbacks)!=null&&l.onRetry&&this.callbacks.onRetry(n,i),i--,await new Promise(h=>setTimeout(h,25*i));else{a=!1;const h=f instanceof Error?f.message:"Unknown error";(u=this.callbacks)!=null&&u.onError&&this.callbacks.onError(n,h)}}while(a&&i>0);return o}}function WC(t,e,r,n){k(e)&&k(e).files&&(J(r,Ee(k(e).files.length)),k(e).files.length>0&&n(k(e).files[0]))}async function KC(t,e,r,n,s,i,o){if(k(e)&&k(e).files&&k(e).files.length>0){r();try{const a=yr(Ca).s3,c=Ey(a);if(c==null||c==null){n("Invalid S3 API URL set in environment");return}const l=s()||i().namespace,u=s()?`${s()}-data`:`${i().namespace}-data`,f=i().s3_key,h=new jC({endpoint:a,credentials:{accessKeyId:l,secretAccessKey:f}},u);Array.from(k(e).files).forEach(g=>{const y={id:wu(),name:g.name,size:g.size,type:g.type,uploadDate:new Date,url:`s3://${u}/${g.name}`};pp(y)}),await h.uploadAll(k(e).files),o("Files uploaded successfully!")}catch(a){console.error("Upload error:",a),n("Failed to upload files")}}}var VC=he('<input type="file" class="hidden" multiple> <!>',1),GC=he('<p class="text-sm text-muted-foreground"> </p>'),XC=he('<div class="max-w-sm flex flex-col gap-2"><!> <div class="flex gap-2"><input type="file" class="border-input bg-background ring-offset-background placeholder:text-muted-foreground focus-visible:ring-ring flex h-10 w-full file:text-black rounded-md border px-3 py-2 text-sm file:border-0 file:bg-transparent file:text-sm file:font-medium focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"> <!></div> <!></div>'),ZC=he('<div class="w-12 h-12 bg-red-500 rounded-full flex items-center justify-center"><!></div>'),YC=he('<div class="w-12 h-12 rounded-full flex items-center justify-center" style="background-color: rgb(30, 164, 206);"><svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg></div>'),QC=he('<div class="w-12 h-12 rounded-full flex items-center justify-center" style="background-color: rgb(30, 164, 206);"><!></div>'),JC=he('<div class="mb-4"><div class="flex items-center justify-between mb-2"><span class="text-gray-500 text-sm">Progress</span> <span class="text-gray-800 text-sm font-medium"> </span></div> <div class="w-full bg-gray-200 rounded-full h-2"><div class="h-2 rounded-full transition-all duration-300 ease-out"></div></div></div>'),ek=he('<div class="flex justify-end"><!></div>'),tk=he('<div class="fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50"><div class="bg-white rounded-2xl p-8 max-w-md w-full mx-4 shadow-2xl"><div class="flex items-center justify-between mb-6"><h2 class="text-gray-800 text-xl font-semibold"> </h2> <button class="text-gray-500 hover:text-gray-700 transition-colors"><!></button></div> <div class="flex items-center gap-4 mb-6"><div class="flex-shrink-0"><!></div> <div class="flex-1"><p class="text-gray-600 text-sm leading-relaxed"> </p></div></div> <!> <!></div></div>'),rk=he("<!> <!>",1);function Jh(t,e){We(e,!0);const[r,n]=wp(),s=()=>zs(Ay,"$customNamespace",r),i=()=>zs(Gs,"$user",r),o=64;let a=ne(e,"label",3,""),c=ne(e,"required",3,!1),l=ne(e,"forBucket",3,!1),u=ne(e,"value",15),f=Oe(void 0),h=Oe(0),g=Oe(!1),y=Oe(0),A=Oe("Uploading..."),E=Oe("Just give us a moment to process your file."),m=Oe(!1);function x(){k(f)&&(k(f).value="",J(h,0),u(""))}function T(){J(g,!0),J(y,0),J(A,"Uploading..."),J(E,"Just give us a moment to process your files."),J(m,!1),N()}function b(ye){J(g,!0),J(y,0),J(A,"Upload Failed"),J(E,Ee(ye)),J(m,!0)}function S(ye){J(A,"Upload Complete"),J(E,Ee(ye)),J(y,100),J(m,!1),setTimeout(()=>{v()},2e3)}function v(){J(g,!1),J(y,0),J(m,!1)}function N(){if(k(m))return;const ye=setInterval(()=>{k(y)<85?(J(y,k(y)+Math.random()*8),k(y)>85&&J(y,85)):clearInterval(ye)},200)}function F(ye){T(),D(ye).then(Te=>{u(Te);const Ie={id:wu(),name:ye.name,size:ye.size,type:ye.type,uploadDate:new Date,base64:Te};pp(Ie),new Blob([u()]).size>Number(o)*1024*1024?b(`Too big! Maximum size is ${o}MB. Request will fail!`):S(`File "${ye.name}" uploaded successfully!`)}).catch(Te=>{console.error("Error converting:",Te),b("Failed to read file")})}async function D(ye){const Te=new FileReader;return new Promise((Ie,Ve)=>{Te.onload=()=>{if(typeof Te.result=="string"){const Pe=Te.result.split(",")[1];Ie(Pe)}else Ve(new Error("Failed to convert file to base64"))},Te.onerror=()=>{Ve(new Error("Error reading file"))},Te.readAsDataURL(ye)})}var ee=rk(),Y=de(ee);{var q=ye=>{var Te=VC(),Ie=de(Te);Ie.__change=[KC,f,T,b,s,i,S],fs(Ie,Pe=>J(f,Pe),()=>k(f));var Ve=Ce(Ie,2);gr(Ve,{type:"button",class:"w-10 mr-2 border border-blue-400",variant:"outline",onclick:()=>{var Pe;return(Pe=k(f))==null?void 0:Pe.click()},children:(Pe,Ne)=>{Dy(Pe,{})},$$slots:{default:!0}}),$(ye,Te)},ue=ye=>{var Te=XC(),Ie=ie(Te);On(Ie,{get for(){return e.name},children:(Le,L)=>{ut();var U=Rt();je(()=>Tt(U,a())),$(Le,U)},$$slots:{default:!0}});var Ve=Ce(Ie,2),Pe=ie(Ve);Pe.__change=[WC,f,h,F],fs(Pe,Le=>J(f,Le),()=>k(f));var Ne=Ce(Pe,2);{var xe=Le=>{gr(Le,{type:"button",class:"w-10 border border-blue-400",variant:"outline",onclick:x,children:(L,U)=>{q0(L,{})},$$slots:{default:!0}})};_e(Ne,Le=>{u()&&Le(xe)})}se(Ve);var Xe=Ce(Ve,2);{var Ze=Le=>{var L=GC(),U=ie(L);se(L),je(()=>Tt(U,`${k(h)??""} file${(k(h)!==1?"s":"")??""} selected`)),$(Le,L)};_e(Xe,Le=>{k(h)>0&&Le(Ze)})}se(Te),je(()=>{Va(Pe,"id",e.name),Va(Pe,"name",e.name),Pe.required=c()}),$(ye,Te)};_e(Y,ye=>{l()?ye(q):ye(ue,!1)})}var Z=Ce(Y,2);{var ke=ye=>{var Te=tk(),Ie=ie(Te),Ve=ie(Ie),Pe=ie(Ve),Ne=ie(Pe,!0);se(Pe);var xe=Ce(Pe,2);xe.__click=v;var Xe=ie(xe);td(Xe,{size:24}),se(xe),se(Ve);var Ze=Ce(Ve,2),Le=ie(Ze),L=ie(Le);{var U=w=>{var d=ZC(),p=ie(d);td(p,{size:24,class:"text-white"}),se(d),$(w,d)},te=w=>{var d=be(),p=de(d);{var _=H=>{var K=YC();$(H,K)},B=H=>{var K=QC(),Ae=ie(K);Fy(Ae,{size:24,class:"text-white animate-spin"}),se(K),$(H,K)};_e(p,H=>{k(y)>=100?H(_):H(B,!1)},!0)}$(w,d)};_e(L,w=>{k(m)?w(U):w(te,!1)})}se(Le);var ge=Ce(Le,2),we=ie(ge),C=ie(we,!0);se(we),se(ge),se(Ze);var R=Ce(Ze,2);{var O=w=>{var d=JC(),p=ie(d),_=Ce(ie(p),2),B=ie(_);je(()=>Tt(B,`${Math.round(k(y))??""}%`)),se(_),se(p);var H=Ce(p,2),K=ie(H);se(H),se(d),je(()=>Va(K,"style",`width: ${k(y)??""}%; background-color: rgb(30, 164, 206);`)),$(w,d)};_e(R,w=>{k(m)||w(O)})}var V=Ce(R,2);{var oe=w=>{var d=ek(),p=ie(d);gr(p,{variant:"outline",onclick:v,class:"bg-white border-gray-300 text-gray-700 hover:bg-gray-50",children:(_,B)=>{ut();var H=Rt("Cancel");$(_,H)},$$slots:{default:!0}}),se(d),$(w,d)};_e(V,w=>{!k(m)&&k(y)<100&&w(oe)})}se(Ie),se(Te),je(()=>{Tt(Ne,k(A)),Tt(C,k(E))}),$(ye,Te)};_e(Z,ye=>{k(g)&&ye(ke)})}$(t,ee),Ke(),n()}bp(["change","click"]);function nk(t,e){(t.key==="Enter"||t.key===" ")&&e()}var sk=he("<!> <!>",1),ik=he('<div class="flex items-center space-x-2"><!> <!></div>'),ok=he("<!> <!>",1),ak=he('<div class="text-red-400"> </div>'),ck=he('<div class="flex space-x-2"><!> <div class="leading-none"><!></div></div>'),lk=he("<!> <!>",1),uk=he('<div class="flex flex-col gap-2 mb-4 sm:px-2 lg:px-5"><div class="flex w-full flex-col gap-1.5"><!></div></div>'),dk=he('<form class="flex flex-col gap-1.5 p-2 bg-gradient-to-t from-blue-50 to-white w-full py-4"><!> <div class="flex flex-col justify-center"><!> <!></div></form>'),fk=he('<div class="text-red-400"> <!></div>'),hk=he('<div class="flex w-full mt-0.5 justify-end"><!></div>'),pk=he('<form class="flex flex-col p-2 bg-slate-100 w-full"><div class="flex w-full"><!> <!> <!></div> <!></form>'),gk=(t,e)=>{t.target===t.currentTarget&&e()},mk=he('<div class="fixed inset-0 bg-black bg-opacity-60 backdrop-blur-sm flex items-center justify-center z-[9999] transition-all duration-300 ease-out" role="button" tabindex="0" aria-label="Close dialog"><div class="bg-white rounded-3xl shadow-2xl p-8 max-w-md mx-4 transform scale-100 transition-all duration-300 ease-out relative border border-gray-100"><button class="absolute top-4 right-4 w-8 h-8 rounded-full bg-gray-100 hover:bg-gray-200 flex items-center justify-center transition-colors duration-200" aria-label="Close dialog"><svg class="w-4 h-4 text-gray-600" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></button> <div class="text-center"><div class="mx-auto flex items-center justify-center h-20 w-20 rounded-full bg-gradient-to-br from-red-100 to-orange-100 mb-6 relative overflow-hidden"><div class="absolute inset-0 bg-gradient-to-br from-red-50 to-orange-50 animate-pulse"></div> <svg class="h-10 w-10 text-red-500 relative z-10" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg></div> <h3 id="dialog-title" class="text-2xl font-bold text-gray-900 mb-3 tracking-tight">Clear Conversation?</h3> <div class="text-gray-600 mb-8 leading-relaxed space-y-2"><p class="text-base">This will permanently delete all messages in this conversation.</p> <p class="text-sm text-gray-500 font-medium">⚠️ This action cannot be undone</p></div> <div class="flex gap-4 justify-center"><!> <!></div></div></div></div>'),yk=he("<!> <!>",1);function bk(t,e){We(e,!0);let r=ne(e,"value",15),n=ne(e,"formInput",15),s=ne(e,"base64InputFile",15),i=Oe(Ee({s3_key:"",namespace:"",isAuthenticated:!1,token:""}));Yt(()=>Gs.subscribe(N=>J(i,Ee(N))));let o=pe(()=>{let v={};return e.formData&&e.formData.map(N=>{v[N.name]=(v[N.name]||0)+1}),v}),a=pe(()=>{for(let v in k(o))if(k(o)[v]>1)return!0;return!1});function c(){let v=[];for(let N in k(o))k(o)[N]>1&&v.push(N);return v.join(", ")}let l=Oe(null),u=Oe(!1);function f(){if(!e.isThinking&&!e.waitingForStreamToEnd&&r()){const v=new Event("submit");e.onSubmit(v,k(l))}}function h(){J(u,!0)}function g(){e.cleanChat&&e.cleanChat(),J(u,!1)}function y(){J(u,!1)}function A(v){v.key==="Escape"&&k(u)&&y()}var E=yk();vo("keydown",oy,A);var m=de(E);{var x=v=>{var N=dk(),F=ie(N);Xs(F,17,()=>e.formData,Zs,(ue,Z)=>{var ke=uk(),ye=ie(ke),Te=ie(ye);{var Ie=Pe=>{var Ne=sk(),xe=de(Ne);On(xe,{get for(){return k(Z).name},children:(Ze,Le)=>{ut();var L=Rt();je(()=>Tt(L,k(Z).label)),$(Ze,L)},$$slots:{default:!0}});var Xe=Ce(xe,2);ud(Xe,{get id(){return k(Z).name},get name(){return k(Z).name},get required(){return k(Z).required},class:"break-words whitespace-pre-wrap",placeholder:"Type your message here.",get value(){return n()[k(Z).name]},set value(Ze){n(n()[k(Z).name]=Ze,!0)},$$events:{enterkey:()=>e.onFormSubmit()}}),$(Pe,Ne)},Ve=Pe=>{var Ne=be(),xe=de(Ne);{var Xe=Le=>{var L=ok(),U=de(L);On(U,{get for(){return k(Z).name},children:(ge,we)=>{ut();var C=Rt();je(()=>Tt(C,k(Z).label)),$(ge,C)},$$slots:{default:!0}});var te=Ce(U,2);at(te,()=>qb,(ge,we)=>{we(ge,{get id(){return k(Z).name},class:"flex gap-6",get required(){return k(Z).required},get value(){return n()[k(Z).name]},set value(C){n(n()[k(Z).name]=C,!0)},children:(C,R)=>{var O=be(),V=de(O);Xs(V,17,()=>k(Z).options,Zs,(oe,w,d)=>{var p=ik(),_=ie(p);at(_,()=>jb,(H,K)=>{K(H,{get value(){return k(w)},id:`option-${d??""}`})});var B=Ce(_,2);On(B,{for:`option-${d??""}`,children:(H,K)=>{ut();var Ae=Rt();je(()=>Tt(Ae,k(w))),$(H,Ae)},$$slots:{default:!0}}),se(p),$(oe,p)}),$(C,O)},$$slots:{default:!0}})}),$(Le,L)},Ze=Le=>{var L=be(),U=de(L);{var te=we=>{var C=ak(),R=ie(C);se(C),je(()=>Tt(R,`-- No options provided for radio group ${k(Z).name??""} --`)),$(we,C)},ge=we=>{var C=be(),R=de(C);{var O=oe=>{var w=ck(),d=ie(w);$b(d,{get id(){return k(Z).name},get required(){return k(Z).required},onCheckedChange:B=>n(n()[k(Z).name]=B.toString(),!0)});var p=Ce(d,2),_=ie(p);On(_,{get for(){return k(Z).name},class:"text-sm font-medium ",children:(B,H)=>{ut();var K=Rt();je(()=>Tt(K,k(Z).label)),$(B,K)},$$slots:{default:!0}}),se(p),se(w),$(oe,w)},V=oe=>{var w=be(),d=de(w);{var p=B=>{Jh(B,{get name(){return k(Z).name},get label(){return k(Z).label},get required(){return k(Z).required},get value(){return n()[k(Z).name]},set value(H){n(n()[k(Z).name]=H,!0)}})},_=B=>{var H=lk(),K=de(H);On(K,{get for(){return k(Z).name},children:(De,Ue)=>{ut();var Ge=Rt();je(()=>Tt(Ge,k(Z).label)),$(De,Ge)},$$slots:{default:!0}});var Ae=Ce(K,2);Iy(Ae,{get type(){return k(Z).type},get id(){return k(Z).name},get name(){return k(Z).name},get required(){return k(Z).required},autocomplete:"off",get value(){return n()[k(Z).name]},set value(De){n(n()[k(Z).name]=De,!0)}}),$(B,H)};_e(d,B=>{k(Z).type==="file"?B(p):B(_,!1)},!0)}$(oe,w)};_e(R,oe=>{k(Z).type==="checkbox"?oe(O):oe(V,!1)},!0)}$(we,C)};_e(U,we=>{k(Z).type==="radio"&&!k(Z).options?we(te):we(ge,!1)},!0)}$(Le,L)};_e(xe,Le=>{k(Z).type==="radio"&&k(Z).options?Le(Xe):Le(Ze,!1)},!0)}$(Pe,Ne)};_e(Te,Pe=>{k(Z).type==="textarea"?Pe(Ie):Pe(Ve,!1)})}se(ye),se(ke),$(ue,ke)});var D=Ce(F,2),ee=ie(D);gr(ee,{type:"submit",size:"lg",variant:"default",class:"bg-sidebar",get disabled(){return e.isThinking},children:(ue,Z)=>{ut();var ke=Rt("Send");$(ue,ke)},$$slots:{default:!0}});var Y=Ce(ee,2);{var q=ue=>{gr(ue,{type:"button",size:"sm",variant:"outline",onclick:h,get disabled(){return e.isThinking},class:"text-gray-700 mt-0.5 px-2 py-1 text-xs w-fit self-center",children:(Z,ke)=>{ut();var ye=Rt("🧹 Clean");$(Z,ye)},$$slots:{default:!0}})};_e(Y,ue=>{e.cleanChat&&ue(q)})}se(D),se(N),vo("submit",N,ue=>{var Z;ue.preventDefault(),e.onFormSubmit(),(Z=k(l))==null||Z.focus()}),$(v,N)},T=v=>{var N=be(),F=de(N);{var D=Y=>{var q=fk(),ue=ie(q);je(()=>Tt(ue,`-- Form entries names must be unique: ${c()??""} -- `));var Z=Ce(ue);gr(Z,{type:"button",size:"sm",variant:"link",onclick:()=>location.reload(),children:(ke,ye)=>{ut();var Te=Rt("Refresh Page");$(ke,Te)},$$slots:{default:!0}}),se(q),$(Y,q)},ee=Y=>{var q=pk(),ue=ie(q),Z=ie(ue);{var ke=xe=>{Jh(xe,{name:"file-button",forBucket:!0,get value(){return s()},set value(Xe){s(Xe)}})};_e(Z,xe=>{k(i)&&k(i).s3_key&&xe(ke)})}var ye=Ce(Z,2);{var Te=xe=>{var Xe=pe(()=>e.isThinking||e.waitingForStreamToEnd);ud(xe,{id:"chat-input",autofocus:!0,class:"grow bg-white border border-blue-200 max-h-[150px] resize-none overflow-y-auto",placeholder:"Enter your message...",get disabled(){return k(Xe)},get ref(){return k(l)},set ref(Ze){J(l,Ee(Ze))},get value(){return r()},set value(Ze){r(Ze)},$$events:{enterkey:f}})};_e(ye,xe=>{xe(Te)})}var Ie=Ce(ye,2),Ve=pe(()=>!r()||e.isThinking||e.waitingForStreamToEnd);gr(Ie,{type:"submit",variant:"default",class:"bg-sidebar ml-2",get disabled(){return k(Ve)},children:(xe,Xe)=>{ut();var Ze=Rt("Send");$(xe,Ze)},$$slots:{default:!0}}),se(ue);var Pe=Ce(ue,2);{var Ne=xe=>{var Xe=hk(),Ze=ie(Xe),Le=pe(()=>e.isThinking||e.waitingForStreamToEnd);gr(Ze,{type:"button",size:"sm",variant:"ghost",class:"bg-red-400 px-3.5 py-1 text-s -mt-9",onclick:h,get disabled(){return k(Le)},children:(L,U)=>{ut();var te=Rt("Clean");$(L,te)},$$slots:{default:!0}}),se(Xe),$(xe,Xe)};_e(Pe,xe=>{e.cleanChat&&xe(Ne)})}se(q),vo("submit",q,xe=>e.onSubmit(xe,k(l))),$(Y,q)};_e(F,Y=>{e.formData&&k(a)?Y(D):Y(ee,!1)},!0)}$(v,N)};_e(m,v=>{e.formData&&!k(a)?v(x):v(T,!1)})}var b=Ce(m,2);{var S=v=>{var N=mk();N.__click=[gk,y],N.__keydown=[nk,y];var F=ie(N),D=ie(F);D.__click=y;var ee=Ce(D,2),Y=Ce(ie(ee),6),q=ie(Y);gr(q,{type:"button",variant:"outline",class:"px-8 py-3 text-gray-700 border-gray-300 hover:bg-gray-50 hover:border-gray-400 transition-all duration-200 font-medium rounded-xl",onclick:y,children:(Z,ke)=>{ut();var ye=Rt("Keep Messages");$(Z,ye)},$$slots:{default:!0}});var ue=Ce(q,2);gr(ue,{type:"button",class:"px-8 py-3 bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white transition-all duration-200 font-medium rounded-xl shadow-lg hover:shadow-xl transform hover:scale-105",onclick:g,children:(Z,ke)=>{ut();var ye=Rt("Yes, Clear All");$(Z,ye)},$$slots:{default:!0}}),se(Y),se(ee),se(F),se(N),$(v,N)};_e(b,v=>{k(u)&&v(S)})}$(t,E),Ke()}bp(["click","keydown"]);var wk=he('<button class="px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors focus:ring-2 focus:ring-blue-300 focus:outline-none" type="button"> </button>'),vk=he('<div class="flex flex-wrap gap-2 mt-2 mb-4"></div>');function xk(t,e){We(e,!1);let r=ne(e,"options",24,()=>[]),n=ne(e,"onSelect",8),s=!1;function i(a){return function(c){c.preventDefault(),c.stopPropagation(),s||(s=!0,n()(a),setTimeout(()=>{s=!1},500))}}qi();var o=vk();Xs(o,5,r,Zs,(a,c)=>{var l=wk(),u=pe(()=>i(k(c))),f=ie(l,!0);se(l),je(()=>Tt(f,k(c))),vo("click",l,function(...h){var g;(g=k(u))==null||g.apply(this,h)}),$(a,l)}),se(o),$(t,o),Ke()}var Sk=he('<div class="ml-14 mt-2 options-container"><!></div>'),Ek=he("<!> <!> <!>",1),Ak=he('<div class="flex w-full h-12 justify-center items-center"><div class="inline-flex items-center gap-1 h-full"><span class="w-1 h-1 bg-current rounded-full animate-[bounce_0.8s_infinite]"></span> <span class="w-1 h-1 bg-current rounded-full animate-[bounce_0.8s_infinite_0.2s]"></span> <span class="w-1 h-1 bg-current rounded-full animate-[bounce_0.8s_infinite_0.4s]"></span></div></div>'),_k=he('<section class="flex size-full flex-col rounded-xl shadow-lg"><div id="chat-area" class="grow whitespace-pre-line break-words scroll-smooth bg-[#fafafa] p-4 overflow-y-auto"><!></div> <!> <!></section>');function e2(t,e){We(e,!0);let r=Oe(!1),n=Oe(Ee([])),s=Oe(""),i=Oe(Ee({})),o=Oe(null),a=Oe(""),c=Oe(!1),l=Oe(!1),u=Oe(Ee([])),f,h,g,y=Oe(void 0),A=Oe(!1),E=Oe(void 0),m=Oe(!1),x=Oe(!1),T=Oe(!1),b=Oe(0),S=Ee(new Set),v=Oe(null);Ll(()=>(J(T,!0),()=>{J(T,!1),J(m,!1),J(x,!1),S.clear(),J(v,null)}));function N(){J(o,null),J(i,Ee({}))}function F(){e.currentChat&&!k(l)&&(V0(e.currentChat),J(n,Ee([])),J(s,""),N(),J(u,Ee([])),J(l,!1),J(y,void 0),g&&(g.state={}),h&&(h.state={}),S.delete(e.currentChat),J(A,!0),g&&g.invoke(null).then(ye).finally(()=>{J(A,!1)}))}Yt(()=>{if(!k(T)||!e.currentChat)return;const O=e.currentChat;if(O!==k(E)&&!k(x)){console.log("🔄 Chat changed from",k(E),"to",O,"| Component mounted:",k(T),"| Initializing:",k(x)),k(v)&&(console.log("Cancelling previous invoke operation"),J(v,null)),J(x,!0),k(E)!==void 0&&(gp.set(!1),wo.set(!1),mp.set(!1)),J(E,Ee(O));let[oe,w]=e.currentChat.split(":");N(),J(u,Ee([])),J(c,!0),h=new G0(w),g=new X0(w);let[d,p]=Sp(e.currentChat);if(J(n,Ee(d)),J(r,Ee(p)),d.length===0&&!k(l)&&!S.has(e.currentChat)){const B=Date.now();if(B-k(b)<100){J(x,!1);return}J(b,Ee(B)),S.add(e.currentChat),J(A,!0),J(v,Ee(g.invoke(null).then(H=>{if(e.currentChat===O&&k(v)!==null)return ye(H)}).catch(H=>{e.currentChat===O&&(console.error("Error in initial invoke:",H),J(l,!1),S.delete(e.currentChat))}).finally(()=>{e.currentChat===O&&(J(A,!1),J(x,!1),J(v,null))})))}else J(A,!1),J(x,!1);J(m,!0)}});const D="/img/robot-mini.png",ee="/img/human-mini.png";async function Y(O,V,oe,w){let d="Didn't get a response from the server...";w&&(d=await Ye.parse(w)),d.endsWith(`
`)&&(d=d.slice(0,-1));const p=new rd(O,V,oe,d),_=k(n)[k(n).length-1];if(_&&_.name===p.name&&_.text===p.text&&_.side===p.side){console.log("Preventing duplicate message:",w);return}J(n,Ee(nd(e.currentChat,p,k(r))))}async function q(O){await Y("BOT",D,"left",O)}function ue(){const O=new rd("BOT",D,"left","");return k(n).push(O)-1}async function Z(O){await Y("YOU",ee,"right",O)}function ke(O){if(k(l)||!O)return;J(s,Ee(O)),Ie({preventDefault:()=>{}},null),J(u,Ee([]))}async function ye(O){if(k(v)===null){console.log("Ignoring response for cancelled operation");return}if("error"in O){if(!k(l))return;q(O.error),J(l,!1);return}const{answer:V,data:oe,streamMode:w}=O;if(!(!k(l)&&!k(A))){J(l,!1),oe.form&&(J(o,Ee(oe.form)),k(o).forEach(d=>{k(i)[d.name]=""})),J(u,Ee([]));try{const d=JSON.parse(V||"{}");d&&d.options&&Array.isArray(d.options)&&(J(u,Ee(d.options)),oe.message="")}catch{}if(k(u).length===0&&oe.output&&typeof oe.output=="string")try{const d=JSON.parse(oe.output);d&&d.options&&Array.isArray(d.options)&&J(u,Ee(d.options))}catch{}if(!V&&k(u).length===0){q("Didn't get a response from the server... :(");return}V&&k(u).length===0?q(V):k(u).length>0&&q("Please select an option:"),Ze(oe),J(r,Ee(w)),k(r)&&(h.state=g.state)}}async function Te(O){if("ok"in O)return;if(O=O,"error"in O){k(n).pop(),q(O.error),J(l,!1);return}const{answer:V,data:oe,streamMode:w}=O;J(l,!1),oe&&oe.form&&(J(o,Ee(oe.form)),k(o).forEach(d=>{k(i)[d.name]=""})),J(u,Ee([]));try{const d=JSON.parse(V||"{}");d&&d.options&&Array.isArray(d.options)&&(J(u,Ee(d.options)),oe.message="")}catch{}if(k(u).length===0&&oe&&oe.output&&typeof oe.output=="string")try{const d=JSON.parse(oe.output);d&&d.options&&Array.isArray(d.options)&&J(u,Ee(d.options))}catch{}if(!V&&k(u).length===0){q("Didn't get a response from the server... :(");return}V&&k(u).length===0?q(V):k(u).length>0&&q("Please select an option:"),Ze(oe),J(r,Ee(w))}async function Ie(O,V){if(O.preventDefault(),!k(c)){q("Please select a chat from the side menu.");return}if(N(),J(u,Ee([])),!k(s)){J(s,"");return}let oe={input:k(s)};await Z(k(s)),J(s,""),await Xe(oe),V==null||V.focus()}const Ve=()=>{let O={};for(let V in k(i))O[V]=k(i)[V];return{input:{form:O}}};async function Pe(){let O=Ve();N(),J(u,Ee([])),await Xe(O)}const Ne=new TextDecoder("utf-8");function xe(O){k(y)===void 0&&(console.error("stream msg idx undefined while processing chunk"),J(y,Ee(ue()))),k(l)&&J(l,!1);const V=Ne.decode(O,{stream:!0});try{_y(V).forEach(w=>{if(w.output){w.state&&(h.state=w.state);try{const d=JSON.parse(w.output);if(d&&d.options&&Array.isArray(d.options)){J(u,Ee(d.options));return}}catch{k(n)[k(y)].text+=w.output}}}),J(n,Ee([...k(n)]))}catch(oe){By.error(oe),console.error(oe)}}async function Xe(O){if(J(l,!0),k(r)){J(y,Ee(ue()));const oe=await h.invoke(O,xe);await Te(oe),nd(e.currentChat,k(n)[k(y)],k(r)),J(y,void 0);return}const V=await g.invoke(O);await ye(V)}async function Ze(O){let V;if(Object.keys(O).length!==0&&!(Object.keys(O).length===1&&"form"in O)){try{V=await(await fetch(yr(Ca).host+"/api/my/mastrogpt/display",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(O)})).text()}catch(oe){console.error(oe),V="<h1>Error!</h1><p>Check logs for details.</p>"}if(V){const oe=yr(wo);wo.set(!0),oe||await new Promise(w=>setTimeout(w,500)),e.sendDisplayData(V)}}}Yt(()=>{f&&k(n).length>0&&f.scroll({top:f.scrollHeight,behavior:"smooth"})});var Le=_k(),L=ie(Le),U=ie(L);{var te=O=>{Mb(O,{})},ge=O=>{var V=Ek(),oe=de(V);wy(oe,()=>k(n),B=>{var H=be(),K=de(H);{var Ae=Ue=>{var Ge=be(),He=de(Ge);Xs(He,17,()=>k(n).slice(0,k(n).length-1),Zs,(Ot,rr)=>{let Bn=()=>k(rr).side,qa=()=>k(rr).img,Ha=()=>k(rr).name,ja=()=>k(rr).text;ld(Ot,{get side(){return Bn()},get img(){return qa()},get name(){return Ha()},get html(){return ja()}})}),$(Ue,Ge)},De=Ue=>{var Ge=be(),He=de(Ge);Xs(He,17,()=>k(n),Zs,(Ot,rr)=>{let Bn=()=>k(rr).side,qa=()=>k(rr).img,Ha=()=>k(rr).name,ja=()=>k(rr).text;ld(Ot,{get side(){return Bn()},get img(){return qa()},get name(){return Ha()},get html(){return ja()}})}),$(Ue,Ge)};_e(K,Ue=>{k(r)&&k(l)?Ue(Ae):Ue(De,!1)})}$(B,H)});var w=Ce(oe,2);{var d=B=>{Lb(B,{})};_e(w,B=>{k(l)&&B(d)})}var p=Ce(w,2);{var _=B=>{var H=Sk(),K=ie(H);xk(K,{get options(){return k(u)},onSelect:ke}),se(H),$(B,H)};_e(p,B=>{k(u).length>0&&B(_)})}$(O,V)};_e(U,O=>{k(c)?O(ge,!1):O(te)})}se(L),fs(L,O=>f=O,()=>f);var we=Ce(L,2);$0(we,{class:"bg-slate-200"});var C=Ce(we,2);{var R=O=>{var V=be(),oe=de(V);{var w=p=>{var _=Ak();$(p,_)},d=p=>{var _=pe(()=>k(r)&&k(y)!==void 0);bk(p,{get formData(){return k(o)},onSubmit:Ie,onFormSubmit:Pe,get isThinking(){return k(l)},get waitingForStreamToEnd(){return k(_)},cleanChat:F,get value(){return k(s)},set value(B){J(s,Ee(B))},get formInput(){return k(i)},set formInput(B){J(i,Ee(B))},get base64InputFile(){return k(a)},set base64InputFile(B){J(a,Ee(B))}})};_e(oe,p=>{k(A)?p(w):p(d,!1)})}$(O,V)};_e(C,O=>{k(c)&&O(R)})}se(Le),$(t,Le),Ke()}function Ck(t){return typeof t=="function"}function kk(t){return t!==null&&typeof t=="object"}const ni=Symbol("box"),Vu=Symbol("is-writable");function Rk(t){return kk(t)&&ni in t}function Tk(t){return $e.isBox(t)&&Vu in t}function $e(t){let e=Oe(Ee(t));return{[ni]:!0,[Vu]:!0,get current(){return k(e)},set current(r){J(e,Ee(r))}}}function Pk(t,e){const r=pe(t);return e?{[ni]:!0,[Vu]:!0,get current(){return k(r)},set current(n){e(n)}}:{[ni]:!0,get current(){return t()}}}function Ik(t){return $e.isBox(t)?t:Ck(t)?$e.with(t):$e(t)}function Bk(t){return Object.entries(t).reduce((e,[r,n])=>$e.isBox(n)?($e.isWritableBox(n)?Object.defineProperty(e,r,{get(){return n.current},set(s){n.current=s}}):Object.defineProperty(e,r,{get(){return n.current}}),e):Object.assign(e,{[r]:n}),{})}function Mk(t){return $e.isWritableBox(t)?{[ni]:!0,get current(){return t.current}}:t}$e.from=Ik;$e.with=Pk;$e.flatten=Bk;$e.readonly=Mk;$e.isBox=Rk;$e.isWritableBox=Tk;function Nk(...t){return function(e){var r;for(const n of t)if(n){if(e.defaultPrevented)return;typeof n=="function"?n.call(this,e):(r=n.current)==null||r.call(this,e)}}}const Dk=/\d/,Fk=["-","_","/","."];function Ok(t=""){if(!Dk.test(t))return t!==t.toLowerCase()}function Lk(t){const e=[];let r="",n,s;for(const i of t){const o=Fk.includes(i);if(o===!0){e.push(r),r="",n=void 0;continue}const a=Ok(i);if(s===!1){if(n===!1&&a===!0){e.push(r),r=i,n=a;continue}if(n===!0&&a===!1&&r.length>1){const c=r.at(-1);e.push(r.slice(0,Math.max(0,r.length-1))),r=c+i,n=a;continue}}r+=i,n=a,s=o}return e.push(r),e}function jm(t){return t?Lk(t).map(e=>zk(e)).join(""):""}function Uk(t){return $k(jm(t||""))}function zk(t){return t?t[0].toUpperCase()+t.slice(1):""}function $k(t){return t?t[0].toLowerCase()+t.slice(1):""}function yo(t){if(!t)return{};const e={};function r(n,s){if(n.startsWith("-moz-")||n.startsWith("-webkit-")||n.startsWith("-ms-")||n.startsWith("-o-")){e[jm(n)]=s;return}if(n.startsWith("--")){e[n]=s;return}e[Uk(n)]=s}return vy(t,r),e}function Wm(...t){return(...e)=>{for(const r of t)typeof r=="function"&&r(...e)}}function on(t,e,r,n){const s=Array.isArray(e)?e:[e];return s.forEach(i=>t.addEventListener(i,r,n)),()=>{s.forEach(i=>t.removeEventListener(i,r,n))}}function qk(t,e){const r=RegExp(t,"g");return n=>{if(typeof n!="string")throw new TypeError(`expected an argument of type string, but got ${typeof n}`);return n.match(r)?n.replace(r,e):n}}const Hk=qk(/[A-Z]/,t=>`-${t.toLowerCase()}`);function jk(t){if(!t||typeof t!="object"||Array.isArray(t))throw new TypeError(`expected an argument of type object, but got ${typeof t}`);return Object.keys(t).map(e=>`${Hk(e)}: ${t[e]};`).join(`
`)}function Km(t={}){return jk(t).replace(`
`," ")}const Wk={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",transform:"translateX(-100%)"};Km(Wk);function Kk(t){var e;return t.length>2&&t.startsWith("on")&&t[2]===((e=t[2])==null?void 0:e.toLowerCase())}function Gu(...t){const e={...t[0]};for(let r=1;r<t.length;r++){const n=t[r];for(const s in n){const i=e[s],o=n[s],a=typeof i=="function",c=typeof o=="function";if(a&&Kk(s)){const l=i,u=o;e[s]=Nk(l,u)}else if(a&&c)e[s]=Wm(i,o);else if(s==="class"&&typeof i=="string"&&typeof o=="string")e[s]=Cy(i,o);else if(s==="style"){const l=typeof i=="object",u=typeof o=="object",f=typeof i=="string",h=typeof o=="string";if(l&&u)e[s]={...i,...o};else if(l&&h){const g=yo(o);e[s]={...i,...g}}else if(f&&u){const g=yo(i);e[s]={...g,...o}}else if(f&&h){const g=yo(i),y=yo(o);e[s]={...g,...y}}else l?e[s]=i:u&&(e[s]=o)}else e[s]=o!==void 0?o:i}}return typeof e.style=="object"&&(e.style=Km(e.style).replaceAll(`
`," ")),e.hidden!==!0&&(e.hidden=void 0),e.disabled!==!0&&(e.disabled=void 0),e}function Xu({id:t,ref:e,deps:r=()=>!0,onRefChange:n=()=>{},getRootNode:s=()=>typeof document<"u"?document:void 0}){const i=pe(()=>r()),o=pe(()=>s());Yt(()=>(t.current,k(i),k(o),Un(()=>{var c;const a=(c=k(o))==null?void 0:c.getElementById(t.current);a?e.current=a:e.current=null,n(e.current)}))),Yt(()=>()=>{e.current=null,n(null)})}function Vk({layout:t,panesArray:e,pivotIndices:r}){let n=0,s=100,i=0,o=0;const a=r[0];for(let f=0;f<e.length;f++){const{constraints:h}=e[f],{maxSize:g=100,minSize:y=0}=h;f===a?(n=y,s=g):(i+=y,o+=g)}const c=Math.min(s,100-i),l=Math.max(n,100-o),u=t[a];return{valueMax:c,valueMin:l,valueNow:u}}function it(t,e="Assertion failed!"){if(!t)throw console.error(e),new Error(e)}const Gk=100,Zu=10;function Zt(t,e,r=Zu){return si(t,e,r)===0}function si(t,e,r=Zu){const n=ep(t,r),s=ep(e,r);return Math.sign(n-s)}function Ds(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function ep(t,e){return Number.parseFloat(t.toFixed(e))}const $a=typeof document<"u";function Xk(t){return t instanceof HTMLElement}function Vm(t){return t.type==="keydown"}function Gm(t){return t.type.startsWith("mouse")}function Xm(t){return t.type.startsWith("touch")}function qn({paneConstraints:t,paneIndex:e,initialSize:r}){const n=t[e];it(n!=null,"Pane constraints should not be null.");const{collapsedSize:s=0,collapsible:i,maxSize:o=100,minSize:a=0}=n;let c=r;return si(c,a)<0&&(c=Zk(c,i,s,a)),c=Math.min(o,c),Number.parseFloat(c.toFixed(Zu))}function Zk(t,e,r,n){if(!e)return n;const s=(r+n)/2;return si(t,s)<0?r:n}function yn(){}function Yk({groupId:t,layout:e,paneDataArray:r}){const n=to(t);for(let s=0;s<r.length-1;s++){const{valueMax:i,valueMin:o,valueNow:a}=Vk({layout:e,panesArray:r,pivotIndices:[s,s+1]}),c=n[s];if(Xk(c)){const l=r[s];c.setAttribute("aria-controls",l.id),c.setAttribute("aria-valuemax",`${Math.round(i)}`),c.setAttribute("aria-valuemin",`${Math.round(o)}`),c.setAttribute("aria-valuenow",a!=null?`${Math.round(a)}`:"")}}return()=>{n.forEach(s=>{s.removeAttribute("aria-controls"),s.removeAttribute("aria-valuemax"),s.removeAttribute("aria-valuemin"),s.removeAttribute("aria-valuenow")})}}function to(t){return $a?Array.from(document.querySelectorAll(`[data-pane-resizer-id][data-pane-group-id="${t}"]`)):[]}function Zm(t,e){return $a?to(t).findIndex(s=>s.getAttribute("data-pane-resizer-id")===e)??null:null}function tp(t,e){const r=Zm(t,e);return r!=null?[r,r+1]:[-1,-1]}function Fn(t,e,r){const n=t.map(l=>l.constraints),s=Ln(t,e),i=n[s],a=s===t.length-1?[s-1,s]:[s,s+1],c=r[s];return{...i,paneSize:c,pivotIndices:a}}function Ln(t,e){return t.findIndex(r=>r.id===e.id)}function Fs(t,e,r){for(let n=0;n<e.length-1;n++){const s=e[n],i=t[n];it(i);const{callbacks:o,constraints:a,id:c}=i,{collapsedSize:l=0,collapsible:u}=a,f=r[c];if(!(f==null||s!==f))return;r[c]=s;const{onCollapse:h,onExpand:g,onResize:y}=o;y==null||y(s,f),u&&(h||g)&&(g&&(f==null||f===l)&&s!==l&&g(),h&&(f==null||f!==l)&&s===l&&h())}}function Qk({paneDataArray:t}){const e=Array(t.length),r=t.map(i=>i.constraints);let n=0,s=100;for(let i=0;i<t.length;i++){const o=r[i];it(o);const{defaultSize:a}=o;a!=null&&(n++,e[i]=a,s-=a)}for(let i=0;i<t.length;i++){const o=r[i];it(o);const{defaultSize:a}=o;if(a!=null)continue;const c=t.length-n,l=s/c;n++,e[i]=l,s-=l}return e}function Jk({layout:t,paneConstraints:e}){const r=[...t],n=r.reduce((i,o)=>i+o,0);if(r.length!==e.length)throw new Error(`Invalid ${e.length} pane layout: ${r.map(i=>`${i}%`).join(", ")}`);if(!Zt(n,100))for(let i=0;i<e.length;i++){const o=r[i];it(o!=null);const a=100/n*o;r[i]=a}let s=0;for(let i=0;i<e.length;i++){const o=r[i];it(o!=null);const a=qn({paneConstraints:e,paneIndex:i,initialSize:o});o!==a&&(s+=o-a,r[i]=a)}if(!Zt(s,0))for(let i=0;i<e.length;i++){const o=r[i];it(o!=null);const a=o+s,c=qn({paneConstraints:e,paneIndex:i,initialSize:a});if(o!==c&&(s-=c-o,r[i]=c,Zt(s,0)))break}return r}function eR(t){if(!$a)return null;const e=document.querySelector(`[data-pane-group][data-pane-group-id="${t}"]`);return e||null}function Yu(t){if(!$a)return null;const e=document.querySelector(`[data-pane-resizer-id="${t}"]`);return e||null}function tR(t,e,r,n){const s=r==="horizontal",i=Yu(e);it(i);const o=i.getAttribute("data-pane-group-id");it(o);const{initialCursorPosition:a}=n,c=Ym(r,t),l=eR(o);it(l);const u=l.getBoundingClientRect(),f=s?u.width:u.height;return(c-a)/f*100}function rR(t,e,r,n,s){if(Vm(t)){const i=r==="horizontal";let o=0;t.shiftKey?o=100:s!=null?o=s:o=10;let a=0;switch(t.key){case"ArrowDown":a=i?0:o;break;case"ArrowLeft":a=i?-o:0;break;case"ArrowRight":a=i?o:0;break;case"ArrowUp":a=i?0:-o;break;case"End":a=100;break;case"Home":a=-100;break}return a}else return n==null?0:tR(t,e,r,n)}function Ym(t,e){const r=t==="horizontal";if(Gm(e))return r?e.clientX:e.clientY;if(Xm(e)){const n=e.touches[0];return it(n),r?n.screenX:n.screenY}else throw new Error(`Unsupported event type "${e.type}"`)}function nR(t,e,r){var c,l;const n=Yu(e),s=to(t),i=n?s.indexOf(n):-1,o=((c=r[i])==null?void 0:c.id)??null,a=((l=r[i+1])==null?void 0:l.id)??null;return[o,a]}let rp=0;function jo(t="paneforge"){return rp++,`${t}-${rp}`}function np(t,e){return ay(t,e)}function sR(t,e){const r=t,n=typeof t=="symbol"?t.description:t;if(!cy(r)){if(e===void 0)throw new Error(`Missing context dependency: ${n} and no fallback was provided.`);return e}return ly(t)}function iR(t,e){return`${t}Context`}function oR(t,e,r=!0){const n=iR(t),s=Symbol(n),i=n;function o(c){const l=sR(r?s:i,c);if(l===void 0)throw new Error(`Context \`${n}\` not found. Component must be used within ${Array.isArray(t)?`one of the following components: ${t.join(", ")}`:`\`${t}\``}`);return l}function a(c){return np(r?s:i,c)}return[a,o]}function Os({delta:t,layout:e,paneConstraints:r,pivotIndices:n,trigger:s}){if(Zt(t,0))return e;const i=[...e],[o,a]=n;let c=0;if(s==="keyboard"){{const u=t<0?a:o,f=r[u];if(it(f),f.collapsible){const h=e[u];it(h!=null);const g=r[u];it(g);const{collapsedSize:y=0,minSize:A=0}=g;if(Zt(h,y)){const E=A-h;si(E,Math.abs(t))>0&&(t=t<0?0-E:E)}}}{const u=t<0?o:a,f=r[u];it(f);const{collapsible:h}=f;if(h){const g=e[u];it(g!=null);const y=r[u];it(y);const{collapsedSize:A=0,minSize:E=0}=y;if(Zt(g,E)){const m=g-A;si(m,Math.abs(t))>0&&(t=t<0?0-m:m)}}}}{const u=t<0?1:-1;let f=t<0?a:o,h=0;for(;;){const y=e[f];it(y!=null);const E=qn({paneConstraints:r,paneIndex:f,initialSize:100})-y;if(h+=E,f+=u,f<0||f>=r.length)break}const g=Math.min(Math.abs(t),Math.abs(h));t=t<0?0-g:g}{let f=t<0?o:a;for(;f>=0&&f<r.length;){const h=Math.abs(t)-Math.abs(c),g=e[f];it(g!=null);const y=g-h,A=qn({paneConstraints:r,paneIndex:f,initialSize:y});if(!Zt(g,A)&&(c+=g-A,i[f]=A,c.toPrecision(3).localeCompare(Math.abs(t).toPrecision(3),void 0,{numeric:!0})>=0))break;t<0?f--:f++}}if(Zt(c,0))return e;{const u=t<0?a:o,f=e[u];it(f!=null);const h=f+c,g=qn({paneConstraints:r,paneIndex:u,initialSize:h});if(i[u]=g,!Zt(g,h)){let y=h-g,E=t<0?a:o;for(;E>=0&&E<r.length;){const m=i[E];it(m!=null);const x=m+y,T=qn({paneConstraints:r,paneIndex:E,initialSize:x});if(Zt(m,T)||(y-=T-m,i[E]=T),Zt(y,0))break;t>0?E--:E++}}}const l=i.reduce((u,f)=>f+u,0);return Zt(l,100)?i:e}let Ml=null,an=null;function Qm(t){switch(t){case"horizontal":return"ew-resize";case"horizontal-max":return"w-resize";case"horizontal-min":return"e-resize";case"vertical":return"ns-resize";case"vertical-max":return"n-resize";case"vertical-min":return"s-resize"}}function aR(){an!==null&&(document.head.removeChild(an),Ml=null,an=null)}function fl(t){if(Ml===t)return;Ml=t;const e=Qm(t);an===null&&(an=document.createElement("style"),document.head.appendChild(an)),an.innerHTML=`*{cursor: ${e}!important;}`}function cR({defaultSize:t,dragState:e,layout:r,paneData:n,paneIndex:s,precision:i=3}){const o=r[s];let a;return o==null?a=t??"1":n.length===1?a="1":a=o.toPrecision(i),{flexBasis:0,flexGrow:a,flexShrink:1,overflow:"hidden",pointerEvents:e!==null?"none":void 0}}function sp(t){try{if(typeof localStorage>"u")throw new TypeError("localStorage is not supported in this environment");t.getItem=e=>localStorage.getItem(e),t.setItem=(e,r)=>localStorage.setItem(e,r)}catch(e){console.error(e),t.getItem=()=>null,t.setItem=()=>{}}}function Jm(t){return`paneforge:${t}`}function ey(t){return t.map(r=>{const{constraints:n,id:s,idIsFromProps:i,order:o}=r;return i?s:o?`${o}:${JSON.stringify(n)}`:JSON.stringify(n)}).sort().join(",")}function ty(t,e){try{const r=Jm(t),n=e.getItem(r),s=JSON.parse(n||"");if(typeof s=="object"&&s!==null)return s}catch{}return null}function lR(t,e,r){const n=ty(t,r)||{},s=ey(e);return n[s]||null}function uR(t,e,r,n,s){const i=Jm(t),o=ey(e),a=ty(t,s)||{};a[o]={expandToSizes:Object.fromEntries(r.entries()),layout:n};try{s.setItem(i,JSON.stringify(a))}catch(c){console.error(c)}}const ip={};function dR(t,e=10){let r=null;return(...s)=>{r!==null&&clearTimeout(r),r=setTimeout(()=>{t(...s)},e)}}function fR({autoSaveId:t,layout:e,storage:r,paneDataArray:n,paneSizeBeforeCollapse:s}){if(e.length===0||e.length!==n.length)return;let i=ip[t];i==null&&(i=dR(uR,Gk),ip[t]=i);const o=[...n],a=new Map(s);i(t,o,a,e,r)}const Us={getItem:t=>(sp(Us),Us.getItem(t)),setItem:(t,e)=>{sp(Us),Us.setItem(t,e)}};var wi,as,vi,Ar,cs,xi,Si,Ei,Ai,_i,Ci,ha,pa;class hR{constructor(e){z(this,"id");Q(this,wi);Q(this,as);z(this,"direction");Q(this,vi);Q(this,Ar);Q(this,cs);Q(this,xi,Oe(null));Q(this,Si,Oe([]));Q(this,Ei,Oe([]));Q(this,Ai,Oe(!1));Q(this,_i,Oe(Ee({})));z(this,"paneSizeBeforeCollapseMap",new Map);Q(this,Ci,Oe(0));z(this,"setLayout",e=>{this.layout=e});z(this,"registerResizeHandle",e=>r=>{var E,m;r.preventDefault();const n=this.direction.current,s=this.dragState,i=this.id.current,o=I(this,vi).current,a=this.layout,c=this.paneDataArray,{initialLayout:l}=s??{},u=tp(i,e);let f=rR(r,e,n,s,o);if(f===0)return;const h=n==="horizontal";document.dir==="rtl"&&h&&(f=-f);const g=c.map(x=>x.constraints),y=Os({delta:f,layout:l??a,paneConstraints:g,pivotIndices:u,trigger:Vm(r)?"keyboard":"mouse-or-touch"}),A=!Ds(a,y);(Gm(r)||Xm(r))&&this.prevDelta!==f&&(this.prevDelta=f,fl(A?h?"horizontal":"vertical":h?f<0?"horizontal-min":"horizontal-max":f<0?"vertical-min":"vertical-max")),A&&(this.setLayout(y),(m=(E=I(this,Ar)).current)==null||m.call(E,y),Fs(c,y,this.paneIdToLastNotifiedSizeMap))});z(this,"resizePane",(e,r)=>{var f,h;const n=this.layout,s=this.paneDataArray,i=s.map(g=>g.constraints),{paneSize:o,pivotIndices:a}=Fn(s,e,n);it(o!=null);const l=Ln(s,e)===s.length-1?o-r:r-o,u=Os({delta:l,layout:n,paneConstraints:i,pivotIndices:a,trigger:"imperative-api"});Ds(n,u)||(this.setLayout(u),(h=(f=I(this,Ar)).current)==null||h.call(f,u),Fs(s,u,this.paneIdToLastNotifiedSizeMap))});z(this,"startDragging",(e,r)=>{const n=this.direction.current,s=this.layout,i=Yu(e);it(i);const o=Ym(n,r);this.dragState={dragHandleId:e,dragHandleRect:i.getBoundingClientRect(),initialCursorPosition:o,initialLayout:s}});z(this,"stopDragging",()=>{aR(),this.dragState=null});z(this,"unregisterPane",e=>{const r=[...this.paneDataArray],n=Ln(r,e);n<0||(r.splice(n,1),this.paneDataArray=r,delete this.paneIdToLastNotifiedSizeMap[e.id],this.paneDataArrayChanged=!0)});z(this,"isPaneCollapsed",e=>{const r=this.paneDataArray,n=this.layout,{collapsedSize:s=0,collapsible:i,paneSize:o}=Fn(r,e,n);return i===!0&&o===s});z(this,"expandPane",e=>{var y,A;const r=this.layout,n=this.paneDataArray;if(!e.constraints.collapsible)return;const s=n.map(E=>E.constraints),{collapsedSize:i=0,paneSize:o,minSize:a=0,pivotIndices:c}=Fn(n,e,r);if(o!==i)return;const l=this.paneSizeBeforeCollapseMap.get(e.id),u=l!=null&&l>=a?l:a,h=Ln(n,e)===n.length-1?o-u:u-o,g=Os({delta:h,layout:r,paneConstraints:s,pivotIndices:c,trigger:"imperative-api"});Ds(r,g)||(this.setLayout(g),(A=(y=I(this,Ar)).current)==null||A.call(y,g),Fs(n,g,this.paneIdToLastNotifiedSizeMap))});z(this,"collapsePane",e=>{var f,h;const r=this.layout,n=this.paneDataArray;if(!e.constraints.collapsible)return;const s=n.map(g=>g.constraints),{collapsedSize:i=0,paneSize:o,pivotIndices:a}=Fn(n,e,r);if(it(o!=null),o===i)return;this.paneSizeBeforeCollapseMap.set(e.id,o);const l=Ln(n,e)===n.length-1?o-i:i-o,u=Os({delta:l,layout:r,paneConstraints:s,pivotIndices:a,trigger:"imperative-api"});Ds(r,u)||(this.layout=u,(h=(f=I(this,Ar)).current)==null||h.call(f,u),Fs(n,u,this.paneIdToLastNotifiedSizeMap))});z(this,"getPaneSize",e=>{const{paneSize:r}=Fn(this.paneDataArray,e,this.layout);return r});z(this,"getPaneStyle",(e,r)=>{const n=this.paneDataArray,s=this.layout,i=this.dragState,o=Ln(n,e);return cR({defaultSize:r,dragState:i,layout:s,paneData:n,paneIndex:o})});z(this,"isPaneExpanded",e=>{const{collapsedSize:r=0,collapsible:n,paneSize:s}=Fn(this.paneDataArray,e,this.layout);return!n||s>r});z(this,"registerPane",e=>{const r=[...this.paneDataArray,e];r.sort((n,s)=>{const i=n.order,o=s.order;return i==null&&o==null?0:i==null?-1:o==null?1:i-o}),this.paneDataArray=r,this.paneDataArrayChanged=!0});Q(this,ha,()=>{const e=this.id.current,r=to(e),n=this.paneDataArray,s=r.map(i=>{const o=i.getAttribute("data-pane-resizer-id");if(!o)return yn;const[a,c]=nR(e,o,n);if(a==null||c==null)return yn;const u=on(i,"keydown",f=>{if(f.defaultPrevented||f.key!=="Enter")return;f.preventDefault();const h=this.paneDataArray,g=h.findIndex(S=>S.id===a);if(g<0)return;const y=h[g];it(y);const A=this.layout,E=A[g],{collapsedSize:m=0,collapsible:x,minSize:T=0}=y.constraints;if(!(E!=null&&x))return;const b=Os({delta:Zt(E,m)?T-E:m-E,layout:A,paneConstraints:h.map(S=>S.constraints),pivotIndices:tp(e,o),trigger:"keyboard"});A!==b&&(this.layout=b)});return()=>{u()}});return()=>{for(const i of s)i()}});Q(this,pa,pe(()=>({id:this.id.current,"data-pane-group":"","data-direction":this.direction.current,"data-pane-group-id":this.id.current,style:{display:"flex",flexDirection:this.direction.current==="horizontal"?"row":"column",height:"100%",overflow:"hidden",width:"100%"}})));z(this,"createResizer",e=>new gR(e,this));z(this,"createPane",e=>new mR(e,this));this.id=e.id,me(this,wi,e.ref),me(this,as,e.autoSaveId),this.direction=e.direction,me(this,vi,e.keyboardResizeBy),me(this,Ar,e.onLayout),me(this,cs,e.storage),Xu({id:this.id,ref:I(this,wi)}),Yt(()=>{const r=this.id.current,n=this.layout,s=this.paneDataArray;Un(()=>Yk({groupId:r,layout:n,paneDataArray:s}))}),Yt(()=>{Un(()=>I(this,ha).call(this))}),Yt(()=>{const r=I(this,as).current,n=this.layout,s=I(this,cs).current;r&&Un(()=>{fR({autoSaveId:r,layout:n,storage:s,paneDataArray:this.paneDataArray,paneSizeBeforeCollapse:this.paneSizeBeforeCollapseMap})})}),Yt(()=>{this.paneDataArrayChanged&&Un(()=>{var l,u;this.paneDataArrayChanged=!1;const n=I(this,as).current,s=I(this,cs).current,i=this.layout,o=this.paneDataArray;let a=null;if(n){const f=lR(n,o,s);f&&(this.paneSizeBeforeCollapseMap=new Map(Object.entries(f.expandToSizes)),a=f.layout)}a==null&&(a=Qk({paneDataArray:o}));const c=Jk({layout:a,paneConstraints:o.map(f=>f.constraints)});Ds(i,c)||(this.layout=c,(u=(l=I(this,Ar)).current)==null||u.call(l,c),Fs(o,c,this.paneIdToLastNotifiedSizeMap))})})}get dragState(){return k(I(this,xi))}set dragState(e){J(I(this,xi),e)}get layout(){return k(I(this,Si))}set layout(e){J(I(this,Si),e)}get paneDataArray(){return k(I(this,Ei))}set paneDataArray(e){J(I(this,Ei),e)}get paneDataArrayChanged(){return k(I(this,Ai))}set paneDataArrayChanged(e){J(I(this,Ai),Ee(e))}get paneIdToLastNotifiedSizeMap(){return k(I(this,_i))}set paneIdToLastNotifiedSizeMap(e){J(I(this,_i),Ee(e))}get prevDelta(){return k(I(this,Ci))}set prevDelta(e){J(I(this,Ci),Ee(e))}get props(){return k(I(this,pa))}}wi=new WeakMap,as=new WeakMap,vi=new WeakMap,Ar=new WeakMap,cs=new WeakMap,xi=new WeakMap,Si=new WeakMap,Ei=new WeakMap,Ai=new WeakMap,_i=new WeakMap,Ci=new WeakMap,ha=new WeakMap,pa=new WeakMap;const pR=["ArrowDown","ArrowLeft","ArrowRight","ArrowUp","End","Home"];var nr,hn,$r,qr,ki,zt,Ri,ls,us,ga,ma,ya,ba,wa,va,xa,Sa,Ea;class gR{constructor(e,r){Q(this,nr);Q(this,hn);Q(this,$r);Q(this,qr);Q(this,ki);Q(this,zt);Q(this,Ri,pe(()=>{var e;return((e=I(this,zt).dragState)==null?void 0:e.dragHandleId)===I(this,nr).current}));Q(this,ls,Oe(!1));z(this,"resizeHandler",null);Q(this,us,()=>{const e=I(this,hn).current;e&&(e.blur(),I(this,zt).stopDragging(),I(this,$r).current(!1))});Q(this,ga,e=>{if(I(this,qr).current||!this.resizeHandler||e.defaultPrevented)return;if(pR.includes(e.key)){e.preventDefault(),this.resizeHandler(e);return}if(e.key!=="F6")return;e.preventDefault();const r=to(I(this,zt).id.current),n=Zm(I(this,zt).id.current,I(this,nr).current);if(n===null)return;let s=0;e.shiftKey?n>0?s=n-1:s=r.length-1:n+1<r.length?s=n+1:s=0,r[s].focus()});Q(this,ma,()=>{J(I(this,ls),!1)});Q(this,ya,()=>{J(I(this,ls),!0)});Q(this,ba,e=>{e.preventDefault(),I(this,zt).startDragging(I(this,nr).current,e),I(this,$r).current(!0)});Q(this,wa,()=>{I(this,us).call(this)});Q(this,va,()=>{I(this,us).call(this)});Q(this,xa,()=>{I(this,us).call(this)});Q(this,Sa,e=>{e.preventDefault(),I(this,zt).startDragging(I(this,nr).current,e),I(this,$r).current(!0)});Q(this,Ea,pe(()=>({id:I(this,nr).current,role:"separator","data-direction":I(this,zt).direction.current,"data-pane-group-id":I(this,zt).id.current,"data-active":k(I(this,Ri))?"pointer":k(I(this,ls))?"keyboard":void 0,"data-enabled":!I(this,qr).current,"data-pane-resizer-id":I(this,nr).current,"data-pane-resizer":"",tabIndex:I(this,ki).current,style:{cursor:Qm(I(this,zt).direction.current),touchAction:"none",userSelect:"none","-webkit-user-select":"none","-webkit-touch-callout":"none"},onkeydown:I(this,ga),onblur:I(this,ma),onfocus:I(this,ya),onmousedown:I(this,ba),onmouseup:I(this,wa),ontouchcancel:I(this,va),ontouchend:I(this,xa),ontouchstart:I(this,Sa)})));me(this,nr,e.id),me(this,hn,e.ref),me(this,zt,r),me(this,$r,e.onDraggingChange),me(this,qr,e.disabled),me(this,ki,e.tabIndex),Xu({id:I(this,nr),ref:I(this,hn)}),Yt(()=>{I(this,qr).current?this.resizeHandler=null:this.resizeHandler=I(this,zt).registerResizeHandle(I(this,nr).current)}),Yt(()=>{const n=I(this,hn).current;if(!n)return;const s=I(this,qr).current,i=this.resizeHandler,o=k(I(this,Ri));if(s||i===null||!o)return;const a=f=>{i(f)},c=f=>{i(f)},l=()=>{n.blur(),I(this,zt).stopDragging(),I(this,$r).current(!1)};return Wm(on(document.body,"contextmenu",l),on(document.body,"mousemove",a),on(document.body,"touchmove",a,{passive:!1}),on(document.body,"mouseleave",c),on(window,"mouseup",l),on(window,"touchend",l))})}get props(){return k(I(this,Ea))}}nr=new WeakMap,hn=new WeakMap,$r=new WeakMap,qr=new WeakMap,ki=new WeakMap,zt=new WeakMap,Ri=new WeakMap,ls=new WeakMap,us=new WeakMap,ga=new WeakMap,ma=new WeakMap,ya=new WeakMap,ba=new WeakMap,wa=new WeakMap,va=new WeakMap,xa=new WeakMap,Sa=new WeakMap,Ea=new WeakMap;var _r,Ti,Pi,Ii,ds,Bi,Mi,Ni,Di,Fi,Oi,$t,Xt,Li,Aa;class mR{constructor(e,r){Q(this,_r);Q(this,Ti);Q(this,Pi);Q(this,Ii);Q(this,ds);Q(this,Bi);Q(this,Mi);Q(this,Ni);Q(this,Di);Q(this,Fi);Q(this,Oi);Q(this,$t);Q(this,Xt,pe(()=>({callbacks:{onCollapse:I(this,Di).current,onExpand:I(this,Fi).current,onResize:I(this,Oi).current},constraints:{collapsedSize:I(this,Pi).current,collapsible:I(this,Ii).current,defaultSize:I(this,ds).current,maxSize:I(this,Bi).current,minSize:I(this,Mi).current},id:I(this,_r).current,idIsFromProps:!1,order:I(this,Ni).current})));z(this,"pane",{collapse:()=>{I(this,$t).collapsePane(k(I(this,Xt)))},expand:()=>I(this,$t).expandPane(k(I(this,Xt))),getSize:()=>I(this,$t).getPaneSize(k(I(this,Xt))),isCollapsed:()=>I(this,$t).isPaneCollapsed(k(I(this,Xt))),isExpanded:()=>I(this,$t).isPaneExpanded(k(I(this,Xt))),resize:e=>I(this,$t).resizePane(k(I(this,Xt)),e),getId:()=>I(this,_r).current});Q(this,Li,pe(()=>I(this,$t).isPaneCollapsed(k(I(this,Xt)))));Q(this,Aa,pe(()=>({id:I(this,_r).current,style:I(this,$t).getPaneStyle(k(I(this,Xt)),I(this,ds).current),"data-pane":"","data-pane-id":I(this,_r).current,"data-pane-group-id":I(this,$t).id.current,"data-collapsed":k(I(this,Li))?"":void 0,"data-expanded":k(I(this,Li))?void 0:""})));me(this,_r,e.id),me(this,Ti,e.ref),me(this,Pi,e.collapsedSize),me(this,Ii,e.collapsible),me(this,ds,e.defaultSize),me(this,Bi,e.maxSize),me(this,Mi,e.minSize),me(this,Ni,e.order),me(this,Di,e.onCollapse),me(this,Fi,e.onExpand),me(this,Oi,e.onResize),me(this,$t,r),Xu({id:I(this,_r),ref:I(this,Ti)}),Ll(()=>(I(this,$t).registerPane(k(I(this,Xt))),()=>{I(this,$t).unregisterPane(k(I(this,Xt)))}))}get props(){return k(I(this,Aa))}}_r=new WeakMap,Ti=new WeakMap,Pi=new WeakMap,Ii=new WeakMap,ds=new WeakMap,Bi=new WeakMap,Mi=new WeakMap,Ni=new WeakMap,Di=new WeakMap,Fi=new WeakMap,Oi=new WeakMap,$t=new WeakMap,Xt=new WeakMap,Li=new WeakMap,Aa=new WeakMap;const[yR,ry]=oR("PaneGroup");function bR(t){return yR(new hR(t))}function wR(t){return ry().createResizer(t)}function vR(t){return ry().createPane(t)}var xR=he("<div><!></div>");function SR(t,e){We(e,!0);let r=ne(e,"autoSaveId",3,null),n=ne(e,"id",19,jo),s=ne(e,"keyboardResizeBy",3,null),i=ne(e,"onLayoutChange",3,yn),o=ne(e,"storage",3,Us),a=ne(e,"ref",15,null),c=ct(e,["$$slots","$$events","$$legacy","autoSaveId","direction","id","keyboardResizeBy","onLayoutChange","storage","ref","child","children"]);const l=bR({id:$e.with(()=>n()??jo()),ref:$e.with(()=>a(),x=>a(x)),autoSaveId:$e.with(()=>r()),direction:$e.with(()=>e.direction),keyboardResizeBy:$e.with(()=>s()),onLayout:$e.with(()=>i()),storage:$e.with(()=>o())}),u=()=>l.layout,f=l.setLayout,h=()=>l.id.current,g=pe(()=>Gu(c,l.props));var y=be(),A=de(y);{var E=x=>{var T=be(),b=de(T);tt(b,()=>e.child,()=>({props:k(g)})),$(x,T)},m=x=>{var T=xR();let b;var S=ie(T);tt(S,()=>e.children??fr),se(T),je(()=>b=jt(T,b,{...k(g)})),$(x,T)};_e(A,x=>{e.child?x(E):x(m,!1)})}return $(t,y),Ke({getLayout:u,setLayout:f,getId:h})}var ER=he("<div><!></div>");function bo(t,e){We(e,!0);let r=ne(e,"id",19,jo),n=ne(e,"ref",15,null),s=ne(e,"onCollapse",3,yn),i=ne(e,"onExpand",3,yn),o=ne(e,"onResize",3,yn),a=ct(e,["$$slots","$$events","$$legacy","id","ref","collapsedSize","collapsible","defaultSize","maxSize","minSize","onCollapse","onExpand","onResize","order","child","children"]);const c=vR({id:$e.with(()=>r()),ref:$e.with(()=>n(),S=>n(S)),collapsedSize:$e.with(()=>e.collapsedSize),collapsible:$e.with(()=>e.collapsible),defaultSize:$e.with(()=>e.defaultSize),maxSize:$e.with(()=>e.maxSize),minSize:$e.with(()=>e.minSize),onCollapse:$e.with(()=>s()),onExpand:$e.with(()=>i()),onResize:$e.with(()=>o()),order:$e.with(()=>e.order)}),l=c.pane.collapse,u=c.pane.expand,f=c.pane.getSize,h=c.pane.isCollapsed,g=c.pane.isExpanded,y=c.pane.resize,A=c.pane.getId,E=pe(()=>Gu(a,c.props));var m=be(),x=de(m);{var T=S=>{var v=be(),N=de(v);tt(N,()=>e.child,()=>({props:k(E)})),$(S,v)},b=S=>{var v=ER();let N;var F=ie(v);tt(F,()=>e.children??fr),se(v),je(()=>N=jt(v,N,{...k(E)})),$(S,v)};_e(x,S=>{e.child?S(T):S(b,!1)})}return $(t,m),Ke({collapse:l,expand:u,getSize:f,isCollapsed:h,isExpanded:g,resize:y,getId:A})}var AR=he("<div><!></div>");function _R(t,e){We(e,!0);let r=ne(e,"id",19,jo),n=ne(e,"ref",15,null),s=ne(e,"disabled",3,!1),i=ne(e,"onDraggingChange",3,yn),o=ne(e,"tabIndex",3,0),a=ct(e,["$$slots","$$events","$$legacy","id","ref","disabled","onDraggingChange","tabIndex","child","children"]);const c=wR({id:$e.with(()=>r()),ref:$e.with(()=>n(),y=>n(y)),disabled:$e.with(()=>s()),onDraggingChange:$e.with(()=>i()),tabIndex:$e.with(()=>o())}),l=pe(()=>Gu(a,c.props));var u=be(),f=de(u);{var h=y=>{var A=be(),E=de(A);tt(E,()=>e.child,()=>({props:k(l)})),$(y,A)},g=y=>{var A=AR();let E;var m=ie(A);tt(m,()=>e.children??fr),se(A),je(()=>E=jt(A,E,{...k(l)})),$(y,A)};_e(f,y=>{e.child?y(h):y(g,!1)})}$(t,u),Ke()}var CR=he('<div class="bg-border z-10 flex h-4 w-3 items-center justify-center rounded-sm border"><!></div>');function op(t,e){We(e,!0);let r=ne(e,"ref",15,null),n=ne(e,"withHandle",3,!1),s=ne(e,"direction",3,"horizontal"),i=ct(e,["$$slots","$$events","$$legacy","ref","class","withHandle","direction"]);var o=be(),a=de(o),c=pe(()=>cr("bg-border focus-visible:ring-ring relative flex w-px items-center justify-center after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-offset-1 data-[direction=vertical]:h-px data-[direction=vertical]:w-full data-[direction=vertical]:after:left-0 data-[direction=vertical]:after:h-1 data-[direction=vertical]:after:w-full data-[direction=vertical]:after:-translate-y-1/2 data-[direction=vertical]:after:translate-x-0 [&[data-direction=vertical]>div]:rotate-90",e.class));at(a,()=>_R,(l,u)=>{u(l,Ht({get class(){return k(c)}},()=>i,{get ref(){return r()},set ref(f){r(f)},children:(f,h)=>{var g=be(),y=de(g);{var A=E=>{var m=CR(),x=ie(m);{var T=S=>{j0(S,{class:"size-2.5"})},b=S=>{W0(S,{class:"size-2.5"})};_e(x,S=>{s()==="vertical"?S(T):S(b,!1)})}se(m),$(E,m)};_e(y,E=>{n()&&E(A)})}$(f,g)},$$slots:{default:!0}}))}),$(t,o),Ke()}function ap(t,e){We(e,!0),ne(e,"ref",11,null);let r=ne(e,"this",15),n=ct(e,["$$slots","$$events","$$legacy","ref","this","class"]);var s=be(),i=de(s),o=pe(()=>cr("flex h-full w-full data-[direction=vertical]:flex-col",e.class));at(i,()=>SR,(a,c)=>{fs(c(a,Ht({get class(){return k(o)}},()=>n)),l=>r(l),()=>r())}),$(t,s),Ke()}var kR=he('<div class="h-full"><!></div>'),RR=he('<div class="flex h-full items-center justify-center p-6"><!></div>'),TR=he("<!> <!> <!>",1),PR=he('<div class="h-full"><!></div>'),IR=he('<div class="flex h-full items-center justify-center p-6"><!></div>'),BR=he("<!> <!> <!>",1),MR=he('<div class="h-full"><!></div>'),NR=he('<div class="flex flex-col h-full w-full"><!></div>');function t2(t,e){We(e,!0);const[r,n]=wp(),s=()=>zs(mp,"$bottomViewVisible",r),i=()=>zs(gp,"$fileManagerVisible",r),o=()=>zs(wo,"$sideViewVisible",r);var a=NR(),c=ie(a);{var l=f=>{var h=be(),g=de(h);at(g,()=>ap,(y,A)=>{A(y,{direction:"vertical",class:"rounded-lg h-full",children:(E,m)=>{var x=TR(),T=de(x);at(T,()=>bo,(v,N)=>{N(v,{defaultSize:60,class:"min-h-32",children:(F,D)=>{var ee=kR(),Y=ie(ee);tt(Y,()=>e.leftbar),se(ee),$(F,ee)},$$slots:{default:!0}})});var b=Ce(T,2);at(b,()=>op,(v,N)=>{N(v,{direction:"vertical",class:"border border-slate-300",withHandle:!0})});var S=Ce(b,2);at(S,()=>bo,(v,N)=>{N(v,{defaultSize:40,class:"min-h-32",children:(F,D)=>{var ee=RR(),Y=ie(ee);tt(Y,()=>e.rightbar),se(ee),$(F,ee)},$$slots:{default:!0}})}),$(E,x)},$$slots:{default:!0}})}),$(f,h)},u=f=>{var h=be(),g=de(h);{var y=E=>{var m=be(),x=de(m);at(x,()=>ap,(T,b)=>{b(T,{direction:"horizontal",class:"rounded-lg h-full",children:(S,v)=>{var N=BR(),F=de(N);at(F,()=>bo,(Y,q)=>{q(Y,{defaultSize:30,class:"min-w-32",children:(ue,Z)=>{var ke=PR(),ye=ie(ke);tt(ye,()=>e.leftbar),se(ke),$(ue,ke)},$$slots:{default:!0}})});var D=Ce(F,2);at(D,()=>op,(Y,q)=>{q(Y,{direction:"horizontal",class:"border border-slate-300",withHandle:!0})});var ee=Ce(D,2);at(ee,()=>bo,(Y,q)=>{q(Y,{defaultSize:70,class:"min-w-32",children:(ue,Z)=>{var ke=IR(),ye=ie(ke);tt(ye,()=>e.rightbar),se(ke),$(ue,ke)},$$slots:{default:!0}})}),$(S,N)},$$slots:{default:!0}})}),$(E,m)},A=E=>{var m=MR(),x=ie(m);tt(x,()=>e.leftbar),se(m),$(E,m)};_e(g,E=>{o()&&!i()?E(y):E(A,!1)},!0)}$(f,h)};_e(c,f=>{s()&&!i()?f(l):f(u,!1)})}se(a),$(t,a),Ke(),n()}var DR=he('<section class="size-full overflow-auto p-1"><iframe class="size-full" title="display" id="display" src="/display"></iframe></section>');function r2(t,e){ne(e,"displayResponse",15)(o=>{var a,c;return(c=(a=k(n))==null?void 0:a.contentWindow)==null?void 0:c.postMessage(o)});let n=Oe(void 0);var s=DR(),i=ie(s);fs(i,o=>J(n,o),()=>k(n)),se(s),$(t,s)}export{e2 as C,r2 as D,t2 as M};
